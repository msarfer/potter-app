var pM=Object.defineProperty;var gM=(t,e,n)=>e in t?pM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xa=(t,e,n)=>gM(t,typeof e!="symbol"?e+"":e,n);function vM(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Km={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function yM(){if(CE)return _l;CE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var TE;function _M(){return TE||(TE=1,Km.exports=yM()),Km.exports}var b=_M(),Xm={exports:{}},bl={},Qm={exports:{}},Zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function bM(){return RE||(RE=1,function(t){function e(G,ee){var V=G.length;G.push(ee);e:for(;0<V;){var X=V-1>>>1,M=G[X];if(0<a(M,ee))G[X]=ee,G[V]=M,V=X;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var ee=G[0],V=G.pop();if(V!==ee){G[0]=V;e:for(var X=0,M=G.length,F=M>>>1;X<F;){var ie=2*(X+1)-1,oe=G[ie],J=ie+1,_e=G[J];if(0>a(oe,V))J<M&&0>a(_e,oe)?(G[X]=_e,G[J]=V,X=J):(G[X]=oe,G[ie]=V,X=ie);else if(J<M&&0>a(_e,V))G[X]=_e,G[J]=V,X=J;else break e}}return ee}function a(G,ee){var V=G.sortIndex-ee.sortIndex;return V!==0?V:G.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],m=[],g=1,v=null,y=3,S=!1,w=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(G){for(var ee=n(m);ee!==null;){if(ee.callback===null)i(m);else if(ee.startTime<=G)i(m),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(m)}}function P(G){if(C=!1,N(G),!w)if(n(d)!==null)w=!0,se();else{var ee=n(m);ee!==null&&ye(P,ee.startTime-G)}}var O=!1,H=-1,W=5,Y=-1;function q(){return!(t.unstable_now()-Y<W)}function Z(){if(O){var G=t.unstable_now();Y=G;var ee=!0;try{e:{w=!1,C&&(C=!1,R(H),H=-1),S=!0;var V=y;try{t:{for(N(G),v=n(d);v!==null&&!(v.expirationTime>G&&q());){var X=v.callback;if(typeof X=="function"){v.callback=null,y=v.priorityLevel;var M=X(v.expirationTime<=G);if(G=t.unstable_now(),typeof M=="function"){v.callback=M,N(G),ee=!0;break t}v===n(d)&&i(d),N(G)}else i(d);v=n(d)}if(v!==null)ee=!0;else{var F=n(m);F!==null&&ye(P,F.startTime-G),ee=!1}}break e}finally{v=null,y=V,S=!1}ee=void 0}}finally{ee?me():O=!1}}}var me;if(typeof I=="function")me=function(){I(Z)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ge=Ae.port2;Ae.port1.onmessage=Z,me=function(){ge.postMessage(null)}}else me=function(){T(Z,0)};function se(){O||(O=!0,me())}function ye(G,ee){H=T(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){w||S||(w=!0,se())},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var V=y;y=ee;try{return G()}finally{y=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var V=y;y=G;try{return ee()}finally{y=V}},t.unstable_scheduleCallback=function(G,ee,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=V+M,G={id:g++,callback:ee,priorityLevel:G,startTime:V,expirationTime:M,sortIndex:-1},V>X?(G.sortIndex=V,e(m,G),n(d)===null&&G===n(m)&&(C?(R(H),H=-1):C=!0,ye(P,V-X))):(G.sortIndex=M,e(d,G),w||S||(w=!0,se())),G},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(G){var ee=y;return function(){var V=y;y=ee;try{return G.apply(this,arguments)}finally{y=V}}}}(Zm)),Zm}var AE;function EM(){return AE||(AE=1,Qm.exports=bM()),Qm.exports}var Jm={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function SM(){if(NE)return be;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function T(M,F,ie){this.props=M,this.context=F,this.refs=C,this.updater=ie||S}T.prototype.isReactComponent={},T.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=T.prototype;function I(M,F,ie){this.props=M,this.context=F,this.refs=C,this.updater=ie||S}var N=I.prototype=new R;N.constructor=I,w(N,T.prototype),N.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function W(M,F,ie,oe,J,_e){return ie=_e.ref,{$$typeof:t,type:M,key:F,ref:ie!==void 0?ie:null,props:_e}}function Y(M,F){return W(M.type,F,void 0,void 0,void 0,M.props)}function q(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function Z(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return F[ie]})}var me=/\/+/g;function Ae(M,F){return typeof M=="object"&&M!==null&&M.key!=null?Z(""+M.key):F.toString(36)}function ge(){}function se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ge,ge):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ye(M,F,ie,oe,J){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var ue=!1;if(M===null)ue=!0;else switch(_e){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(M.$$typeof){case t:case e:ue=!0;break;case g:return ue=M._init,ye(ue(M._payload),F,ie,oe,J)}}if(ue)return J=J(M),ue=oe===""?"."+Ae(M,0):oe,P(J)?(ie="",ue!=null&&(ie=ue.replace(me,"$&/")+"/"),ye(J,F,ie,"",function(xe){return xe})):J!=null&&(q(J)&&(J=Y(J,ie+(J.key==null||M&&M.key===J.key?"":(""+J.key).replace(me,"$&/")+"/")+ue)),F.push(J)),1;ue=0;var He=oe===""?".":oe+":";if(P(M))for(var Se=0;Se<M.length;Se++)oe=M[Se],_e=He+Ae(oe,Se),ue+=ye(oe,F,ie,_e,J);else if(Se=y(M),typeof Se=="function")for(M=Se.call(M),Se=0;!(oe=M.next()).done;)oe=oe.value,_e=He+Ae(oe,Se++),ue+=ye(oe,F,ie,_e,J);else if(_e==="object"){if(typeof M.then=="function")return ye(se(M),F,ie,oe,J);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ue}function G(M,F,ie){if(M==null)return M;var oe=[],J=0;return ye(M,oe,"","",function(_e){return F.call(ie,_e,J++)}),oe}function ee(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var V=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function X(){}return be.Children={map:G,forEach:function(M,F,ie){G(M,function(){F.apply(this,arguments)},ie)},count:function(M){var F=0;return G(M,function(){F++}),F},toArray:function(M){return G(M,function(F){return F})||[]},only:function(M){if(!q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},be.Component=T,be.Fragment=n,be.Profiler=a,be.PureComponent=I,be.StrictMode=i,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,be.act=function(){throw Error("act(...) is not supported in production builds of React.")},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cloneElement=function(M,F,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=w({},M.props),J=M.key,_e=void 0;if(F!=null)for(ue in F.ref!==void 0&&(_e=void 0),F.key!==void 0&&(J=""+F.key),F)!H.call(F,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&F.ref===void 0||(oe[ue]=F[ue]);var ue=arguments.length-2;if(ue===1)oe.children=ie;else if(1<ue){for(var He=Array(ue),Se=0;Se<ue;Se++)He[Se]=arguments[Se+2];oe.children=He}return W(M.type,J,void 0,void 0,_e,oe)},be.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},be.createElement=function(M,F,ie){var oe,J={},_e=null;if(F!=null)for(oe in F.key!==void 0&&(_e=""+F.key),F)H.call(F,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(J[oe]=F[oe]);var ue=arguments.length-2;if(ue===1)J.children=ie;else if(1<ue){for(var He=Array(ue),Se=0;Se<ue;Se++)He[Se]=arguments[Se+2];J.children=He}if(M&&M.defaultProps)for(oe in ue=M.defaultProps,ue)J[oe]===void 0&&(J[oe]=ue[oe]);return W(M,_e,void 0,void 0,null,J)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:f,render:M}},be.isValidElement=q,be.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ee}},be.memo=function(M,F){return{$$typeof:m,type:M,compare:F===void 0?null:F}},be.startTransition=function(M){var F=O.T,ie={};O.T=ie;try{var oe=M(),J=O.S;J!==null&&J(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(X,V)}catch(_e){V(_e)}finally{O.T=F}},be.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},be.use=function(M){return O.H.use(M)},be.useActionState=function(M,F,ie){return O.H.useActionState(M,F,ie)},be.useCallback=function(M,F){return O.H.useCallback(M,F)},be.useContext=function(M){return O.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,F){return O.H.useDeferredValue(M,F)},be.useEffect=function(M,F){return O.H.useEffect(M,F)},be.useId=function(){return O.H.useId()},be.useImperativeHandle=function(M,F,ie){return O.H.useImperativeHandle(M,F,ie)},be.useInsertionEffect=function(M,F){return O.H.useInsertionEffect(M,F)},be.useLayoutEffect=function(M,F){return O.H.useLayoutEffect(M,F)},be.useMemo=function(M,F){return O.H.useMemo(M,F)},be.useOptimistic=function(M,F){return O.H.useOptimistic(M,F)},be.useReducer=function(M,F,ie){return O.H.useReducer(M,F,ie)},be.useRef=function(M){return O.H.useRef(M)},be.useState=function(M){return O.H.useState(M)},be.useSyncExternalStore=function(M,F,ie){return O.H.useSyncExternalStore(M,F,ie)},be.useTransition=function(){return O.H.useTransition()},be.version="19.0.0",be}var OE;function ad(){return OE||(OE=1,Jm.exports=SM()),Jm.exports}var ep={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function wM(){if(ME)return Dt;ME=1;var t=ad();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dt.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},Dt.flushSync=function(d){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=g,i.d.f()}},Dt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Dt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Dt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:S}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Dt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dt.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Dt.requestFormReset=function(d){i.d.r(d)},Dt.unstable_batchedUpdates=function(d,m){return d(m)},Dt.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},Dt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dt.version="19.0.0",Dt}var IE;function cx(){if(IE)return ep.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=wM(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function xM(){if(DE)return bl;DE=1;var t=EM(),e=ad(),n=cx();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case d:return"Fragment";case f:return"Portal";case g:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case y:return(r._context.displayName||"Context")+".Consumer";case w:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return s=r.displayName||null,s!==null?s:Y(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return Y(r(s))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.assign,me,Ae;function ge(r){if(me===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);me=s&&s[1]||"",Ae=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+r+Ae}var se=!1;function ye(r,s){if(!r||se)return"";se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var j=B}Reflect.construct(r,[],K)}else{try{K.call()}catch(B){j=B}r.call(K.prototype)}}else{try{throw Error()}catch(B){j=B}(K=r())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),E=p[0],x=p[1];if(E&&x){var A=E.split(`
`),k=x.split(`
`);for(h=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(c===A.length||h===k.length)for(c=A.length-1,h=k.length-1;1<=c&&0<=h&&A[c]!==k[h];)h--;for(;1<=c&&0<=h;c--,h--)if(A[c]!==k[h]){if(c!==1||h!==1)do if(c--,h--,0>h||A[c]!==k[h]){var z=`
`+A[c].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=c&&0<=h);break}}}finally{se=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ge(o):""}function G(r){switch(r.tag){case 26:case 27:case 5:return ge(r.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function ee(r){try{var s="";do s+=G(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function V(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function X(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function M(r){if(V(r)!==r)throw Error(i(188))}function F(r){var s=r.alternate;if(!s){if(s=V(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return M(h),r;if(p===c)return M(h),s;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=p;else{for(var E=!1,x=h.child;x;){if(x===o){E=!0,o=h,c=p;break}if(x===c){E=!0,c=h,o=p;break}x=x.sibling}if(!E){for(x=p.child;x;){if(x===o){E=!0,o=p,c=h;break}if(x===c){E=!0,c=p,o=h;break}x=x.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function ie(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=ie(r),s!==null)return s;r=r.sibling}return null}var oe=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ue=[],He=-1;function Se(r){return{current:r}}function xe(r){0>He||(r.current=ue[He],ue[He]=null,He--)}function Be(r,s){He++,ue[He]=r.current,r.current=s}var Wt=Se(null),Vr=Se(null),zt=Se(null),qi=Se(null);function Fs(r,s){switch(Be(zt,s),Be(Vr,r),Be(Wt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?eE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=eE(r),s=tE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(Wt),Be(Wt,s)}function $r(){xe(Wt),xe(Vr),xe(zt)}function So(r){r.memoizedState!==null&&Be(qi,r);var s=Wt.current,o=tE(s,r.type);s!==o&&(Be(Vr,r),Be(Wt,o))}function zs(r){Vr.current===r&&(xe(Wt),xe(Vr)),qi.current===r&&(xe(qi),ml._currentValue=_e)}var qr=Object.prototype.hasOwnProperty,zd=t.unstable_scheduleCallback,Gd=t.unstable_cancelCallback,W1=t.unstable_shouldYield,Y1=t.unstable_requestPaint,Vn=t.unstable_now,K1=t.unstable_getCurrentPriorityLevel,Gy=t.unstable_ImmediatePriority,Vy=t.unstable_UserBlockingPriority,Mc=t.unstable_NormalPriority,X1=t.unstable_LowPriority,$y=t.unstable_IdlePriority,Q1=t.log,Z1=t.unstable_setDisableYieldValue,wo=null,Yt=null;function J1(r){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(wo,r,void 0,(r.current.flags&128)===128)}catch{}}function Wr(r){if(typeof Q1=="function"&&Z1(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(wo,r)}catch{}}var Kt=Math.clz32?Math.clz32:nN,eN=Math.log,tN=Math.LN2;function nN(r){return r>>>=0,r===0?32:31-(eN(r)/tN|0)|0}var Ic=128,Dc=4194304;function Wi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function kc(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,p=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var x=o&134217727;return x!==0?(o=x&~h,o!==0?c=Wi(o):(p&=x,p!==0?c=Wi(p):r||(E=x&~E,E!==0&&(c=Wi(E))))):(x=o&~h,x!==0?c=Wi(x):p!==0?c=Wi(p):r||(E=o&~E,E!==0&&(c=Wi(E)))),c===0?0:s!==0&&s!==c&&!(s&h)&&(h=c&-c,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:c}function xo(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function rN(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qy(){var r=Ic;return Ic<<=1,!(Ic&4194176)&&(Ic=128),r}function Wy(){var r=Dc;return Dc<<=1,!(Dc&62914560)&&(Dc=4194304),r}function Vd(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Co(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function iN(r,s,o,c,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,A=r.expirationTimes,k=r.hiddenUpdates;for(o=E&~o;0<o;){var z=31-Kt(o),K=1<<z;x[z]=0,A[z]=-1;var j=k[z];if(j!==null)for(k[z]=null,z=0;z<j.length;z++){var B=j[z];B!==null&&(B.lane&=-536870913)}o&=~K}c!==0&&Yy(r,c,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function Yy(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Kt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function Ky(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Kt(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function Xy(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Qy(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:_E(r.type))}function sN(r,s){var o=J.p;try{return J.p=r,s()}finally{J.p=o}}var Yr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Yr,Gt="__reactProps$"+Yr,Gs="__reactContainer$"+Yr,$d="__reactEvents$"+Yr,aN="__reactListeners$"+Yr,oN="__reactHandles$"+Yr,Zy="__reactResources$"+Yr,To="__reactMarker$"+Yr;function qd(r){delete r[Mt],delete r[Gt],delete r[$d],delete r[aN],delete r[oN]}function Yi(r){var s=r[Mt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Gs]||o[Mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=iE(r);r!==null;){if(o=r[Mt])return o;r=iE(r)}return s}r=o,o=r.parentNode}return null}function Vs(r){if(r=r[Mt]||r[Gs]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ro(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function $s(r){var s=r[Zy];return s||(s=r[Zy]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[To]=!0}var Jy=new Set,e_={};function Ki(r,s){qs(r,s),qs(r+"Capture",s)}function qs(r,s){for(e_[r]=s,r=0;r<s.length;r++)Jy.add(s[r])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),t_={},n_={};function cN(r){return qr.call(n_,r)?!0:qr.call(t_,r)?!1:lN.test(r)?n_[r]=!0:(t_[r]=!0,!1)}function Pc(r,s,o){if(cN(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Lc(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function lr(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function r_(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uN(r){var s=r_(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Uc(r){r._valueTracker||(r._valueTracker=uN(r))}function i_(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=r_(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function jc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var fN=/[\n"\\]/g;function ln(r){return r.replace(fN,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wd(r,s,o,c,h,p,E,x){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+on(s)):r.value!==""+on(s)&&(r.value=""+on(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Yd(r,E,on(s)):o!=null?Yd(r,E,on(o)):c!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+on(x):r.removeAttribute("name")}function s_(r,s,o,c,h,p,E,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+on(o):"",s=s!=null?""+on(s):o,x||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Yd(r,s,o){s==="number"&&jc(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ws(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+on(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function a_(r,s,o){if(s!=null&&(s=""+on(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+on(o):""}function o_(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(oe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=on(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Ys(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var dN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function l_(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||dN.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function c_(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&l_(r,h,c)}else for(var p in s)s.hasOwnProperty(p)&&l_(r,p,s[p])}function Kd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(r){return mN.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xd=null;function Qd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ks=null,Xs=null;function u_(r){var s=Vs(r);if(s&&(r=s.stateNode)){var o=r[Gt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Wd(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ln(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[Gt]||null;if(!h)throw Error(i(90));Wd(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&i_(c)}break e;case"textarea":a_(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ws(r,!!o.multiple,s,!1)}}}var Zd=!1;function f_(r,s,o){if(Zd)return r(s,o);Zd=!0;try{var c=r(s);return c}finally{if(Zd=!1,(Ks!==null||Xs!==null)&&(Su(),Ks&&(s=Ks,r=Xs,Xs=Ks=null,u_(s),r)))for(s=0;s<r.length;s++)u_(r[s])}}function Ao(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Jd=!1;if(or)try{var No={};Object.defineProperty(No,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Jd=!1}var Kr=null,eh=null,Bc=null;function d_(){if(Bc)return Bc;var r,s=eh,o=s.length,c,h="value"in Kr?Kr.value:Kr.textContent,p=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(c=1;c<=E&&s[o-c]===h[p-c];c++);return Bc=h.slice(r,1<c?1-c:void 0)}function Fc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function zc(){return!0}function h_(){return!1}function Vt(r){function s(o,c,h,p,E){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?zc:h_,this.isPropagationStopped=h_,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Vt(Xi),Oo=Z({},Xi,{view:0,detail:0}),pN=Vt(Oo),th,nh,Mo,Vc=Z({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mo&&(Mo&&r.type==="mousemove"?(th=r.screenX-Mo.screenX,nh=r.screenY-Mo.screenY):nh=th=0,Mo=r),th)},movementY:function(r){return"movementY"in r?r.movementY:nh}}),m_=Vt(Vc),gN=Z({},Vc,{dataTransfer:0}),vN=Vt(gN),yN=Z({},Oo,{relatedTarget:0}),rh=Vt(yN),_N=Z({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),bN=Vt(_N),EN=Z({},Xi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),SN=Vt(EN),wN=Z({},Xi,{data:0}),p_=Vt(wN),xN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RN(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=TN[r])?!!s[r]:!1}function ih(){return RN}var AN=Z({},Oo,{key:function(r){if(r.key){var s=xN[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?CN[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(r){return r.type==="keypress"?Fc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),NN=Vt(AN),ON=Z({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g_=Vt(ON),MN=Z({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),IN=Vt(MN),DN=Z({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=Vt(DN),PN=Z({},Vc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),LN=Vt(PN),UN=Z({},Xi,{newState:0,oldState:0}),jN=Vt(UN),HN=[9,13,27,32],sh=or&&"CompositionEvent"in window,Io=null;or&&"documentMode"in document&&(Io=document.documentMode);var BN=or&&"TextEvent"in window&&!Io,v_=or&&(!sh||Io&&8<Io&&11>=Io),y_=" ",__=!1;function b_(r,s){switch(r){case"keyup":return HN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E_(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qs=!1;function FN(r,s){switch(r){case"compositionend":return E_(s);case"keypress":return s.which!==32?null:(__=!0,y_);case"textInput":return r=s.data,r===y_&&__?null:r;default:return null}}function zN(r,s){if(Qs)return r==="compositionend"||!sh&&b_(r,s)?(r=d_(),Bc=eh=Kr=null,Qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v_&&s.locale!=="ko"?null:s.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!GN[r.type]:s==="textarea"}function w_(r,s,o,c){Ks?Xs?Xs.push(c):Xs=[c]:Ks=c,s=Ru(s,"onChange"),0<s.length&&(o=new Gc("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Do=null,ko=null;function VN(r){K0(r,0)}function $c(r){var s=Ro(r);if(i_(s))return r}function x_(r,s){if(r==="change")return s}var C_=!1;if(or){var ah;if(or){var oh="oninput"in document;if(!oh){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),oh=typeof T_.oninput=="function"}ah=oh}else ah=!1;C_=ah&&(!document.documentMode||9<document.documentMode)}function R_(){Do&&(Do.detachEvent("onpropertychange",A_),ko=Do=null)}function A_(r){if(r.propertyName==="value"&&$c(ko)){var s=[];w_(s,ko,r,Qd(r)),f_(VN,s)}}function $N(r,s,o){r==="focusin"?(R_(),Do=s,ko=o,Do.attachEvent("onpropertychange",A_)):r==="focusout"&&R_()}function qN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $c(ko)}function WN(r,s){if(r==="click")return $c(s)}function YN(r,s){if(r==="input"||r==="change")return $c(s)}function KN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xt=typeof Object.is=="function"?Object.is:KN;function Po(r,s){if(Xt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!qr.call(s,h)||!Xt(r[h],s[h]))return!1}return!0}function N_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function O_(r,s){var o=N_(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=N_(o)}}function M_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?M_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function I_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=jc(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=jc(r.document)}return s}function lh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function XN(r,s){var o=I_(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&M_(s.ownerDocument.documentElement,s)){if(c!==null&&lh(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!o.extend&&p>c&&(h=c,c=p,p=h),h=O_(s,p);var E=O_(s,c);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),p>c?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var QN=or&&"documentMode"in document&&11>=document.documentMode,Zs=null,ch=null,Lo=null,uh=!1;function D_(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uh||Zs==null||Zs!==jc(c)||(c=Zs,"selectionStart"in c&&lh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lo&&Po(Lo,c)||(Lo=c,c=Ru(ch,"onSelect"),0<c.length&&(s=new Gc("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Zs)))}function Qi(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Js={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},fh={},k_={};or&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Zi(r){if(fh[r])return fh[r];if(!Js[r])return r;var s=Js[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in k_)return fh[r]=s[o];return r}var P_=Zi("animationend"),L_=Zi("animationiteration"),U_=Zi("animationstart"),ZN=Zi("transitionrun"),JN=Zi("transitionstart"),eO=Zi("transitioncancel"),j_=Zi("transitionend"),H_=new Map,B_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Cn(r,s){H_.set(r,s),Ki(s,[r])}var cn=[],ea=0,dh=0;function qc(){for(var r=ea,s=dh=ea=0;s<r;){var o=cn[s];cn[s++]=null;var c=cn[s];cn[s++]=null;var h=cn[s];cn[s++]=null;var p=cn[s];if(cn[s++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}p!==0&&F_(o,h,p)}}function Wc(r,s,o,c){cn[ea++]=r,cn[ea++]=s,cn[ea++]=o,cn[ea++]=c,dh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function hh(r,s,o,c){return Wc(r,s,o,c),Yc(r)}function Xr(r,s){return Wc(r,null,null,s),Yc(r)}function F_(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;h&&s!==null&&r.tag===3&&(p=r.stateNode,h=31-Kt(o),p=p.hiddenUpdates,r=p[h],r===null?p[h]=[s]:r.push(s),s.lane=o|536870912)}function Yc(r){if(50<ol)throw ol=0,_m=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ta={},z_=new WeakMap;function un(r,s){if(typeof r=="object"&&r!==null){var o=z_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ee(s)},z_.set(r,s),s)}return{value:r,source:s,stack:ee(s)}}var na=[],ra=0,Kc=null,Xc=0,fn=[],dn=0,Ji=null,cr=1,ur="";function es(r,s){na[ra++]=Xc,na[ra++]=Kc,Kc=r,Xc=s}function G_(r,s,o){fn[dn++]=cr,fn[dn++]=ur,fn[dn++]=Ji,Ji=r;var c=cr;r=ur;var h=32-Kt(c)-1;c&=~(1<<h),o+=1;var p=32-Kt(s)+h;if(30<p){var E=h-h%5;p=(c&(1<<E)-1).toString(32),c>>=E,h-=E,cr=1<<32-Kt(s)+h|o<<h|c,ur=p+r}else cr=1<<p|o<<h|c,ur=r}function mh(r){r.return!==null&&(es(r,1),G_(r,1,0))}function ph(r){for(;r===Kc;)Kc=na[--ra],na[ra]=null,Xc=na[--ra],na[ra]=null;for(;r===Ji;)Ji=fn[--dn],fn[dn]=null,ur=fn[--dn],fn[dn]=null,cr=fn[--dn],fn[dn]=null}var kt=null,xt=null,Le=!1,Tn=null,$n=!1,gh=Error(i(519));function ts(r){var s=Error(i(418,""));throw Ho(un(s,r)),gh}function V_(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Mt]=r,s[Gt]=c,o){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ie(cl[o],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Ie("invalid",s),s_(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Uc(s);break;case"select":Ie("invalid",s);break;case"textarea":Ie("invalid",s),o_(s,c.value,c.defaultValue,c.children),Uc(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||J0(s.textContent,o)?(c.popover!=null&&(Ie("beforetoggle",s),Ie("toggle",s)),c.onScroll!=null&&Ie("scroll",s),c.onScrollEnd!=null&&Ie("scrollend",s),c.onClick!=null&&(s.onclick=Au),s=!0):s=!1,s||ts(r)}function $_(r){for(kt=r.return;kt;)switch(kt.tag){case 3:case 27:$n=!0;return;case 5:case 13:$n=!1;return;default:kt=kt.return}}function Uo(r){if(r!==kt)return!1;if(!Le)return $_(r),Le=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&xt&&ts(r),$_(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){xt=An(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}xt=null}}else xt=kt?An(r.stateNode.nextSibling):null;return!0}function jo(){xt=kt=null,Le=!1}function Ho(r){Tn===null?Tn=[r]:Tn.push(r)}var Bo=Error(i(460)),q_=Error(i(474)),vh={then:function(){}};function W_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qc(){}function Y_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Qc,Qc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Bo?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Qc,Qc);else{if(r=Ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Bo?Error(i(483)):r}throw Fo=s,Bo}}var Fo=null;function K_(){if(Fo===null)throw Error(i(459));var r=Fo;return Fo=null,r}var ia=null,zo=0;function Zc(r){var s=zo;return zo+=1,ia===null&&(ia=[]),Y_(ia,r,s)}function Go(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Jc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function X_(r){var s=r._init;return s(r._payload)}function Q_(r){function s(L,D){if(r){var U=L.deletions;U===null?(L.deletions=[D],L.flags|=16):U.push(D)}}function o(L,D){if(!r)return null;for(;D!==null;)s(L,D),D=D.sibling;return null}function c(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=li(L,D),L.index=0,L.sibling=null,L}function p(L,D,U){return L.index=U,r?(U=L.alternate,U!==null?(U=U.index,U<D?(L.flags|=33554434,D):U):(L.flags|=33554434,D)):(L.flags|=1048576,D)}function E(L){return r&&L.alternate===null&&(L.flags|=33554434),L}function x(L,D,U,$){return D===null||D.tag!==6?(D=fm(U,L.mode,$),D.return=L,D):(D=h(D,U),D.return=L,D)}function A(L,D,U,$){var ae=U.type;return ae===d?z(L,D,U.props.children,$,U.key):D!==null&&(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===I&&X_(ae)===D.type)?(D=h(D,U.props),Go(D,U),D.return=L,D):(D=vu(U.type,U.key,U.props,null,L.mode,$),Go(D,U),D.return=L,D)}function k(L,D,U,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=dm(U,L.mode,$),D.return=L,D):(D=h(D,U.children||[]),D.return=L,D)}function z(L,D,U,$,ae){return D===null||D.tag!==7?(D=fs(U,L.mode,$,ae),D.return=L,D):(D=h(D,U),D.return=L,D)}function K(L,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=fm(""+D,L.mode,U),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case u:return U=vu(D.type,D.key,D.props,null,L.mode,U),Go(U,D),U.return=L,U;case f:return D=dm(D,L.mode,U),D.return=L,D;case I:var $=D._init;return D=$(D._payload),K(L,D,U)}if(oe(D)||H(D))return D=fs(D,L.mode,U,null),D.return=L,D;if(typeof D.then=="function")return K(L,Zc(D),U);if(D.$$typeof===S)return K(L,mu(L,D),U);Jc(L,D)}return null}function j(L,D,U,$){var ae=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:x(L,D,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case u:return U.key===ae?A(L,D,U,$):null;case f:return U.key===ae?k(L,D,U,$):null;case I:return ae=U._init,U=ae(U._payload),j(L,D,U,$)}if(oe(U)||H(U))return ae!==null?null:z(L,D,U,$,null);if(typeof U.then=="function")return j(L,D,Zc(U),$);if(U.$$typeof===S)return j(L,D,mu(L,U),$);Jc(L,U)}return null}function B(L,D,U,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(U)||null,x(D,L,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case u:return L=L.get($.key===null?U:$.key)||null,A(D,L,$,ae);case f:return L=L.get($.key===null?U:$.key)||null,k(D,L,$,ae);case I:var Ce=$._init;return $=Ce($._payload),B(L,D,U,$,ae)}if(oe($)||H($))return L=L.get(U)||null,z(D,L,$,ae,null);if(typeof $.then=="function")return B(L,D,U,Zc($),ae);if($.$$typeof===S)return B(L,D,U,mu(D,$),ae);Jc(D,$)}return null}function le(L,D,U,$){for(var ae=null,Ce=null,ce=D,fe=D=0,_t=null;ce!==null&&fe<U.length;fe++){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var Ue=j(L,ce,U[fe],$);if(Ue===null){ce===null&&(ce=_t);break}r&&ce&&Ue.alternate===null&&s(L,ce),D=p(Ue,D,fe),Ce===null?ae=Ue:Ce.sibling=Ue,Ce=Ue,ce=_t}if(fe===U.length)return o(L,ce),Le&&es(L,fe),ae;if(ce===null){for(;fe<U.length;fe++)ce=K(L,U[fe],$),ce!==null&&(D=p(ce,D,fe),Ce===null?ae=ce:Ce.sibling=ce,Ce=ce);return Le&&es(L,fe),ae}for(ce=c(ce);fe<U.length;fe++)_t=B(ce,L,fe,U[fe],$),_t!==null&&(r&&_t.alternate!==null&&ce.delete(_t.key===null?fe:_t.key),D=p(_t,D,fe),Ce===null?ae=_t:Ce.sibling=_t,Ce=_t);return r&&ce.forEach(function(pi){return s(L,pi)}),Le&&es(L,fe),ae}function ve(L,D,U,$){if(U==null)throw Error(i(151));for(var ae=null,Ce=null,ce=D,fe=D=0,_t=null,Ue=U.next();ce!==null&&!Ue.done;fe++,Ue=U.next()){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var pi=j(L,ce,Ue.value,$);if(pi===null){ce===null&&(ce=_t);break}r&&ce&&pi.alternate===null&&s(L,ce),D=p(pi,D,fe),Ce===null?ae=pi:Ce.sibling=pi,Ce=pi,ce=_t}if(Ue.done)return o(L,ce),Le&&es(L,fe),ae;if(ce===null){for(;!Ue.done;fe++,Ue=U.next())Ue=K(L,Ue.value,$),Ue!==null&&(D=p(Ue,D,fe),Ce===null?ae=Ue:Ce.sibling=Ue,Ce=Ue);return Le&&es(L,fe),ae}for(ce=c(ce);!Ue.done;fe++,Ue=U.next())Ue=B(ce,L,fe,Ue.value,$),Ue!==null&&(r&&Ue.alternate!==null&&ce.delete(Ue.key===null?fe:Ue.key),D=p(Ue,D,fe),Ce===null?ae=Ue:Ce.sibling=Ue,Ce=Ue);return r&&ce.forEach(function(mM){return s(L,mM)}),Le&&es(L,fe),ae}function st(L,D,U,$){if(typeof U=="object"&&U!==null&&U.type===d&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case u:e:{for(var ae=U.key;D!==null;){if(D.key===ae){if(ae=U.type,ae===d){if(D.tag===7){o(L,D.sibling),$=h(D,U.props.children),$.return=L,L=$;break e}}else if(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===I&&X_(ae)===D.type){o(L,D.sibling),$=h(D,U.props),Go($,U),$.return=L,L=$;break e}o(L,D);break}else s(L,D);D=D.sibling}U.type===d?($=fs(U.props.children,L.mode,$,U.key),$.return=L,L=$):($=vu(U.type,U.key,U.props,null,L.mode,$),Go($,U),$.return=L,L=$)}return E(L);case f:e:{for(ae=U.key;D!==null;){if(D.key===ae)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){o(L,D.sibling),$=h(D,U.children||[]),$.return=L,L=$;break e}else{o(L,D);break}else s(L,D);D=D.sibling}$=dm(U,L.mode,$),$.return=L,L=$}return E(L);case I:return ae=U._init,U=ae(U._payload),st(L,D,U,$)}if(oe(U))return le(L,D,U,$);if(H(U)){if(ae=H(U),typeof ae!="function")throw Error(i(150));return U=ae.call(U),ve(L,D,U,$)}if(typeof U.then=="function")return st(L,D,Zc(U),$);if(U.$$typeof===S)return st(L,D,mu(L,U),$);Jc(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(o(L,D.sibling),$=h(D,U),$.return=L,L=$):(o(L,D),$=fm(U,L.mode,$),$.return=L,L=$),E(L)):o(L,D)}return function(L,D,U,$){try{zo=0;var ae=st(L,D,U,$);return ia=null,ae}catch(ce){if(ce===Bo)throw ce;var Ce=gn(29,ce,null,L.mode);return Ce.lanes=$,Ce.return=L,Ce}finally{}}}var ns=Q_(!0),Z_=Q_(!1),sa=Se(null),eu=Se(0);function J_(r,s){r=Er,Be(eu,r),Be(sa,s),Er=r|s.baseLanes}function yh(){Be(eu,Er),Be(sa,sa.current)}function _h(){Er=eu.current,xe(sa),xe(eu)}var hn=Se(null),qn=null;function Qr(r){var s=r.alternate;Be(dt,dt.current&1),Be(hn,r),qn===null&&(s===null||sa.current!==null||s.memoizedState!==null)&&(qn=r)}function eb(r){if(r.tag===22){if(Be(dt,dt.current),Be(hn,r),qn===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(qn=r)}}else Zr()}function Zr(){Be(dt,dt.current),Be(hn,hn.current)}function fr(r){xe(hn),qn===r&&(qn=null),xe(dt)}var dt=Se(0);function tu(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tO=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},nO=t.unstable_scheduleCallback,rO=t.unstable_NormalPriority,ht={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new tO,data:new Map,refCount:0}}function Vo(r){r.refCount--,r.refCount===0&&nO(rO,function(){r.controller.abort()})}var $o=null,Eh=0,aa=0,oa=null;function iO(r,s){if($o===null){var o=$o=[];Eh=0,aa=Rm(),oa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Eh++,s.then(tb,tb),s}function tb(){if(--Eh===0&&$o!==null){oa!==null&&(oa.status="fulfilled");var r=$o;$o=null,aa=0,oa=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function sO(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var nb=q.S;q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&iO(r,s),nb!==null&&nb(r,s)};var rs=Se(null);function Sh(){var r=rs.current;return r!==null?r:Ye.pooledCache}function nu(r,s){s===null?Be(rs,rs.current):Be(rs,s.pool)}function rb(){var r=Sh();return r===null?null:{parent:ht._currentValue,pool:r}}var Jr=0,we=null,ze=null,ct=null,ru=!1,la=!1,is=!1,iu=0,qo=0,ca=null,aO=0;function lt(){throw Error(i(321))}function wh(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Xt(r[o],s[o]))return!1;return!0}function xh(r,s,o,c,h,p){return Jr=p,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?ss:ei,is=!1,p=o(c,h),is=!1,la&&(p=sb(s,o,c,h)),ib(r),p}function ib(r){q.H=Wn;var s=ze!==null&&ze.next!==null;if(Jr=0,ct=ze=we=null,ru=!1,qo=0,ca=null,s)throw Error(i(300));r===null||vt||(r=r.dependencies,r!==null&&hu(r)&&(vt=!0))}function sb(r,s,o,c){we=r;var h=0;do{if(la&&(ca=null),qo=0,la=!1,25<=h)throw Error(i(301));if(h+=1,ct=ze=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=as,p=s(o,c)}while(la);return p}function oO(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?Wo(s):s,r=r.useState()[0],(ze!==null?ze.memoizedState:null)!==r&&(we.flags|=1024),s}function Ch(){var r=iu!==0;return iu=0,r}function Th(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Rh(r){if(ru){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ru=!1}Jr=0,ct=ze=we=null,la=!1,qo=iu=0,ca=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?we.memoizedState=ct=r:ct=ct.next=r,ct}function ut(){if(ze===null){var r=we.alternate;r=r!==null?r.memoizedState:null}else r=ze.next;var s=ct===null?we.memoizedState:ct.next;if(s!==null)ct=s,ze=r;else{if(r===null)throw we.alternate===null?Error(i(467)):Error(i(310));ze=r,r={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},ct===null?we.memoizedState=ct=r:ct=ct.next=r}return ct}var su;su=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wo(r){var s=qo;return qo+=1,ca===null&&(ca=[]),r=Y_(ca,r,s),s=we,(ct===null?s.memoizedState:ct.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?ss:ei),r}function au(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wo(r);if(r.$$typeof===S)return It(r)}throw Error(i(438,String(r)))}function Ah(r){var s=null,o=we.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=we.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=su(),we.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=P;return s.index++,o}function dr(r,s){return typeof s=="function"?s(r):s}function ou(r){var s=ut();return Nh(s,ze,r)}function Nh(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,p=c.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}s.baseQueue=h=p,c.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{s=h.next;var x=E=null,A=null,k=s,z=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(ke&K)===K:(Jr&K)===K){var j=k.revertLane;if(j===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===aa&&(z=!0);else if((Jr&j)===j){k=k.next,j===aa&&(z=!0);continue}else K={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(x=A=K,E=p):A=A.next=K,we.lanes|=j,ci|=j;K=k.action,is&&o(p,K),p=k.hasEagerState?k.eagerState:o(p,K)}else j={lane:K,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(x=A=j,E=p):A=A.next=j,we.lanes|=K,ci|=K;k=k.next}while(k!==null&&k!==s);if(A===null?E=p:A.next=x,!Xt(p,r.memoizedState)&&(vt=!0,z&&(o=oa,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=A,c.lastRenderedState=p}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Oh(r){var s=ut(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,p=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Xt(p,s.memoizedState)||(vt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function ab(r,s,o){var c=we,h=ut(),p=Le;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Xt((ze||h).memoizedState,o);if(E&&(h.memoizedState=o,vt=!0),h=h.queue,Dh(cb.bind(null,c,h,r),[r]),h.getSnapshot!==s||E||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,ua(9,lb.bind(null,c,h,o,s),{destroy:void 0},null),Ye===null)throw Error(i(349));p||Jr&60||ob(c,s,o)}return o}function ob(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=we.updateQueue,s===null?(s=su(),we.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function lb(r,s,o,c){s.value=o,s.getSnapshot=c,ub(s)&&fb(r)}function cb(r,s,o){return o(function(){ub(s)&&fb(r)})}function ub(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Xt(r,o)}catch{return!0}}function fb(r){var s=Xr(r,2);s!==null&&Pt(s,r,2)}function Mh(r){var s=$t();if(typeof r=="function"){var o=r;if(r=o(),is){Wr(!0);try{o()}finally{Wr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:r},s}function db(r,s,o,c){return r.baseState=o,Nh(r,ze,typeof c=="function"?c:dr)}function lO(r,s,o,c,h){if(uu(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};q.T!==null?o(!0):p.isTransition=!1,c(p),o=s.pending,o===null?(p.next=s.pending=p,hb(s,p)):(p.next=o.next,s.pending=o.next=p)}}function hb(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var p=q.T,E={};q.T=E;try{var x=o(h,c),A=q.S;A!==null&&A(E,x),mb(r,s,x)}catch(k){Ih(r,s,k)}finally{q.T=p}}else try{p=o(h,c),mb(r,s,p)}catch(k){Ih(r,s,k)}}function mb(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){pb(r,s,c)},function(c){return Ih(r,s,c)}):pb(r,s,o)}function pb(r,s,o){s.status="fulfilled",s.value=o,gb(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,hb(r,o)))}function Ih(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,gb(s),s=s.next;while(s!==c)}r.action=null}function gb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function vb(r,s){return s}function yb(r,s){if(Le){var o=Ye.formState;if(o!==null){e:{var c=we;if(Le){if(xt){t:{for(var h=xt,p=$n;h.nodeType!==8;){if(!p){h=null;break t}if(h=An(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){xt=An(h.nextSibling),c=h.data==="F!";break e}}ts(c)}c=!1}c&&(s=o[0])}}return o=$t(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vb,lastRenderedState:s},o.queue=c,o=Lb.bind(null,we,c),c.dispatch=o,c=Mh(!1),p=jh.bind(null,we,!1,c.queue),c=$t(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=lO.bind(null,we,h,p,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function _b(r){var s=ut();return bb(s,ze,r)}function bb(r,s,o){s=Nh(r,s,vb)[0],r=ou(dr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Wo(s):s;var c=ut(),h=c.queue,p=h.dispatch;return o!==c.memoizedState&&(we.flags|=2048,ua(9,cO.bind(null,h,o),{destroy:void 0},null)),[s,p,r]}function cO(r,s){r.action=s}function Eb(r){var s=ut(),o=ze;if(o!==null)return bb(s,o,r);ut(),s=s.memoizedState,o=ut();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ua(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=we.updateQueue,s===null&&(s=su(),we.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Sb(){return ut().memoizedState}function lu(r,s,o,c){var h=$t();we.flags|=r,h.memoizedState=ua(1|s,o,{destroy:void 0},c===void 0?null:c)}function cu(r,s,o,c){var h=ut();c=c===void 0?null:c;var p=h.memoizedState.inst;ze!==null&&c!==null&&wh(c,ze.memoizedState.deps)?h.memoizedState=ua(s,o,p,c):(we.flags|=r,h.memoizedState=ua(1|s,o,p,c))}function wb(r,s){lu(8390656,8,r,s)}function Dh(r,s){cu(2048,8,r,s)}function xb(r,s){return cu(4,2,r,s)}function Cb(r,s){return cu(4,4,r,s)}function Tb(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Rb(r,s,o){o=o!=null?o.concat([r]):null,cu(4,4,Tb.bind(null,s,r),o)}function kh(){}function Ab(r,s){var o=ut();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&wh(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function Nb(r,s){var o=ut();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&wh(s,c[1]))return c[0];if(c=r(),is){Wr(!0);try{r()}finally{Wr(!1)}}return o.memoizedState=[c,s],c}function Ph(r,s,o){return o===void 0||Jr&1073741824?r.memoizedState=s:(r.memoizedState=o,r=M0(),we.lanes|=r,ci|=r,o)}function Ob(r,s,o,c){return Xt(o,s)?o:sa.current!==null?(r=Ph(r,o,c),Xt(r,s)||(vt=!0),r):Jr&42?(r=M0(),we.lanes|=r,ci|=r,s):(vt=!0,r.memoizedState=o)}function Mb(r,s,o,c,h){var p=J.p;J.p=p!==0&&8>p?p:8;var E=q.T,x={};q.T=x,jh(r,!1,s,o);try{var A=h(),k=q.S;if(k!==null&&k(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=sO(A,c);Yo(r,s,z,en(r))}else Yo(r,s,c,en(r))}catch(K){Yo(r,s,{then:function(){},status:"rejected",reason:K},en())}finally{J.p=p,q.T=E}}function uO(){}function Lh(r,s,o,c){if(r.tag!==5)throw Error(i(476));var h=Ib(r).queue;Mb(r,h,s,_e,o===null?uO:function(){return Db(r),o(c)})}function Ib(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:_e},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Db(r){var s=Ib(r).next.queue;Yo(r,s,{},en())}function Uh(){return It(ml)}function kb(){return ut().memoizedState}function Pb(){return ut().memoizedState}function fO(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=en();r=ri(o);var c=ii(s,r,o);c!==null&&(Pt(c,s,o),Qo(c,s,o)),s={cache:bh()},r.payload=s;return}s=s.return}}function dO(r,s,o){var c=en();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},uu(r)?Ub(s,o):(o=hh(r,s,o,c),o!==null&&(Pt(o,r,c),jb(o,s,c)))}function Lb(r,s,o){var c=en();Yo(r,s,o,c)}function Yo(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(uu(r))Ub(s,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,x=p(E,o);if(h.hasEagerState=!0,h.eagerState=x,Xt(x,E))return Wc(r,s,h,0),Ye===null&&qc(),!1}catch{}finally{}if(o=hh(r,s,h,c),o!==null)return Pt(o,r,c),jb(o,s,c),!0}return!1}function jh(r,s,o,c){if(c={lane:2,revertLane:Rm(),action:c,hasEagerState:!1,eagerState:null,next:null},uu(r)){if(s)throw Error(i(479))}else s=hh(r,o,c,2),s!==null&&Pt(s,r,2)}function uu(r){var s=r.alternate;return r===we||s!==null&&s===we}function Ub(r,s){la=ru=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function jb(r,s,o){if(o&4194176){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Ky(r,o)}}var Wn={readContext:It,use:au,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt};Wn.useCacheRefresh=lt,Wn.useMemoCache=lt,Wn.useHostTransitionStatus=lt,Wn.useFormState=lt,Wn.useActionState=lt,Wn.useOptimistic=lt;var ss={readContext:It,use:au,useCallback:function(r,s){return $t().memoizedState=[r,s===void 0?null:s],r},useContext:It,useEffect:wb,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,lu(4194308,4,Tb.bind(null,s,r),o)},useLayoutEffect:function(r,s){return lu(4194308,4,r,s)},useInsertionEffect:function(r,s){lu(4,2,r,s)},useMemo:function(r,s){var o=$t();s=s===void 0?null:s;var c=r();if(is){Wr(!0);try{r()}finally{Wr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=$t();if(o!==void 0){var h=o(s);if(is){Wr(!0);try{o(s)}finally{Wr(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=dO.bind(null,we,r),[c.memoizedState,r]},useRef:function(r){var s=$t();return r={current:r},s.memoizedState=r},useState:function(r){r=Mh(r);var s=r.queue,o=Lb.bind(null,we,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:kh,useDeferredValue:function(r,s){var o=$t();return Ph(o,r,s)},useTransition:function(){var r=Mh(!1);return r=Mb.bind(null,we,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=we,h=$t();if(Le){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ye===null)throw Error(i(349));ke&60||ob(c,s,o)}h.memoizedState=o;var p={value:o,getSnapshot:s};return h.queue=p,wb(cb.bind(null,c,p,r),[r]),c.flags|=2048,ua(9,lb.bind(null,c,p,o,s),{destroy:void 0},null),o},useId:function(){var r=$t(),s=Ye.identifierPrefix;if(Le){var o=ur,c=cr;o=(c&~(1<<32-Kt(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=iu++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=aO++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return $t().memoizedState=fO.bind(null,we)}};ss.useMemoCache=Ah,ss.useHostTransitionStatus=Uh,ss.useFormState=yb,ss.useActionState=yb,ss.useOptimistic=function(r){var s=$t();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=jh.bind(null,we,!0,o),o.dispatch=s,[r,s]};var ei={readContext:It,use:au,useCallback:Ab,useContext:It,useEffect:Dh,useImperativeHandle:Rb,useInsertionEffect:xb,useLayoutEffect:Cb,useMemo:Nb,useReducer:ou,useRef:Sb,useState:function(){return ou(dr)},useDebugValue:kh,useDeferredValue:function(r,s){var o=ut();return Ob(o,ze.memoizedState,r,s)},useTransition:function(){var r=ou(dr)[0],s=ut().memoizedState;return[typeof r=="boolean"?r:Wo(r),s]},useSyncExternalStore:ab,useId:kb};ei.useCacheRefresh=Pb,ei.useMemoCache=Ah,ei.useHostTransitionStatus=Uh,ei.useFormState=_b,ei.useActionState=_b,ei.useOptimistic=function(r,s){var o=ut();return db(o,ze,r,s)};var as={readContext:It,use:au,useCallback:Ab,useContext:It,useEffect:Dh,useImperativeHandle:Rb,useInsertionEffect:xb,useLayoutEffect:Cb,useMemo:Nb,useReducer:Oh,useRef:Sb,useState:function(){return Oh(dr)},useDebugValue:kh,useDeferredValue:function(r,s){var o=ut();return ze===null?Ph(o,r,s):Ob(o,ze.memoizedState,r,s)},useTransition:function(){var r=Oh(dr)[0],s=ut().memoizedState;return[typeof r=="boolean"?r:Wo(r),s]},useSyncExternalStore:ab,useId:kb};as.useCacheRefresh=Pb,as.useMemoCache=Ah,as.useHostTransitionStatus=Uh,as.useFormState=Eb,as.useActionState=Eb,as.useOptimistic=function(r,s){var o=ut();return ze!==null?db(o,ze,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Hh(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:Z({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Bh={isMounted:function(r){return(r=r._reactInternals)?V(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=en(),h=ri(c);h.payload=s,o!=null&&(h.callback=o),s=ii(r,h,c),s!==null&&(Pt(s,r,c),Qo(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=en(),h=ri(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ii(r,h,c),s!==null&&(Pt(s,r,c),Qo(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=en(),c=ri(o);c.tag=2,s!=null&&(c.callback=s),s=ii(r,c,o),s!==null&&(Pt(s,r,o),Qo(s,r,o))}};function Hb(r,s,o,c,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,E):s.prototype&&s.prototype.isPureReactComponent?!Po(o,c)||!Po(h,p):!0}function Bb(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Bh.enqueueReplaceState(s,s.state,null)}function os(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=Z({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var fu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Fb(r){fu(r)}function zb(r){console.error(r)}function Gb(r){fu(r)}function du(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Vb(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fh(r,s,o){return o=ri(o),o.tag=3,o.payload={element:null},o.callback=function(){du(r,s)},o}function $b(r){return r=ri(r),r.tag=3,r}function qb(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;r.payload=function(){return h(p)},r.callback=function(){Vb(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Vb(s,o,c),typeof h!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function hO(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Xo(s,o,h,!0),o=hn.current,o!==null){switch(o.tag){case 13:return qn===null?Sm():o.alternate===null&&it===0&&(it=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===vh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),xm(r,c,h)),!1;case 22:return o.flags|=65536,c===vh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),xm(r,c,h)),!1}throw Error(i(435,o.tag))}return xm(r,c,h),Sm(),!1}if(Le)return s=hn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==gh&&(r=Error(i(422),{cause:c}),Ho(un(r,o)))):(c!==gh&&(s=Error(i(423),{cause:c}),Ho(un(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=un(c,o),h=Fh(r.stateNode,c,h),nm(r,h),it!==4&&(it=2)),!1;var p=Error(i(520),{cause:c});if(p=un(p,o),sl===null?sl=[p]:sl.push(p),it!==4&&(it=2),s===null)return!0;c=un(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Fh(o.stateNode,c,r),nm(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ui===null||!ui.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=$b(h),qb(h,r,o,c),nm(o,h),!1}o=o.return}while(o!==null);return!1}var Wb=Error(i(461)),vt=!1;function Ct(r,s,o,c){s.child=r===null?Z_(s,null,o,c):ns(s,r.child,o,c)}function Yb(r,s,o,c,h){o=o.render;var p=s.ref;if("ref"in c){var E={};for(var x in c)x!=="ref"&&(E[x]=c[x])}else E=c;return cs(s),c=xh(r,s,o,E,p,h),x=Ch(),r!==null&&!vt?(Th(r,s,h),hr(r,s,h)):(Le&&x&&mh(s),s.flags|=1,Ct(r,s,c,h),s.child)}function Kb(r,s,o,c,h){if(r===null){var p=o.type;return typeof p=="function"&&!um(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,Xb(r,s,p,c,h)):(r=vu(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Xh(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Po,o(E,c)&&r.ref===s.ref)return hr(r,s,h)}return s.flags|=1,r=li(p,c),r.ref=s.ref,r.return=s,s.child=r}function Xb(r,s,o,c,h){if(r!==null){var p=r.memoizedProps;if(Po(p,c)&&r.ref===s.ref)if(vt=!1,s.pendingProps=c=p,Xh(r,h))r.flags&131072&&(vt=!0);else return s.lanes=r.lanes,hr(r,s,h)}return zh(r,s,o,c,h)}function Qb(r,s,o){var c=s.pendingProps,h=c.children,p=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(Ko(r,s),c.mode==="hidden"||p){if(s.flags&128){if(c=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return Zb(r,s,c,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&nu(s,E!==null?E.cachePool:null),E!==null?J_(s,E):yh(),eb(s);else return s.lanes=s.childLanes=536870912,Zb(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(nu(s,E.cachePool),J_(s,E),Zr(),s.memoizedState=null):(r!==null&&nu(s,null),yh(),Zr());return Ct(r,s,h,o),s.child}function Zb(r,s,o,c){var h=Sh();return h=h===null?null:{parent:ht._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&nu(s,null),yh(),eb(s),r!==null&&Xo(r,s,c,!0),null}function Ko(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function zh(r,s,o,c,h){return cs(s),o=xh(r,s,o,c,void 0,h),c=Ch(),r!==null&&!vt?(Th(r,s,h),hr(r,s,h)):(Le&&c&&mh(s),s.flags|=1,Ct(r,s,o,h),s.child)}function Jb(r,s,o,c,h,p){return cs(s),s.updateQueue=null,o=sb(s,c,o,h),ib(r),c=Ch(),r!==null&&!vt?(Th(r,s,p),hr(r,s,p)):(Le&&c&&mh(s),s.flags|=1,Ct(r,s,o,p),s.child)}function e0(r,s,o,c,h){if(cs(s),s.stateNode===null){var p=ta,E=o.contextType;typeof E=="object"&&E!==null&&(p=It(E)),p=new o(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bh,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},em(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?It(E):ta,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Hh(s,o,E,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Bh.enqueueReplaceState(p,p.state,null),Jo(s,c,p,h),Zo(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){p=s.stateNode;var x=s.memoizedProps,A=os(o,x);p.props=A;var k=p.context,z=o.contextType;E=ta,typeof z=="object"&&z!==null&&(E=It(z));var K=o.getDerivedStateFromProps;z=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||k!==E)&&Bb(s,p,c,E),ni=!1;var j=s.memoizedState;p.state=j,Jo(s,c,p,h),Zo(),k=s.memoizedState,x||j!==k||ni?(typeof K=="function"&&(Hh(s,o,K,c),k=s.memoizedState),(A=ni||Hb(s,o,A,c,j,k,E))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=k),p.props=c,p.state=k,p.context=E,c=A):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,tm(r,s),E=s.memoizedProps,z=os(o,E),p.props=z,K=s.pendingProps,j=p.context,k=o.contextType,A=ta,typeof k=="object"&&k!==null&&(A=It(k)),x=o.getDerivedStateFromProps,(k=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==K||j!==A)&&Bb(s,p,c,A),ni=!1,j=s.memoizedState,p.state=j,Jo(s,c,p,h),Zo();var B=s.memoizedState;E!==K||j!==B||ni||r!==null&&r.dependencies!==null&&hu(r.dependencies)?(typeof x=="function"&&(Hh(s,o,x,c),B=s.memoizedState),(z=ni||Hb(s,o,z,c,j,B,A)||r!==null&&r.dependencies!==null&&hu(r.dependencies))?(k||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,B,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,B,A)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=B),p.props=c,p.state=B,p.context=A,c=z):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(s.flags|=1024),c=!1)}return p=c,Ko(r,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&c?(s.child=ns(s,r.child,null,h),s.child=ns(s,null,o,h)):Ct(r,s,o,h),s.memoizedState=p.state,r=s.child):r=hr(r,s,h),r}function t0(r,s,o,c){return jo(),s.flags|=256,Ct(r,s,o,c),s.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Vh(r){return{baseLanes:r,cachePool:rb()}}function $h(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=vn),r}function n0(r,s,o){var c=s.pendingProps,h=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(dt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Le){if(h?Qr(s):Zr(),Le){var x=xt,A;if(A=x){e:{for(A=x,x=$n;A.nodeType!==8;){if(!x){x=null;break e}if(A=An(A.nextSibling),A===null){x=null;break e}}x=A}x!==null?(s.memoizedState={dehydrated:x,treeContext:Ji!==null?{id:cr,overflow:ur}:null,retryLane:536870912},A=gn(18,null,null,0),A.stateNode=x,A.return=s,s.child=A,kt=s,xt=null,A=!0):A=!1}A||ts(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?s.lanes=16:s.lanes=536870912,null;fr(s)}return x=c.children,c=c.fallback,h?(Zr(),h=s.mode,x=Wh({mode:"hidden",children:x},h),c=fs(c,h,o,null),x.return=s,c.return=s,x.sibling=c,s.child=x,h=s.child,h.memoizedState=Vh(o),h.childLanes=$h(r,E,o),s.memoizedState=Gh,c):(Qr(s),qh(s,x))}if(A=r.memoizedState,A!==null&&(x=A.dehydrated,x!==null)){if(p)s.flags&256?(Qr(s),s.flags&=-257,s=Yh(r,s,o)):s.memoizedState!==null?(Zr(),s.child=r.child,s.flags|=128,s=null):(Zr(),h=c.fallback,x=s.mode,c=Wh({mode:"visible",children:c.children},x),h=fs(h,x,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,ns(s,r.child,null,o),c=s.child,c.memoizedState=Vh(o),c.childLanes=$h(r,E,o),s.memoizedState=Gh,s=h);else if(Qr(s),x.data==="$!"){if(E=x.nextSibling&&x.nextSibling.dataset,E)var k=E.dgst;E=k,c=Error(i(419)),c.stack="",c.digest=E,Ho({value:c,source:null,stack:null}),s=Yh(r,s,o)}else if(vt||Xo(r,s,o,!1),E=(o&r.childLanes)!==0,vt||E){if(E=Ye,E!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(E.suspendedLanes|o)?0:c,c!==0&&c!==A.retryLane)throw A.retryLane=c,Xr(r,c),Pt(E,r,c),Wb}x.data==="$?"||Sm(),s=Yh(r,s,o)}else x.data==="$?"?(s.flags|=128,s.child=r.child,s=AO.bind(null,r),x._reactRetry=s,s=null):(r=A.treeContext,xt=An(x.nextSibling),kt=s,Le=!0,Tn=null,$n=!1,r!==null&&(fn[dn++]=cr,fn[dn++]=ur,fn[dn++]=Ji,cr=r.id,ur=r.overflow,Ji=s),s=qh(s,c.children),s.flags|=4096);return s}return h?(Zr(),h=c.fallback,x=s.mode,A=r.child,k=A.sibling,c=li(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&31457280,k!==null?h=li(k,h):(h=fs(h,x,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,x=r.child.memoizedState,x===null?x=Vh(o):(A=x.cachePool,A!==null?(k=ht._currentValue,A=A.parent!==k?{parent:k,pool:k}:A):A=rb(),x={baseLanes:x.baseLanes|o,cachePool:A}),h.memoizedState=x,h.childLanes=$h(r,E,o),s.memoizedState=Gh,c):(Qr(s),o=r.child,r=o.sibling,o=li(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function qh(r,s){return s=Wh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Wh(r,s){return A0(r,s,0,null)}function Yh(r,s,o){return ns(s,r.child,null,o),r=qh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function r0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Zh(r.return,s,o)}function Kh(r,s,o,c,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=h)}function i0(r,s,o){var c=s.pendingProps,h=c.revealOrder,p=c.tail;if(Ct(r,s,c.children,o),c=dt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&r0(r,o,s);else if(r.tag===19)r0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Be(dt,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&tu(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Kh(s,!1,h,o,p);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&tu(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Kh(s,!0,o,null,p);break;case"together":Kh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ci|=s.lanes,!(o&s.childLanes))if(r!==null){if(Xo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=li(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=li(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xh(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&hu(r)))}function mO(r,s,o){switch(s.tag){case 3:Fs(s,s.stateNode.containerInfo),ti(s,ht,r.memoizedState.cache),jo();break;case 27:case 5:So(s);break;case 4:Fs(s,s.stateNode.containerInfo);break;case 10:ti(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Qr(s),s.flags|=128,null):o&s.child.childLanes?n0(r,s,o):(Qr(s),r=hr(r,s,o),r!==null?r.sibling:null);Qr(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Xo(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return i0(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(dt,dt.current),c)break;return null;case 22:case 23:return s.lanes=0,Qb(r,s,o);case 24:ti(s,ht,r.memoizedState.cache)}return hr(r,s,o)}function s0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)vt=!0;else{if(!Xh(r,o)&&!(s.flags&128))return vt=!1,mO(r,s,o);vt=!!(r.flags&131072)}else vt=!1,Le&&s.flags&1048576&&G_(s,Xc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")um(c)?(r=os(c,r),s.tag=1,s=e0(null,s,c,r,o)):(s.tag=0,s=zh(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===w){s.tag=11,s=Yb(null,s,c,r,o);break e}else if(h===R){s.tag=14,s=Kb(null,s,c,r,o);break e}}throw s=Y(c)||c,Error(i(306,s,""))}}return s;case 0:return zh(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=os(c,s.pendingProps),e0(r,s,c,h,o);case 3:e:{if(Fs(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var p=s.pendingProps;h=s.memoizedState,c=h.element,tm(r,s),Jo(s,p,null,o);var E=s.memoizedState;if(p=E.cache,ti(s,ht,p),p!==h.cache&&Jh(s,[ht],o,!0),Zo(),p=E.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=t0(r,s,p,o);break e}else if(p!==c){c=un(Error(i(424)),s),Ho(c),s=t0(r,s,p,o);break e}else for(xt=An(s.stateNode.containerInfo.firstChild),kt=s,Le=!0,Tn=null,$n=!0,o=Z_(s,null,p,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jo(),p===c){s=hr(r,s,o);break e}Ct(r,s,p,o)}s=s.child}return s;case 26:return Ko(r,s),r===null?(o=lE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Le||(o=s.type,r=s.pendingProps,c=Nu(zt.current).createElement(o),c[Mt]=s,c[Gt]=r,Tt(c,o,r),gt(c),s.stateNode=c):s.memoizedState=lE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return So(s),r===null&&Le&&(c=s.stateNode=sE(s.type,s.pendingProps,zt.current),kt=s,$n=!0,xt=An(c.firstChild)),c=s.pendingProps.children,r!==null||Le?Ct(r,s,c,o):s.child=ns(s,null,c,o),Ko(r,s),s.child;case 5:return r===null&&Le&&((h=c=xt)&&(c=VO(c,s.type,s.pendingProps,$n),c!==null?(s.stateNode=c,kt=s,xt=An(c.firstChild),$n=!1,h=!0):h=!1),h||ts(s)),So(s),h=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,c=p.children,Lm(h,p)?c=null:E!==null&&Lm(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=xh(r,s,oO,null,null,o),ml._currentValue=h),Ko(r,s),Ct(r,s,c,o),s.child;case 6:return r===null&&Le&&((r=o=xt)&&(o=$O(o,s.pendingProps,$n),o!==null?(s.stateNode=o,kt=s,xt=null,r=!0):r=!1),r||ts(s)),null;case 13:return n0(r,s,o);case 4:return Fs(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ns(s,null,c,o):Ct(r,s,c,o),s.child;case 11:return Yb(r,s,s.type,s.pendingProps,o);case 7:return Ct(r,s,s.pendingProps,o),s.child;case 8:return Ct(r,s,s.pendingProps.children,o),s.child;case 12:return Ct(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ti(s,s.type,c.value),Ct(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,cs(s),h=It(h),c=c(h),s.flags|=1,Ct(r,s,c,o),s.child;case 14:return Kb(r,s,s.type,s.pendingProps,o);case 15:return Xb(r,s,s.type,s.pendingProps,o);case 19:return i0(r,s,o);case 22:return Qb(r,s,o);case 24:return cs(s),c=It(ht),r===null?(h=Sh(),h===null&&(h=Ye,p=bh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),s.memoizedState={parent:c,cache:h},em(s),ti(s,ht,h)):(r.lanes&o&&(tm(r,s),Jo(s,null,null,o),Zo()),h=r.memoizedState,p=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ti(s,ht,c)):(c=p.cache,ti(s,ht,c),c!==h.cache&&Jh(s,[ht],o,!0))),Ct(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Qh=Se(null),ls=null,mr=null;function ti(r,s,o){Be(Qh,s._currentValue),s._currentValue=o}function pr(r){r._currentValue=Qh.current,xe(Qh)}function Zh(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Jh(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=h;for(var A=0;A<s.length;A++)if(x.context===s[A]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),Zh(p.return,o,r),c||(E=null);break e}p=x.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Zh(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Xo(r,s,o,c){r=null;for(var h=s,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var x=h.type;Xt(h.pendingProps.value,E.value)||(r!==null?r.push(x):r=[x])}}else if(h===qi.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(ml):r=[ml])}h=h.return}r!==null&&Jh(s,r,o,c),s.flags|=262144}function hu(r){for(r=r.firstContext;r!==null;){if(!Xt(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function cs(r){ls=r,mr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function It(r){return a0(ls,r)}function mu(r,s){return ls===null&&cs(r),a0(r,s)}function a0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mr===null){if(r===null)throw Error(i(308));mr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else mr=mr.next=s;return o}var ni=!1;function em(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ri(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ii(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,tt&2){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Yc(r),F_(r,null,o),s}return Wc(r,c,s,o),Yc(r)}function Qo(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Ky(r,o)}}function nm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=s:p=p.next=s}else h=p=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var rm=!1;function Zo(){if(rm){var r=oa;if(r!==null)throw r}}function Jo(r,s,o,c){rm=!1;var h=r.updateQueue;ni=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var A=x,k=A.next;A.next=null,E===null?p=k:E.next=k,E=A;var z=r.alternate;z!==null&&(z=z.updateQueue,x=z.lastBaseUpdate,x!==E&&(x===null?z.firstBaseUpdate=k:x.next=k,z.lastBaseUpdate=A))}if(p!==null){var K=h.baseState;E=0,z=k=A=null,x=p;do{var j=x.lane&-536870913,B=j!==x.lane;if(B?(ke&j)===j:(c&j)===j){j!==0&&j===aa&&(rm=!0),z!==null&&(z=z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var le=r,ve=x;j=s;var st=o;switch(ve.tag){case 1:if(le=ve.payload,typeof le=="function"){K=le.call(st,K,j);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ve.payload,j=typeof le=="function"?le.call(st,K,j):le,j==null)break e;K=Z({},K,j);break e;case 2:ni=!0}}j=x.callback,j!==null&&(r.flags|=64,B&&(r.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},z===null?(k=z=B,A=K):z=z.next=B,E|=j;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;B=x,x=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);z===null&&(A=K),h.baseState=A,h.firstBaseUpdate=k,h.lastBaseUpdate=z,p===null&&(h.shared.lanes=0),ci|=E,r.lanes=E,r.memoizedState=K}}function o0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function l0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)o0(o[r],s)}function el(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var p=o.create,E=o.inst;c=p(),E.destroy=c}o=o.next}while(o!==h)}}catch(x){We(s,s.return,x)}}function si(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&r)===r){var E=c.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,h=s;var A=o;try{x()}catch(k){We(h,A,k)}}}c=c.next}while(c!==p)}}catch(k){We(s,s.return,k)}}function c0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{l0(s,o)}catch(c){We(r,r.return,c)}}}function u0(r,s,o){o.props=os(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){We(r,s,c)}}function us(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(p){We(r,s,p)}}function Qt(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){We(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){We(r,s,h)}else o.current=null}function f0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){We(r,r.return,h)}}function d0(r,s,o){try{var c=r.stateNode;HO(c,r.type,o,s),c[Gt]=s}catch(h){We(r,r.return,h)}}function h0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function im(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||h0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Au));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(sm(r,s,o),r=r.sibling;r!==null;)sm(r,s,o),r=r.sibling}function pu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(pu(r,s,o),r=r.sibling;r!==null;)pu(r,s,o),r=r.sibling}var gr=!1,rt=!1,am=!1,m0=typeof WeakSet=="function"?WeakSet:Set,yt=null,p0=!1;function pO(r,s){if(r=r.containerInfo,km=Pu,r=I_(r),lh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,x=-1,A=-1,k=0,z=0,K=r,j=null;t:for(;;){for(var B;K!==o||h!==0&&K.nodeType!==3||(x=E+h),K!==p||c!==0&&K.nodeType!==3||(A=E+c),K.nodeType===3&&(E+=K.nodeValue.length),(B=K.firstChild)!==null;)j=K,K=B;for(;;){if(K===r)break t;if(j===o&&++k===h&&(x=E),j===p&&++z===c&&(A=E),(B=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=B}o=x===-1||A===-1?null:{start:x,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pm={focusedElem:r,selectionRange:o},Pu=!1,yt=s;yt!==null;)if(s=yt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,yt=r;else for(;yt!==null;){switch(s=yt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&p!==null){r=void 0,o=s,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var le=os(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(le,p),c.__reactInternalSnapshotBeforeUpdate=r}catch(ve){We(o,o.return,ve)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Hm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,yt=r;break}yt=s.return}return le=p0,p0=!1,le}function g0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:yr(r,o),c&4&&el(5,o);break;case 1:if(yr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){We(o,o.return,x)}else{var h=os(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){We(o,o.return,x)}}c&64&&c0(o),c&512&&us(o,o.return);break;case 3:if(yr(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{l0(c,r)}catch(x){We(o,o.return,x)}}break;case 26:yr(r,o),c&512&&us(o,o.return);break;case 27:case 5:yr(r,o),s===null&&c&4&&f0(o),c&512&&us(o,o.return);break;case 12:yr(r,o);break;case 13:yr(r,o),c&4&&_0(r,o);break;case 22:if(h=o.memoizedState!==null||gr,!h){s=s!==null&&s.memoizedState!==null||rt;var p=gr,E=rt;gr=h,(rt=s)&&!E?ai(r,o,(o.subtreeFlags&8772)!==0):yr(r,o),gr=p,rt=E}c&512&&(o.memoizedProps.mode==="manual"?us(o,o.return):Qt(o,o.return));break;default:yr(r,o)}}function v0(r){var s=r.alternate;s!==null&&(r.alternate=null,v0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&qd(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,Zt=!1;function vr(r,s,o){for(o=o.child;o!==null;)y0(r,s,o),o=o.sibling}function y0(r,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(wo,o)}catch{}switch(o.tag){case 26:rt||Qt(o,s),vr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:rt||Qt(o,s);var c=ft,h=Zt;for(ft=o.stateNode,vr(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);qd(o),ft=c,Zt=h;break;case 5:rt||Qt(o,s);case 6:h=ft;var p=Zt;if(ft=null,vr(r,s,o),ft=h,Zt=p,ft!==null)if(Zt)try{r=ft,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(E){We(o,s,E)}else try{ft.removeChild(o.stateNode)}catch(E){We(o,s,E)}break;case 18:ft!==null&&(Zt?(s=ft,o=o.stateNode,s.nodeType===8?jm(s.parentNode,o):s.nodeType===1&&jm(s,o),yl(s)):jm(ft,o.stateNode));break;case 4:c=ft,h=Zt,ft=o.stateNode.containerInfo,Zt=!0,vr(r,s,o),ft=c,Zt=h;break;case 0:case 11:case 14:case 15:rt||si(2,o,s),rt||si(4,o,s),vr(r,s,o);break;case 1:rt||(Qt(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&u0(o,s,c)),vr(r,s,o);break;case 21:vr(r,s,o);break;case 22:rt||Qt(o,s),rt=(c=rt)||o.memoizedState!==null,vr(r,s,o),rt=c;break;default:vr(r,s,o)}}function _0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yl(r)}catch(o){We(s,s.return,o)}}function gO(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new m0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new m0),s;default:throw Error(i(435,r.tag))}}function om(r,s){var o=gO(r);s.forEach(function(c){var h=NO.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=r,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 27:case 5:ft=x.stateNode,Zt=!1;break e;case 3:ft=x.stateNode.containerInfo,Zt=!0;break e;case 4:ft=x.stateNode.containerInfo,Zt=!0;break e}x=x.return}if(ft===null)throw Error(i(160));y0(p,E,h),ft=null,Zt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)b0(s,r),s=s.sibling}var Rn=null;function b0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:mn(s,r),pn(r),c&4&&(si(3,r,r.return),el(3,r),si(5,r,r.return));break;case 1:mn(s,r),pn(r),c&512&&(rt||o===null||Qt(o,o.return)),c&64&&gr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Rn;if(mn(s,r),pn(r),c&512&&(rt||o===null||Qt(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[To]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),Tt(p,c,o),p[Mt]=r,gt(p),c=p;break e;case"link":var E=fE("link","href",h).get(c+(o.href||""));if(E){for(var x=0;x<E.length;x++)if(p=E[x],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(x,1);break t}}p=h.createElement(c),Tt(p,c,o),h.head.appendChild(p);break;case"meta":if(E=fE("meta","content",h).get(c+(o.content||""))){for(x=0;x<E.length;x++)if(p=E[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(x,1);break t}}p=h.createElement(c),Tt(p,c,o),h.head.appendChild(p);break;default:throw Error(i(468,c))}p[Mt]=r,gt(p),c=p}r.stateNode=c}else dE(h,r.type,r.stateNode);else r.stateNode=uE(h,c,r.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?dE(h,r.type,r.stateNode):uE(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&d0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){h=r.stateNode,p=r.memoizedProps;try{for(var A=h.firstChild;A;){var k=A.nextSibling,z=A.nodeName;A[To]||z==="HEAD"||z==="BODY"||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=k}for(var K=r.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);Tt(h,K,p),h[Mt]=r,h[Gt]=p}catch(le){We(r,r.return,le)}}case 5:if(mn(s,r),pn(r),c&512&&(rt||o===null||Qt(o,o.return)),r.flags&32){h=r.stateNode;try{Ys(h,"")}catch(le){We(r,r.return,le)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,d0(r,h,o!==null?o.memoizedProps:h)),c&1024&&(am=!0);break;case 6:if(mn(s,r),pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(le){We(r,r.return,le)}}break;case 3:if(Iu=null,h=Rn,Rn=Ou(s.containerInfo),mn(s,r),Rn=h,pn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{yl(s.containerInfo)}catch(le){We(r,r.return,le)}am&&(am=!1,E0(r));break;case 4:c=Rn,Rn=Ou(r.stateNode.containerInfo),mn(s,r),pn(r),Rn=c;break;case 12:mn(s,r),pn(r);break;case 13:mn(s,r),pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gm=Vn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,om(r,c)));break;case 22:if(c&512&&(rt||o===null||Qt(o,o.return)),A=r.memoizedState!==null,k=o!==null&&o.memoizedState!==null,z=gr,K=rt,gr=z||A,rt=K||k,mn(s,r),rt=K,gr=z,pn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=A?s._visibility&-2:s._visibility|1,A&&(s=gr||rt,o===null||k||s||fa(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){k=o=s;try{if(h=k.stateNode,A)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=k.stateNode,x=k.memoizedProps.style;var B=x!=null&&x.hasOwnProperty("display")?x.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){We(k,k.return,le)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=A?"":k.memoizedProps}catch(le){We(k,k.return,le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,om(r,o))));break;case 19:mn(s,r),pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,om(r,c)));break;case 21:break;default:mn(s,r),pn(r)}}function pn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(h0(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var h=c.stateNode,p=im(r);pu(r,p,h);break;case 5:var E=c.stateNode;c.flags&32&&(Ys(E,""),c.flags&=-33);var x=im(r);pu(r,x,E);break;case 3:case 4:var A=c.stateNode.containerInfo,k=im(r);sm(r,k,A);break;default:throw Error(i(161))}}}catch(z){We(r,r.return,z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function E0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;E0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function yr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g0(r,s.alternate,s),s=s.sibling}function fa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:si(4,s,s.return),fa(s);break;case 1:Qt(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&u0(s,s.return,o),fa(s);break;case 26:case 27:case 5:Qt(s,s.return),fa(s);break;case 22:Qt(s,s.return),s.memoizedState===null&&fa(s);break;default:fa(s)}r=r.sibling}}function ai(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:ai(h,p,o),el(4,p);break;case 1:if(ai(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){We(c,c.return,k)}if(c=p,h=c.updateQueue,h!==null){var x=c.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)o0(A[h],x)}catch(k){We(c,c.return,k)}}o&&E&64&&c0(p),us(p,p.return);break;case 26:case 27:case 5:ai(h,p,o),o&&c===null&&E&4&&f0(p),us(p,p.return);break;case 12:ai(h,p,o);break;case 13:ai(h,p,o),o&&E&4&&_0(h,p);break;case 22:p.memoizedState===null&&ai(h,p,o),us(p,p.return);break;default:ai(h,p,o)}s=s.sibling}}function lm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vo(o))}function cm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vo(r))}function oi(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S0(r,s,o,c),s=s.sibling}function S0(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:oi(r,s,o,c),h&2048&&el(9,s);break;case 3:oi(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vo(r)));break;case 12:if(h&2048){oi(r,s,o,c),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,x=p.onPostCommit;typeof x=="function"&&x(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(A){We(s,s.return,A)}}else oi(r,s,o,c);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?oi(r,s,o,c):tl(r,s):p._visibility&4?oi(r,s,o,c):(p._visibility|=4,da(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&lm(s.alternate,s);break;case 24:oi(r,s,o,c),h&2048&&cm(s.alternate,s);break;default:oi(r,s,o,c)}}function da(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,x=o,A=c,k=E.flags;switch(E.tag){case 0:case 11:case 15:da(p,E,x,A,h),el(8,E);break;case 23:break;case 22:var z=E.stateNode;E.memoizedState!==null?z._visibility&4?da(p,E,x,A,h):tl(p,E):(z._visibility|=4,da(p,E,x,A,h)),h&&k&2048&&lm(E.alternate,E);break;case 24:da(p,E,x,A,h),h&&k&2048&&cm(E.alternate,E);break;default:da(p,E,x,A,h)}s=s.sibling}}function tl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:tl(o,c),h&2048&&lm(c.alternate,c);break;case 24:tl(o,c),h&2048&&cm(c.alternate,c);break;default:tl(o,c)}s=s.sibling}}var nl=8192;function ha(r){if(r.subtreeFlags&nl)for(r=r.child;r!==null;)w0(r),r=r.sibling}function w0(r){switch(r.tag){case 26:ha(r),r.flags&nl&&r.memoizedState!==null&&iM(Rn,r.memoizedState,r.memoizedProps);break;case 5:ha(r);break;case 3:case 4:var s=Rn;Rn=Ou(r.stateNode.containerInfo),ha(r),Rn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=nl,nl=16777216,ha(r),nl=s):ha(r));break;default:ha(r)}}function x0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function rl(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];yt=c,T0(c,r)}x0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C0(r),r=r.sibling}function C0(r){switch(r.tag){case 0:case 11:case 15:rl(r),r.flags&2048&&si(9,r,r.return);break;case 3:rl(r);break;case 12:rl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,gu(r)):rl(r);break;default:rl(r)}}function gu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];yt=c,T0(c,r)}x0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:si(8,s,s.return),gu(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,gu(s));break;default:gu(s)}r=r.sibling}}function T0(r,s){for(;yt!==null;){var o=yt;switch(o.tag){case 0:case 11:case 15:si(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vo(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yt=c;else e:for(o=r;yt!==null;){c=yt;var h=c.sibling,p=c.return;if(v0(c),c===o){yt=null;break e}if(h!==null){h.return=p,yt=h;break e}yt=p}}}function vO(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(r,s,o,c){return new vO(r,s,o,c)}function um(r){return r=r.prototype,!(!r||!r.isReactComponent)}function li(r,s){var o=r.alternate;return o===null?(o=gn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function R0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function vu(r,s,o,c,h,p){var E=0;if(c=r,typeof r=="function")um(r)&&(E=1);else if(typeof r=="string")E=nM(r,o,Wt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case d:return fs(o.children,h,p,s);case m:E=8,h|=24;break;case g:return r=gn(12,o,s,h|2),r.elementType=g,r.lanes=p,r;case C:return r=gn(13,o,s,h),r.elementType=C,r.lanes=p,r;case T:return r=gn(19,o,s,h),r.elementType=T,r.lanes=p,r;case N:return A0(o,h,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case v:case S:E=10;break e;case y:E=9;break e;case w:E=11;break e;case R:E=14;break e;case I:E=16,c=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=gn(E,o,s,h),s.elementType=r,s.type=c,s.lanes=p,s}function fs(r,s,o,c){return r=gn(7,r,c,s),r.lanes=o,r}function A0(r,s,o,c){r=gn(22,r,c,s),r.elementType=N,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(i(456));if(!(h._pendingVisibility&2)){var E=Xr(p,2);E!==null&&(h._pendingVisibility|=2,Pt(E,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(i(456));if(h._pendingVisibility&2){var E=Xr(p,2);E!==null&&(h._pendingVisibility&=-3,Pt(E,p,2))}}};return r.stateNode=h,r}function fm(r,s,o){return r=gn(6,r,null,s),r.lanes=o,r}function dm(r,s,o){return s=gn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _r(r){r.flags|=4}function N0(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!hE(s)){if(s=hn.current,s!==null&&((ke&4194176)===ke?qn!==null:(ke&62914560)!==ke&&!(ke&536870912)||s!==qn))throw Fo=vh,q_;r.flags|=8192}}function yu(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Wy():536870912,r.lanes|=s,pa|=s)}function il(r,s){if(!Le)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function et(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function yO(r,s,o){var c=s.pendingProps;switch(ph(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(s),null;case 1:return et(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),pr(ht),$r(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Uo(s)?_r(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Tn!==null&&(bm(Tn),Tn=null))),et(s),null;case 26:return o=s.memoizedState,r===null?(_r(s),o!==null?(et(s),N0(s,o)):(et(s),s.flags&=-16777217)):o?o!==r.memoizedState?(_r(s),et(s),N0(s,o)):(et(s),s.flags&=-16777217):(r.memoizedProps!==c&&_r(s),et(s),s.flags&=-16777217),null;case 27:zs(s),o=zt.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&_r(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return et(s),null}r=Wt.current,Uo(s)?V_(s):(r=sE(h,c,o),s.stateNode=r,_r(s))}return et(s),null;case 5:if(zs(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&_r(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return et(s),null}if(r=Wt.current,Uo(s))V_(s);else{switch(h=Nu(zt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Mt]=s,r[Gt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Tt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&_r(s)}}return et(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&_r(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=zt.current,Uo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=kt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Mt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||J0(r.nodeValue,o)),r||ts(s)}else r=Nu(r).createTextNode(c),r[Mt]=s,s.stateNode=r}return et(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Uo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Mt]=s}else jo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;et(s),h=!1}else Tn!==null&&(bm(Tn),Tn=null),h=!0;if(!h)return s.flags&256?(fr(s),s):(fr(s),null)}if(fr(s),s.flags&128)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),yu(s,s.updateQueue),et(s),null;case 4:return $r(),r===null&&Mm(s.stateNode.containerInfo),et(s),null;case 10:return pr(s.type),et(s),null;case 19:if(xe(dt),h=s.memoizedState,h===null)return et(s),null;if(c=(s.flags&128)!==0,p=h.rendering,p===null)if(c)il(h,!1);else{if(it!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(p=tu(r),p!==null){for(s.flags|=128,il(h,!1),r=p.updateQueue,s.updateQueue=r,yu(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)R0(o,r),o=o.sibling;return Be(dt,dt.current&1|2),s.child}r=r.sibling}h.tail!==null&&Vn()>_u&&(s.flags|=128,c=!0,il(h,!1),s.lanes=4194304)}else{if(!c)if(r=tu(p),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,yu(s,r),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Le)return et(s),null}else 2*Vn()-h.renderingStartTime>_u&&o!==536870912&&(s.flags|=128,c=!0,il(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(r=h.last,r!==null?r.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Vn(),s.sibling=null,r=dt.current,Be(dt,c?r&1|2:r&1),s):(et(s),null);case 22:case 23:return fr(s),_h(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?o&536870912&&!(s.flags&128)&&(et(s),s.subtreeFlags&6&&(s.flags|=8192)):et(s),o=s.updateQueue,o!==null&&yu(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&xe(rs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),pr(ht),et(s),null;case 25:return null}throw Error(i(156,s.tag))}function _O(r,s){switch(ph(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return pr(ht),$r(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return zs(s),null;case 13:if(fr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return xe(dt),null;case 4:return $r(),null;case 10:return pr(s.type),null;case 22:case 23:return fr(s),_h(),r!==null&&xe(rs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return pr(ht),null;case 25:return null;default:return null}}function O0(r,s){switch(ph(s),s.tag){case 3:pr(ht),$r();break;case 26:case 27:case 5:zs(s);break;case 4:$r();break;case 13:fr(s);break;case 19:xe(dt);break;case 10:pr(s.type);break;case 22:case 23:fr(s),_h(),r!==null&&xe(rs);break;case 24:pr(ht)}}var bO={getCacheForType:function(r){var s=It(ht),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},EO=typeof WeakMap=="function"?WeakMap:Map,tt=0,Ye=null,Ne=null,ke=0,Ke=0,Jt=null,br=!1,ma=!1,hm=!1,Er=0,it=0,ci=0,ds=0,mm=0,vn=0,pa=0,sl=null,Yn=null,pm=!1,gm=0,_u=1/0,bu=null,ui=null,Eu=!1,hs=null,al=0,vm=0,ym=null,ol=0,_m=null;function en(){if(tt&2&&ke!==0)return ke&-ke;if(q.T!==null){var r=aa;return r!==0?r:Rm()}return Qy()}function M0(){vn===0&&(vn=!(ke&536870912)||Le?qy():536870912);var r=hn.current;return r!==null&&(r.flags|=32),vn}function Pt(r,s,o){(r===Ye&&Ke===2||r.cancelPendingCommit!==null)&&(ga(r,0),Sr(r,ke,vn,!1)),Co(r,o),(!(tt&2)||r!==Ye)&&(r===Ye&&(!(tt&2)&&(ds|=o),it===4&&Sr(r,ke,vn,!1)),Kn(r))}function I0(r,s,o){if(tt&6)throw Error(i(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||xo(r,s),h=c?xO(r,s):wm(r,s,!0),p=c;do{if(h===0){ma&&!c&&Sr(r,s,0,!1);break}else if(h===6)Sr(r,s,0,!br);else{if(o=r.current.alternate,p&&!SO(o)){h=wm(r,s,!1),p=!1;continue}if(h===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var x=r;h=sl;var A=x.current.memoizedState.isDehydrated;if(A&&(ga(x,E).flags|=256),E=wm(x,E,!1),E!==2){if(hm&&!A){x.errorRecoveryDisabledLanes|=p,ds|=p,h=4;break e}p=Yn,Yn=h,p!==null&&bm(p)}h=E}if(p=!1,h!==2)continue}}if(h===1){ga(r,0),Sr(r,s,0,!0);break}e:{switch(c=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Sr(c,s,vn,!br);break e}break;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(p=gm+300-Vn(),10<p)){if(Sr(c,s,vn,!br),kc(c,0)!==0)break e;c.timeoutHandle=nE(D0.bind(null,c,o,Yn,bu,pm,s,vn,ds,pa,br,2,-0,0),p);break e}D0(c,o,Yn,bu,pm,s,vn,ds,pa,br,0,-0,0)}}break}while(!0);Kn(r)}function bm(r){Yn===null?Yn=r:Yn.push.apply(Yn,r)}function D0(r,s,o,c,h,p,E,x,A,k,z,K,j){var B=s.subtreeFlags;if((B&8192||(B&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:rM},w0(s),s=sM(),s!==null)){r.cancelPendingCommit=s(B0.bind(null,r,o,c,h,E,x,A,1,K,j)),Sr(r,p,E,!k);return}B0(r,o,c,h,E,x,A,z,K,j)}function SO(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Xt(p(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sr(r,s,o,c){s&=~mm,s&=~ds,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var p=31-Kt(h),E=1<<p;c[p]=-1,h&=~E}o!==0&&Yy(r,o,s)}function Su(){return tt&6?!0:(ll(0),!1)}function Em(){if(Ne!==null){if(Ke===0)var r=Ne.return;else r=Ne,mr=ls=null,Rh(r),ia=null,zo=0,r=Ne;for(;r!==null;)O0(r.alternate,r),r=r.return;Ne=null}}function ga(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,FO(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Em(),Ye=r,Ne=o=li(r.current,null),ke=s,Ke=0,Jt=null,br=!1,ma=xo(r,s),hm=!1,pa=vn=mm=ds=ci=it=0,Yn=sl=null,pm=!1,s&8&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Kt(c),p=1<<h;s|=r[h],c&=~p}return Er=s,qc(),o}function k0(r,s){we=null,q.H=Wn,s===Bo?(s=K_(),Ke=3):s===q_?(s=K_(),Ke=4):Ke=s===Wb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jt=s,Ne===null&&(it=1,du(r,un(s,r.current)))}function P0(){var r=q.H;return q.H=Wn,r===null?Wn:r}function L0(){var r=q.A;return q.A=bO,r}function Sm(){it=4,br||(ke&4194176)!==ke&&hn.current!==null||(ma=!0),!(ci&134217727)&&!(ds&134217727)||Ye===null||Sr(Ye,ke,vn,!1)}function wm(r,s,o){var c=tt;tt|=2;var h=P0(),p=L0();(Ye!==r||ke!==s)&&(bu=null,ga(r,s)),s=!1;var E=it;e:do try{if(Ke!==0&&Ne!==null){var x=Ne,A=Jt;switch(Ke){case 8:Em(),E=6;break e;case 3:case 2:case 6:hn.current===null&&(s=!0);var k=Ke;if(Ke=0,Jt=null,va(r,x,A,k),o&&ma){E=0;break e}break;default:k=Ke,Ke=0,Jt=null,va(r,x,A,k)}}wO(),E=it;break}catch(z){k0(r,z)}while(!0);return s&&r.shellSuspendCounter++,mr=ls=null,tt=c,q.H=h,q.A=p,Ne===null&&(Ye=null,ke=0,qc()),E}function wO(){for(;Ne!==null;)U0(Ne)}function xO(r,s){var o=tt;tt|=2;var c=P0(),h=L0();Ye!==r||ke!==s?(bu=null,_u=Vn()+500,ga(r,s)):ma=xo(r,s);e:do try{if(Ke!==0&&Ne!==null){s=Ne;var p=Jt;t:switch(Ke){case 1:Ke=0,Jt=null,va(r,s,p,1);break;case 2:if(W_(p)){Ke=0,Jt=null,j0(s);break}s=function(){Ke===2&&Ye===r&&(Ke=7),Kn(r)},p.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:W_(p)?(Ke=0,Jt=null,j0(s)):(Ke=0,Jt=null,va(r,s,p,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var x=Ne;if(!E||hE(E)){Ke=0,Jt=null;var A=x.sibling;if(A!==null)Ne=A;else{var k=x.return;k!==null?(Ne=k,wu(k)):Ne=null}break t}}Ke=0,Jt=null,va(r,s,p,5);break;case 6:Ke=0,Jt=null,va(r,s,p,6);break;case 8:Em(),it=6;break e;default:throw Error(i(462))}}CO();break}catch(z){k0(r,z)}while(!0);return mr=ls=null,q.H=c,q.A=h,tt=o,Ne!==null?0:(Ye=null,ke=0,qc(),it)}function CO(){for(;Ne!==null&&!W1();)U0(Ne)}function U0(r){var s=s0(r.alternate,r,Er);r.memoizedProps=r.pendingProps,s===null?wu(r):Ne=s}function j0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Jb(o,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=Jb(o,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:Rh(s);default:O0(o,s),s=Ne=R0(s,Er),s=s0(o,s,Er)}r.memoizedProps=r.pendingProps,s===null?wu(r):Ne=s}function va(r,s,o,c){mr=ls=null,Rh(s),ia=null,zo=0;var h=s.return;try{if(hO(r,h,s,o,ke)){it=1,du(r,un(o,r.current)),Ne=null;return}}catch(p){if(h!==null)throw Ne=h,p;it=1,du(r,un(o,r.current)),Ne=null;return}s.flags&32768?(Le||c===1?r=!0:ma||ke&536870912?r=!1:(br=r=!0,(c===2||c===3||c===6)&&(c=hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),H0(s,r)):wu(s)}function wu(r){var s=r;do{if(s.flags&32768){H0(s,br);return}r=s.return;var o=yO(s.alternate,s,Er);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=r}while(s!==null);it===0&&(it=5)}function H0(r,s){do{var o=_O(r.alternate,r);if(o!==null){o.flags&=32767,Ne=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ne=r;return}Ne=r=o}while(r!==null);it=6,Ne=null}function B0(r,s,o,c,h,p,E,x,A,k){var z=q.T,K=J.p;try{J.p=2,q.T=null,TO(r,s,o,c,K,h,p,E,x,A,k)}finally{q.T=z,J.p=K}}function TO(r,s,o,c,h,p,E,x){do ya();while(hs!==null);if(tt&6)throw Error(i(327));var A=r.finishedWork;if(c=r.finishedLanes,A===null)return null;if(r.finishedWork=null,r.finishedLanes=0,A===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var k=A.lanes|A.childLanes;if(k|=dh,iN(r,c,k,p,E,x),r===Ye&&(Ne=Ye=null,ke=0),!(A.subtreeFlags&10256)&&!(A.flags&10256)||Eu||(Eu=!0,vm=k,ym=o,OO(Mc,function(){return ya(),null})),o=(A.flags&15990)!==0,A.subtreeFlags&15990||o?(o=q.T,q.T=null,p=J.p,J.p=2,E=tt,tt|=4,pO(r,A),b0(A,r),XN(Pm,r.containerInfo),Pu=!!km,Pm=km=null,r.current=A,g0(r,A.alternate,A),Y1(),tt=E,J.p=p,q.T=o):r.current=A,Eu?(Eu=!1,hs=r,al=c):F0(r,k),k=r.pendingLanes,k===0&&(ui=null),J1(A.stateNode),Kn(r),s!==null)for(h=r.onRecoverableError,A=0;A<s.length;A++)k=s[A],h(k.value,{componentStack:k.stack});return al&3&&ya(),k=r.pendingLanes,c&4194218&&k&42?r===_m?ol++:(ol=0,_m=r):ol=0,ll(0),null}function F0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Vo(s)))}function ya(){if(hs!==null){var r=hs,s=vm;vm=0;var o=Xy(al),c=q.T,h=J.p;try{if(J.p=32>o?32:o,q.T=null,hs===null)var p=!1;else{o=ym,ym=null;var E=hs,x=al;if(hs=null,al=0,tt&6)throw Error(i(331));var A=tt;if(tt|=4,C0(E.current),S0(E,E.current,x,o),tt=A,ll(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(wo,E)}catch{}p=!0}return p}finally{J.p=h,q.T=c,F0(r,s)}}return!1}function z0(r,s,o){s=un(o,s),s=Fh(r.stateNode,s,2),r=ii(r,s,2),r!==null&&(Co(r,2),Kn(r))}function We(r,s,o){if(r.tag===3)z0(r,r,o);else for(;s!==null;){if(s.tag===3){z0(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ui===null||!ui.has(c))){r=un(o,r),o=$b(2),c=ii(s,o,2),c!==null&&(qb(o,c,s,r),Co(c,2),Kn(c));break}}s=s.return}}function xm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new EO;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(hm=!0,h.add(o),r=RO.bind(null,r,s,o),s.then(r,r))}function RO(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ye===r&&(ke&o)===o&&(it===4||it===3&&(ke&62914560)===ke&&300>Vn()-gm?!(tt&2)&&ga(r,0):mm|=o,pa===ke&&(pa=0)),Kn(r)}function G0(r,s){s===0&&(s=Wy()),r=Xr(r,s),r!==null&&(Co(r,s),Kn(r))}function AO(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),G0(r,o)}function NO(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),G0(r,o)}function OO(r,s){return zd(r,s)}var xu=null,_a=null,Cm=!1,Cu=!1,Tm=!1,ms=0;function Kn(r){r!==_a&&r.next===null&&(_a===null?xu=_a=r:_a=_a.next=r),Cu=!0,Cm||(Cm=!0,IO(MO))}function ll(r,s){if(!Tm&&Cu){Tm=!0;do for(var o=!1,c=xu;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var E=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-Kt(42|r)+1)-1,p&=h&~(E&~x),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,q0(c,p))}else p=ke,p=kc(c,c===Ye?p:0),!(p&3)||xo(c,p)||(o=!0,q0(c,p));c=c.next}while(o);Tm=!1}}function MO(){Cu=Cm=!1;var r=0;ms!==0&&(BO()&&(r=ms),ms=0);for(var s=Vn(),o=null,c=xu;c!==null;){var h=c.next,p=V0(c,s);p===0?(c.next=null,o===null?xu=h:o.next=h,h===null&&(_a=o)):(o=c,(r!==0||p&3)&&(Cu=!0)),c=h}ll(r)}function V0(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Kt(p),x=1<<E,A=h[E];A===-1?(!(x&o)||x&c)&&(h[E]=rN(x,s)):A<=s&&(r.expiredLanes|=x),p&=~x}if(s=Ye,o=ke,o=kc(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&Ke===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Gd(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||xo(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Gd(c),Xy(o)){case 2:case 8:o=Vy;break;case 32:o=Mc;break;case 268435456:o=$y;break;default:o=Mc}return c=$0.bind(null,r),o=zd(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Gd(c),r.callbackPriority=2,r.callbackNode=null,2}function $0(r,s){var o=r.callbackNode;if(ya()&&r.callbackNode!==o)return null;var c=ke;return c=kc(r,r===Ye?c:0),c===0?null:(I0(r,c,s),V0(r,Vn()),r.callbackNode!=null&&r.callbackNode===o?$0.bind(null,r):null)}function q0(r,s){if(ya())return null;I0(r,s,!0)}function IO(r){zO(function(){tt&6?zd(Gy,r):r()})}function Rm(){return ms===0&&(ms=qy()),ms}function W0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Hc(""+r)}function Y0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function DO(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var p=W0((h[Gt]||null).action),E=c.submitter;E&&(s=(s=E[Gt]||null)?W0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var x=new Gc("action","action",null,c,h);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ms!==0){var A=E?Y0(h,E):new FormData(h);Lh(o,{pending:!0,data:A,method:h.method,action:p},null,A)}}else typeof p=="function"&&(x.preventDefault(),A=E?Y0(h,E):new FormData(h),Lh(o,{pending:!0,data:A,method:h.method,action:p},p,A))},currentTarget:h}]})}}for(var Am=0;Am<B_.length;Am++){var Nm=B_[Am],kO=Nm.toLowerCase(),PO=Nm[0].toUpperCase()+Nm.slice(1);Cn(kO,"on"+PO)}Cn(P_,"onAnimationEnd"),Cn(L_,"onAnimationIteration"),Cn(U_,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(ZN,"onTransitionRun"),Cn(JN,"onTransitionStart"),Cn(eO,"onTransitionCancel"),Cn(j_,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function K0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var E=c.length-1;0<=E;E--){var x=c[E],A=x.instance,k=x.currentTarget;if(x=x.listener,A!==p&&h.isPropagationStopped())break e;p=x,h.currentTarget=k;try{p(h)}catch(z){fu(z)}h.currentTarget=null,p=A}else for(E=0;E<c.length;E++){if(x=c[E],A=x.instance,k=x.currentTarget,x=x.listener,A!==p&&h.isPropagationStopped())break e;p=x,h.currentTarget=k;try{p(h)}catch(z){fu(z)}h.currentTarget=null,p=A}}}}function Ie(r,s){var o=s[$d];o===void 0&&(o=s[$d]=new Set);var c=r+"__bubble";o.has(c)||(X0(s,r,2,!1),o.add(c))}function Om(r,s,o){var c=0;s&&(c|=4),X0(o,r,c,s)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Mm(r){if(!r[Tu]){r[Tu]=!0,Jy.forEach(function(o){o!=="selectionchange"&&(LO.has(o)||Om(o,!1,r),Om(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tu]||(s[Tu]=!0,Om("selectionchange",!1,s))}}function X0(r,s,o,c){switch(_E(s)){case 2:var h=lM;break;case 8:h=cM;break;default:h=Vm}o=h.bind(null,s,o,r),h=void 0,!Jd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Im(r,s,o,c,h){var p=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var x=c.stateNode.containerInfo;if(x===h||x.nodeType===8&&x.parentNode===h)break;if(E===4)for(E=c.return;E!==null;){var A=E.tag;if((A===3||A===4)&&(A=E.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;E=E.return}for(;x!==null;){if(E=Yi(x),E===null)return;if(A=E.tag,A===5||A===6||A===26||A===27){c=p=E;continue e}x=x.parentNode}}c=c.return}f_(function(){var k=p,z=Qd(o),K=[];e:{var j=H_.get(r);if(j!==void 0){var B=Gc,le=r;switch(r){case"keypress":if(Fc(o)===0)break e;case"keydown":case"keyup":B=NN;break;case"focusin":le="focus",B=rh;break;case"focusout":le="blur",B=rh;break;case"beforeblur":case"afterblur":B=rh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=m_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=IN;break;case P_:case L_:case U_:B=bN;break;case j_:B=kN;break;case"scroll":case"scrollend":B=pN;break;case"wheel":B=LN;break;case"copy":case"cut":case"paste":B=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=g_;break;case"toggle":case"beforetoggle":B=jN}var ve=(s&4)!==0,st=!ve&&(r==="scroll"||r==="scrollend"),L=ve?j!==null?j+"Capture":null:j;ve=[];for(var D=k,U;D!==null;){var $=D;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||L===null||($=Ao(D,L),$!=null&&ve.push(ul(D,$,U))),st)break;D=D.return}0<ve.length&&(j=new B(j,le,null,o,z),K.push({event:j,listeners:ve}))}}if(!(s&7)){e:{if(j=r==="mouseover"||r==="pointerover",B=r==="mouseout"||r==="pointerout",j&&o!==Xd&&(le=o.relatedTarget||o.fromElement)&&(Yi(le)||le[Gs]))break e;if((B||j)&&(j=z.window===z?z:(j=z.ownerDocument)?j.defaultView||j.parentWindow:window,B?(le=o.relatedTarget||o.toElement,B=k,le=le?Yi(le):null,le!==null&&(st=V(le),ve=le.tag,le!==st||ve!==5&&ve!==27&&ve!==6)&&(le=null)):(B=null,le=k),B!==le)){if(ve=m_,$="onMouseLeave",L="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ve=g_,$="onPointerLeave",L="onPointerEnter",D="pointer"),st=B==null?j:Ro(B),U=le==null?j:Ro(le),j=new ve($,D+"leave",B,o,z),j.target=st,j.relatedTarget=U,$=null,Yi(z)===k&&(ve=new ve(L,D+"enter",le,o,z),ve.target=U,ve.relatedTarget=st,$=ve),st=$,B&&le)t:{for(ve=B,L=le,D=0,U=ve;U;U=ba(U))D++;for(U=0,$=L;$;$=ba($))U++;for(;0<D-U;)ve=ba(ve),D--;for(;0<U-D;)L=ba(L),U--;for(;D--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=ba(ve),L=ba(L)}ve=null}else ve=null;B!==null&&Q0(K,j,B,ve,!1),le!==null&&st!==null&&Q0(K,st,le,ve,!0)}}e:{if(j=k?Ro(k):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ae=x_;else if(S_(j))if(C_)ae=YN;else{ae=qN;var Ce=$N}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&Kd(k.elementType)&&(ae=x_):ae=WN;if(ae&&(ae=ae(r,k))){w_(K,ae,o,z);break e}Ce&&Ce(r,j,k),r==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&Yd(j,"number",j.value)}switch(Ce=k?Ro(k):window,r){case"focusin":(S_(Ce)||Ce.contentEditable==="true")&&(Zs=Ce,ch=k,Lo=null);break;case"focusout":Lo=ch=Zs=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,D_(K,o,z);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":D_(K,o,z)}var ce;if(sh)e:{switch(r){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Qs?b_(r,o)&&(fe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(v_&&o.locale!=="ko"&&(Qs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Qs&&(ce=d_()):(Kr=z,eh="value"in Kr?Kr.value:Kr.textContent,Qs=!0)),Ce=Ru(k,fe),0<Ce.length&&(fe=new p_(fe,r,null,o,z),K.push({event:fe,listeners:Ce}),ce?fe.data=ce:(ce=E_(o),ce!==null&&(fe.data=ce)))),(ce=BN?FN(r,o):zN(r,o))&&(fe=Ru(k,"onBeforeInput"),0<fe.length&&(Ce=new p_("onBeforeInput","beforeinput",null,o,z),K.push({event:Ce,listeners:fe}),Ce.data=ce)),DO(K,r,k,o,z)}K0(K,s)})}function ul(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ru(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ao(r,o),h!=null&&c.unshift(ul(r,h,p)),h=Ao(r,s),h!=null&&c.push(ul(r,h,p))),r=r.return}return c}function ba(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q0(r,s,o,c,h){for(var p=s._reactName,E=[];o!==null&&o!==c;){var x=o,A=x.alternate,k=x.stateNode;if(x=x.tag,A!==null&&A===c)break;x!==5&&x!==26&&x!==27||k===null||(A=k,h?(k=Ao(o,p),k!=null&&E.unshift(ul(o,k,A))):h||(k=Ao(o,p),k!=null&&E.push(ul(o,k,A)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var UO=/\r\n?/g,jO=/\u0000|\uFFFD/g;function Z0(r){return(typeof r=="string"?r:""+r).replace(UO,`
`).replace(jO,"")}function J0(r,s){return s=Z0(s),Z0(r)===s}function Au(){}function Ge(r,s,o,c,h,p){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ys(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ys(r,""+c);break;case"className":Lc(r,"class",c);break;case"tabIndex":Lc(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Lc(r,o,c);break;case"style":c_(r,c,p);break;case"data":if(s!=="object"){Lc(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Hc(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Ge(r,s,"name",h.name,h,null),Ge(r,s,"formEncType",h.formEncType,h,null),Ge(r,s,"formMethod",h.formMethod,h,null),Ge(r,s,"formTarget",h.formTarget,h,null)):(Ge(r,s,"encType",h.encType,h,null),Ge(r,s,"method",h.method,h,null),Ge(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Hc(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Au);break;case"onScroll":c!=null&&Ie("scroll",r);break;case"onScrollEnd":c!=null&&Ie("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Hc(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ie("beforetoggle",r),Ie("toggle",r),Pc(r,"popover",c);break;case"xlinkActuate":lr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":lr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":lr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":lr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":lr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":lr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":lr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":lr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":lr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pc(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hN.get(o)||o,Pc(r,o,c))}}function Dm(r,s,o,c,h,p){switch(o){case"style":c_(r,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Ys(r,c):(typeof c=="number"||typeof c=="bigint")&&Ys(r,""+c);break;case"onScroll":c!=null&&Ie("scroll",r);break;case"onScrollEnd":c!=null&&Ie("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!e_.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),p=r[Gt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Pc(r,o,c)}}}function Tt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",r),Ie("load",r);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(r,s,p,E,o,null)}}h&&Ge(r,s,"srcSet",o.srcSet,o,null),c&&Ge(r,s,"src",o.src,o,null);return;case"input":Ie("invalid",r);var x=p=E=h=null,A=null,k=null;for(c in o)if(o.hasOwnProperty(c)){var z=o[c];if(z!=null)switch(c){case"name":h=z;break;case"type":E=z;break;case"checked":A=z;break;case"defaultChecked":k=z;break;case"value":p=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:Ge(r,s,c,z,o,null)}}s_(r,p,x,A,k,E,h,!1),Uc(r);return;case"select":Ie("invalid",r),c=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":p=x;break;case"defaultValue":E=x;break;case"multiple":c=x;default:Ge(r,s,h,x,o,null)}s=p,o=E,r.multiple=!!c,s!=null?Ws(r,!!c,s,!1):o!=null&&Ws(r,!!c,o,!0);return;case"textarea":Ie("invalid",r),p=h=c=null;for(E in o)if(o.hasOwnProperty(E)&&(x=o[E],x!=null))switch(E){case"value":c=x;break;case"defaultValue":h=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Ge(r,s,E,x,o,null)}o_(r,c,h,p),Uc(r);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(c=o[A],c!=null))switch(A){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ge(r,s,A,c,o,null)}return;case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":Ie("load",r);break;case"video":case"audio":for(c=0;c<cl.length;c++)Ie(cl[c],r);break;case"image":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"embed":case"source":case"link":Ie("error",r),Ie("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(r,s,k,c,o,null)}return;default:if(Kd(s)){for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!==void 0&&Dm(r,s,z,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Ge(r,s,x,c,o,null))}function HO(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,x=null,A=null,k=null,z=null;for(B in o){var K=o[B];if(o.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=K;default:c.hasOwnProperty(B)||Ge(r,s,B,null,c,K)}}for(var j in c){var B=c[j];if(K=o[j],c.hasOwnProperty(j)&&(B!=null||K!=null))switch(j){case"type":p=B;break;case"name":h=B;break;case"checked":k=B;break;case"defaultChecked":z=B;break;case"value":E=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,s));break;default:B!==K&&Ge(r,s,j,B,c,K)}}Wd(r,E,x,A,k,z,p,h);return;case"select":B=E=x=j=null;for(p in o)if(A=o[p],o.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":B=A;default:c.hasOwnProperty(p)||Ge(r,s,p,null,c,A)}for(h in c)if(p=c[h],A=o[h],c.hasOwnProperty(h)&&(p!=null||A!=null))switch(h){case"value":j=p;break;case"defaultValue":x=p;break;case"multiple":E=p;default:p!==A&&Ge(r,s,h,p,c,A)}s=x,o=E,c=B,j!=null?Ws(r,!!o,j,!1):!!c!=!!o&&(s!=null?Ws(r,!!o,s,!0):Ws(r,!!o,o?[]:"",!1));return;case"textarea":B=j=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ge(r,s,x,null,c,h)}for(E in c)if(h=c[E],p=o[E],c.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Ge(r,s,E,h,c,p)}a_(r,j,B);return;case"option":for(var le in o)if(j=o[le],o.hasOwnProperty(le)&&j!=null&&!c.hasOwnProperty(le))switch(le){case"selected":r.selected=!1;break;default:Ge(r,s,le,null,c,j)}for(A in c)if(j=c[A],B=o[A],c.hasOwnProperty(A)&&j!==B&&(j!=null||B!=null))switch(A){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ge(r,s,A,j,c,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)j=o[ve],o.hasOwnProperty(ve)&&j!=null&&!c.hasOwnProperty(ve)&&Ge(r,s,ve,null,c,j);for(k in c)if(j=c[k],B=o[k],c.hasOwnProperty(k)&&j!==B&&(j!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,s));break;default:Ge(r,s,k,j,c,B)}return;default:if(Kd(s)){for(var st in o)j=o[st],o.hasOwnProperty(st)&&j!==void 0&&!c.hasOwnProperty(st)&&Dm(r,s,st,void 0,c,j);for(z in c)j=c[z],B=o[z],!c.hasOwnProperty(z)||j===B||j===void 0&&B===void 0||Dm(r,s,z,j,c,B);return}}for(var L in o)j=o[L],o.hasOwnProperty(L)&&j!=null&&!c.hasOwnProperty(L)&&Ge(r,s,L,null,c,j);for(K in c)j=c[K],B=o[K],!c.hasOwnProperty(K)||j===B||j==null&&B==null||Ge(r,s,K,j,c,B)}var km=null,Pm=null;function Nu(r){return r.nodeType===9?r:r.ownerDocument}function eE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Um=null;function BO(){var r=window.event;return r&&r.type==="popstate"?r===Um?!1:(Um=r,!0):(Um=null,!1)}var nE=typeof setTimeout=="function"?setTimeout:void 0,FO=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,zO=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(r){return rE.resolve(null).then(r).catch(GO)}:nE;function GO(r){setTimeout(function(){throw r})}function jm(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),yl(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);yl(s)}function Hm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hm(o),qd(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function VO(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[To])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=An(r.nextSibling),r===null)break}return null}function $O(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=An(r.nextSibling),r===null))return null;return r}function An(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function iE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function sE(r,s,o){switch(s=Nu(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var yn=new Map,aE=new Set;function Ou(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var wr=J.d;J.d={f:qO,r:WO,D:YO,C:KO,L:XO,m:QO,X:JO,S:ZO,M:eM};function qO(){var r=wr.f(),s=Su();return r||s}function WO(r){var s=Vs(r);s!==null&&s.tag===5&&s.type==="form"?Db(s):wr.r(r)}var Ea=typeof document>"u"?null:document;function oE(r,s,o){var c=Ea;if(c&&typeof s=="string"&&s){var h=ln(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),aE.has(h)||(aE.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),Tt(s,"link",r),gt(s),c.head.appendChild(s)))}}function YO(r){wr.D(r),oE("dns-prefetch",r,null)}function KO(r,s){wr.C(r,s),oE("preconnect",r,s)}function XO(r,s,o){wr.L(r,s,o);var c=Ea;if(c&&r&&s){var h='link[rel="preload"][as="'+ln(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ln(o.imageSizes)+'"]')):h+='[href="'+ln(r)+'"]';var p=h;switch(s){case"style":p=Sa(r);break;case"script":p=wa(r)}yn.has(p)||(r=Z({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),yn.set(p,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(fl(p))||s==="script"&&c.querySelector(dl(p))||(s=c.createElement("link"),Tt(s,"link",r),gt(s),c.head.appendChild(s)))}}function QO(r,s){wr.m(r,s);var o=Ea;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+ln(c)+'"][href="'+ln(r)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wa(r)}if(!yn.has(p)&&(r=Z({rel:"modulepreload",href:r},s),yn.set(p,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(dl(p)))return}c=o.createElement("link"),Tt(c,"link",r),gt(c),o.head.appendChild(c)}}}function ZO(r,s,o){wr.S(r,s,o);var c=Ea;if(c&&r){var h=$s(c).hoistableStyles,p=Sa(r);s=s||"default";var E=h.get(p);if(!E){var x={loading:0,preload:null};if(E=c.querySelector(fl(p)))x.loading=5;else{r=Z({rel:"stylesheet",href:r,"data-precedence":s},o),(o=yn.get(p))&&Bm(r,o);var A=E=c.createElement("link");gt(A),Tt(A,"link",r),A._p=new Promise(function(k,z){A.onload=k,A.onerror=z}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Mu(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:x},h.set(p,E)}}}function JO(r,s){wr.X(r,s);var o=Ea;if(o&&r){var c=$s(o).hoistableScripts,h=wa(r),p=c.get(h);p||(p=o.querySelector(dl(h)),p||(r=Z({src:r,async:!0},s),(s=yn.get(h))&&Fm(r,s),p=o.createElement("script"),gt(p),Tt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function eM(r,s){wr.M(r,s);var o=Ea;if(o&&r){var c=$s(o).hoistableScripts,h=wa(r),p=c.get(h);p||(p=o.querySelector(dl(h)),p||(r=Z({src:r,async:!0,type:"module"},s),(s=yn.get(h))&&Fm(r,s),p=o.createElement("script"),gt(p),Tt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function lE(r,s,o,c){var h=(h=zt.current)?Ou(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Sa(o.href),o=$s(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Sa(o.href);var p=$s(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(fl(r)))&&!p._p&&(E.instance=p,E.state.loading=5),yn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yn.set(r,o),p||tM(h,r,o,E.state))),s&&c===null)throw Error(i(528,""));return E}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wa(o),o=$s(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Sa(r){return'href="'+ln(r)+'"'}function fl(r){return'link[rel="stylesheet"]['+r+"]"}function cE(r){return Z({},r,{"data-precedence":r.precedence,precedence:null})}function tM(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Tt(s,"link",o),gt(s),r.head.appendChild(s))}function wa(r){return'[src="'+ln(r)+'"]'}function dl(r){return"script[async]"+r}function uE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+ln(o.href)+'"]');if(c)return s.instance=c,gt(c),c;var h=Z({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),gt(c),Tt(c,"style",h),Mu(c,o.precedence,r),s.instance=c;case"stylesheet":h=Sa(o.href);var p=r.querySelector(fl(h));if(p)return s.state.loading|=4,s.instance=p,gt(p),p;c=cE(o),(h=yn.get(h))&&Bm(c,h),p=(r.ownerDocument||r).createElement("link"),gt(p);var E=p;return E._p=new Promise(function(x,A){E.onload=x,E.onerror=A}),Tt(p,"link",c),s.state.loading|=4,Mu(p,o.precedence,r),s.instance=p;case"script":return p=wa(o.src),(h=r.querySelector(dl(p)))?(s.instance=h,gt(h),h):(c=o,(h=yn.get(p))&&(c=Z({},o),Fm(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),gt(h),Tt(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(c=s.instance,s.state.loading|=4,Mu(c,o.precedence,r));return s.instance}function Mu(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,E=0;E<c.length;E++){var x=c[E];if(x.dataset.precedence===s)p=x;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Bm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Fm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Iu=null;function fE(r,s,o){if(Iu===null){var c=new Map,h=Iu=new Map;h.set(o,c)}else h=Iu,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[To]||p[Mt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var x=c.get(E);x?x.push(p):c.set(E,[p])}}return c}function dE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function nM(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hE(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var hl=null;function rM(){}function iM(r,s,o){if(hl===null)throw Error(i(475));var c=hl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var h=Sa(o.href),p=r.querySelector(fl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Du.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=p,gt(p);return}p=r.ownerDocument||r,o=cE(o),(h=yn.get(h))&&Bm(o,h),p=p.createElement("link"),gt(p);var E=p;E._p=new Promise(function(x,A){E.onload=x,E.onerror=A}),Tt(p,"link",o),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(c.count++,s=Du.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function sM(){if(hl===null)throw Error(i(475));var r=hl;return r.stylesheets&&r.count===0&&zm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&zm(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ku=null;function zm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ku=new Map,s.forEach(aM,r),ku=null,Du.call(r))}function aM(r,s){if(!(s.state.loading&4)){var o=ku.get(r);if(o)var c=o.get(null);else{o=new Map,ku.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}h=s.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||c,p===c&&o.set(null,h),o.set(E,h),this.count++,c=Du.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var ml={$$typeof:S,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function oM(r,s,o,c,h,p,E,x){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.hiddenUpdates=Vd(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function mE(r,s,o,c,h,p,E,x,A,k,z,K){return r=new oM(r,s,o,E,x,A,k,K),s=1,p===!0&&(s|=24),p=gn(3,null,null,s),r.current=p,p.stateNode=r,s=bh(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:s},em(p),r}function pE(r){return r?(r=ta,r):ta}function gE(r,s,o,c,h,p){h=pE(h),c.context===null?c.context=h:c.pendingContext=h,c=ri(s),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=ii(r,c,s),o!==null&&(Pt(o,r,s),Qo(o,r,s))}function vE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Gm(r,s){vE(r,s),(r=r.alternate)&&vE(r,s)}function yE(r){if(r.tag===13){var s=Xr(r,67108864);s!==null&&Pt(s,r,67108864),Gm(r,67108864)}}var Pu=!0;function lM(r,s,o,c){var h=q.T;q.T=null;var p=J.p;try{J.p=2,Vm(r,s,o,c)}finally{J.p=p,q.T=h}}function cM(r,s,o,c){var h=q.T;q.T=null;var p=J.p;try{J.p=8,Vm(r,s,o,c)}finally{J.p=p,q.T=h}}function Vm(r,s,o,c){if(Pu){var h=$m(c);if(h===null)Im(r,s,c,Lu,o),bE(r,c);else if(fM(h,r,s,o,c))c.stopPropagation();else if(bE(r,c),s&4&&-1<uM.indexOf(r)){for(;h!==null;){var p=Vs(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Wi(p.pendingLanes);if(E!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var A=1<<31-Kt(E);x.entanglements[1]|=A,E&=~A}Kn(p),!(tt&6)&&(_u=Vn()+500,ll(0))}}break;case 13:x=Xr(p,2),x!==null&&Pt(x,p,2),Su(),Gm(p,2)}if(p=$m(c),p===null&&Im(r,s,c,Lu,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else Im(r,s,c,null,o)}}function $m(r){return r=Qd(r),qm(r)}var Lu=null;function qm(r){if(Lu=null,r=Yi(r),r!==null){var s=V(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=X(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lu=r,null}function _E(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K1()){case Gy:return 2;case Vy:return 8;case Mc:case X1:return 32;case $y:return 268435456;default:return 32}default:return 32}}var Wm=!1,fi=null,di=null,hi=null,pl=new Map,gl=new Map,mi=[],uM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(r,s){switch(r){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":pl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(s.pointerId)}}function vl(r,s,o,c,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Vs(s),s!==null&&yE(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function fM(r,s,o,c,h){switch(s){case"focusin":return fi=vl(fi,r,s,o,c,h),!0;case"dragenter":return di=vl(di,r,s,o,c,h),!0;case"mouseover":return hi=vl(hi,r,s,o,c,h),!0;case"pointerover":var p=h.pointerId;return pl.set(p,vl(pl.get(p)||null,r,s,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,gl.set(p,vl(gl.get(p)||null,r,s,o,c,h)),!0}return!1}function EE(r){var s=Yi(r.target);if(s!==null){var o=V(s);if(o!==null){if(s=o.tag,s===13){if(s=X(o),s!==null){r.blockedOn=s,sN(r.priority,function(){if(o.tag===13){var c=en(),h=Xr(o,c);h!==null&&Pt(h,o,c),Gm(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uu(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=$m(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Xd=c,o.target.dispatchEvent(c),Xd=null}else return s=Vs(o),s!==null&&yE(s),r.blockedOn=o,!1;s.shift()}return!0}function SE(r,s,o){Uu(r)&&o.delete(s)}function dM(){Wm=!1,fi!==null&&Uu(fi)&&(fi=null),di!==null&&Uu(di)&&(di=null),hi!==null&&Uu(hi)&&(hi=null),pl.forEach(SE),gl.forEach(SE)}function ju(r,s){r.blockedOn===s&&(r.blockedOn=null,Wm||(Wm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dM)))}var Hu=null;function wE(r){Hu!==r&&(Hu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hu===r&&(Hu=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(qm(c||o)===null)continue;break}var p=Vs(o);p!==null&&(r.splice(s,3),s-=3,Lh(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function yl(r){function s(A){return ju(A,r)}fi!==null&&ju(fi,r),di!==null&&ju(di,r),hi!==null&&ju(hi,r),pl.forEach(s),gl.forEach(s);for(var o=0;o<mi.length;o++){var c=mi[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<mi.length&&(o=mi[0],o.blockedOn===null);)EE(o),o.blockedOn===null&&mi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],E=h[Gt]||null;if(typeof p=="function")E||wE(o);else if(E){var x=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Gt]||null)x=E.formAction;else if(qm(h)!==null)continue}else x=E.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),wE(o)}}}function Ym(r){this._internalRoot=r}Bu.prototype.render=Ym.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=en();gE(o,c,r,s,null,null)},Bu.prototype.unmount=Ym.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&ya(),gE(r.current,2,null,r,null,null),Su(),s[Gs]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qy();r={blockedOn:null,target:r,priority:s};for(var o=0;o<mi.length&&s!==0&&s<mi[o].priority;o++);mi.splice(o,0,r),o===0&&EE(r)}};var xE=e.version;if(xE!=="19.0.0")throw Error(i(527,xE,"19.0.0"));J.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=F(s),r=r!==null?ie(r):null,r=r===null?null:r.stateNode,r};var hM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:Yi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{wo=Fu.inject(hM),Yt=Fu}catch{}}return bl.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",h=Fb,p=zb,E=Gb,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=mE(r,1,!1,null,null,o,c,h,p,E,x,null),r[Gs]=s.current,Mm(r.nodeType===8?r.parentNode:r),new Ym(s)},bl.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,h="",p=Fb,E=zb,x=Gb,A=null,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(A=o.unstable_transitionCallbacks),o.formState!==void 0&&(k=o.formState)),s=mE(r,1,!0,s,o??null,c,h,p,E,x,A,k),s.context=pE(null),o=s.current,c=en(),h=ri(c),h.callback=null,ii(o,h,c),s.current.lanes=c,Co(s,c),Kn(s),r[Gs]=s.current,Mm(r),new Bu(s)},bl.version="19.0.0",bl}var kE;function CM(){if(kE)return Xm.exports;kE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xm.exports=xM(),Xm.exports}var TM=CM();let RM=class{constructor(){xa(this,"levels");xa(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no válido: ${e}`)}log(e,n){const i=this.levels.indexOf(e),a=this.levels.indexOf(this.currentLevel);if(i>=a){const l=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${l}: ${n}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}};const vf=new RM;var _=ad();const At=lx(_),Wg=vM({__proto__:null,default:At},[_]);class AM extends At.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){vf.warn("Error capturado por ErrorBoundary: "+e.message),vf.debug("Detalles del error: "+n.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ux=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},d)=>_.createElement("svg",{ref:d,...OM,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:ux("lucide",a),...f},[...u.map(([m,g])=>_.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=(t,e)=>{const n=_.forwardRef(({className:i,...a},l)=>_.createElement(MM,{ref:l,iconNode:e,className:ux(`lucide-${NM(t)}`,i),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DM=Hr("Check",IM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PM=Hr("CircleAlert",kM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],fx=Hr("Heart",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],jM=Hr("Languages",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],BM=Hr("Moon",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zM=Hr("Sun",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],VM=Hr("Trash",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],dx=Hr("WandSparkles",$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WM=Hr("X",qM);function PE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function od(...t){return e=>{let n=!1;const i=t.map(a=>{const l=PE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():PE(t[a],null)}}}}function wt(...t){return _.useCallback(od(...t),t)}var Mi=_.forwardRef((t,e)=>{const{children:n,...i}=t,a=_.Children.toArray(n),l=a.find(KM);if(l){const u=l.props.children,f=a.map(d=>d===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:d);return b.jsx(Gp,{...i,ref:e,children:_.isValidElement(u)?_.cloneElement(u,void 0,f):null})}return b.jsx(Gp,{...i,ref:e,children:n})});Mi.displayName="Slot";var Gp=_.forwardRef((t,e)=>{const{children:n,...i}=t;if(_.isValidElement(n)){const a=QM(n),l=XM(i,n.props);return n.type!==_.Fragment&&(l.ref=e?od(e,a):a),_.cloneElement(n,l)}return _.Children.count(n)>1?_.Children.only(null):null});Gp.displayName="SlotClone";var YM=({children:t})=>b.jsx(b.Fragment,{children:t});function KM(t){return _.isValidElement(t)&&t.type===YM}function XM(t,e){const n={...e};for(const i in e){const a=t[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{l(...f),a(...f)}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function QM(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hx(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=hx(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function mx(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=hx(t))&&(i&&(i+=" "),i+=e);return i}const LE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,UE=mx,Yg=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return UE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const g=n==null?void 0:n[m],v=l==null?void 0:l[m];if(g===null)return null;const y=LE(g)||LE(v);return a[m][y]}),f=n&&Object.entries(n).reduce((m,g)=>{let[v,y]=g;return y===void 0||(m[v]=y),m},{}),d=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,g)=>{let{class:v,className:y,...S}=g;return Object.entries(S).every(w=>{let[C,T]=w;return Array.isArray(T)?T.includes({...l,...f}[C]):{...l,...f}[C]===T})?[...m,v,y]:m},[]);return UE(t,u,d,n==null?void 0:n.class,n==null?void 0:n.className)},Kg="-",ZM=t=>{const e=eI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(Kg);return f[0]===""&&f.length!==1&&f.shift(),px(f,e)||JM(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&i[u]?[...d,...i[u]]:d}}},px=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?px(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(Kg);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},jE=/^\[(.+)\]$/,JM=t=>{if(jE.test(t)){const e=jE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eI=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)Vp(n[a],i,a,e);return i},Vp=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:HE(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(tI(a)){Vp(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{Vp(u,HE(e,l),n,i)})})},HE=(t,e)=>{let n=t;return e.split(Kg).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},tI=t=>t.isThemeGetter,nI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},$p="!",qp=":",rI=qp.length,iI=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let u=0,f=0,d=0,m;for(let w=0;w<a.length;w++){let C=a[w];if(u===0&&f===0){if(C===qp){l.push(a.slice(d,w)),d=w+rI;continue}if(C==="/"){m=w;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const g=l.length===0?a:a.substring(d),v=sI(g),y=v!==g,S=m&&m>d?m-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const a=e+qp,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},sI=t=>t.endsWith($p)?t.substring(0,t.length-1):t.startsWith($p)?t.substring(1):t,aI=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},oI=t=>({cache:nI(t.cacheSize),parseClassName:iI(t),sortModifiers:aI(t),...ZM(t)}),lI=/\s+/,cI=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(lI);let d="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:v,modifiers:y,hasImportantModifier:S,baseClassName:w,maybePostfixModifierPosition:C}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let T=!!C,R=i(T?w.substring(0,C):w);if(!R){if(!T){d=g+(d.length>0?" "+d:d);continue}if(R=i(w),!R){d=g+(d.length>0?" "+d:d);continue}T=!1}const I=l(y).join(":"),N=S?I+$p:I,P=N+R;if(u.includes(P))continue;u.push(P);const O=a(R,T);for(let H=0;H<O.length;++H){const W=O[H];u.push(N+W)}d=g+(d.length>0?" "+d:d)}return d};function uI(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gx(e))&&(i&&(i+=" "),i+=n);return i}const gx=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=gx(t[i]))&&(n&&(n+=" "),n+=e);return n};function fI(t,...e){let n,i,a,l=u;function u(d){const m=e.reduce((g,v)=>v(g),t());return n=oI(m),i=n.cache.get,a=n.cache.set,l=f,f(d)}function f(d){const m=i(d);if(m)return m;const g=cI(d,n);return a(d,g),g}return function(){return l(uI.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dI=/^\d+\/\d+$/,hI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ca=t=>dI.test(t),Me=t=>!!t&&!Number.isNaN(Number(t)),ps=t=>!!t&&Number.isInteger(Number(t)),BE=t=>t.endsWith("%")&&Me(t.slice(0,-1)),gi=t=>hI.test(t),yI=()=>!0,_I=t=>mI.test(t)&&!pI.test(t),Xg=()=>!1,bI=t=>gI.test(t),EI=t=>vI.test(t),SI=t=>!te(t)&&!ne(t),wI=t=>Ja(t,Ex,Xg),te=t=>vx.test(t),gs=t=>Ja(t,Sx,_I),tp=t=>Ja(t,kI,Me),xI=t=>Ja(t,_x,Xg),CI=t=>Ja(t,bx,EI),TI=t=>Ja(t,Xg,bI),ne=t=>yx.test(t),zu=t=>eo(t,Sx),RI=t=>eo(t,PI),AI=t=>eo(t,_x),NI=t=>eo(t,Ex),OI=t=>eo(t,bx),MI=t=>eo(t,LI,!0),Ja=(t,e,n)=>{const i=vx.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},eo=(t,e,n=!1)=>{const i=yx.exec(t);return i?i[1]?e(i[1]):n:!1},_x=t=>t==="position",II=new Set(["image","url"]),bx=t=>II.has(t),DI=new Set(["length","size","percentage"]),Ex=t=>DI.has(t),Sx=t=>t==="length",kI=t=>t==="number",PI=t=>t==="family-name",LI=t=>t==="shadow",UI=()=>{const t=bt("color"),e=bt("font"),n=bt("text"),i=bt("font-weight"),a=bt("tracking"),l=bt("leading"),u=bt("breakpoint"),f=bt("container"),d=bt("spacing"),m=bt("radius"),g=bt("shadow"),v=bt("inset-shadow"),y=bt("drop-shadow"),S=bt("blur"),w=bt("perspective"),C=bt("aspect"),T=bt("ease"),R=bt("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],H=()=>[Ca,"px","full","auto",ne,te,d],W=()=>[ps,"none","subgrid",ne,te],Y=()=>["auto",{span:["full",ps,ne,te]},ne,te],q=()=>[ps,"auto",ne,te],Z=()=>["auto","min","max","fr",ne,te],me=()=>[ne,te,d],Ae=()=>["start","end","center","between","around","evenly","stretch","baseline"],ge=()=>["start","end","center","stretch"],se=()=>[ne,te,d],ye=()=>["px",...se()],G=()=>["px","auto",...se()],ee=()=>[Ca,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",ne,te,d],V=()=>[t,ne,te],X=()=>[BE,gs],M=()=>["","none","full",m,ne,te],F=()=>["",Me,zu,gs],ie=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["","none",S,ne,te],_e=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne,te],ue=()=>["none",Me,ne,te],He=()=>["none",Me,ne,te],Se=()=>[Me,ne,te],xe=()=>[Ca,"full","px",ne,te,d];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gi],breakpoint:[gi],color:[yI],container:[gi],"drop-shadow":[gi],ease:["in","out","in-out"],font:[SI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gi],shadow:[gi],spacing:[Me],text:[gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ca,te,ne,C]}],container:["container"],columns:[{columns:[Me,te,ne,f]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),te,ne]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[ps,"auto",ne,te]}],basis:[{basis:[Ca,"full","auto",ne,te,f,d]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Ca,"auto","initial","none",te]}],grow:[{grow:["",Me,ne,te]}],shrink:[{shrink:["",Me,ne,te]}],order:[{order:[ps,"first","last","none",ne,te]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:me()}],"gap-x":[{"gap-x":me()}],"gap-y":[{"gap-y":me()}],"justify-content":[{justify:[...Ae(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...Ae()]}],"align-items":[{items:[...ge(),"baseline"]}],"align-self":[{self:["auto",...ge(),"baseline"]}],"place-content":[{"place-content":Ae()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:ye()}],px:[{px:ye()}],py:[{py:ye()}],ps:[{ps:ye()}],pe:[{pe:ye()}],pt:[{pt:ye()}],pr:[{pr:ye()}],pb:[{pb:ye()}],pl:[{pl:ye()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":se()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":se()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",n,zu,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ne,tp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",BE,te]}],"font-family":[{font:[RI,te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ne,te]}],"line-clamp":[{"line-clamp":[Me,"none",ne,tp]}],leading:[{leading:[ne,te,l,d]}],"list-image":[{"list-image":["none",ne,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",ne,gs]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Me,"auto",ne,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...se()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),AI,xI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",NI,wI]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ps,ne,te],radial:["",ne,te],conic:[ps,ne,te]},OI,CI]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,ne,te]}],"outline-w":[{outline:["",Me,zu,gs]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",g,MI,TI]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",ne,te,v]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Me,gs]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":V()}],opacity:[{opacity:[Me,ne,te]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none",ne,te]}],blur:[{blur:J()}],brightness:[{brightness:[Me,ne,te]}],contrast:[{contrast:[Me,ne,te]}],"drop-shadow":[{"drop-shadow":["","none",y,ne,te]}],grayscale:[{grayscale:["",Me,ne,te]}],"hue-rotate":[{"hue-rotate":[Me,ne,te]}],invert:[{invert:["",Me,ne,te]}],saturate:[{saturate:[Me,ne,te]}],sepia:[{sepia:["",Me,ne,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,te]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[Me,ne,te]}],"backdrop-contrast":[{"backdrop-contrast":[Me,ne,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,ne,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,ne,te]}],"backdrop-invert":[{"backdrop-invert":["",Me,ne,te]}],"backdrop-opacity":[{"backdrop-opacity":[Me,ne,te]}],"backdrop-saturate":[{"backdrop-saturate":[Me,ne,te]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,ne,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":se()}],"border-spacing-x":[{"border-spacing-x":se()}],"border-spacing-y":[{"border-spacing-y":se()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",ne,te]}],ease:[{ease:["linear","initial",T,ne,te]}],delay:[{delay:[Me,ne,te]}],animate:[{animate:["none",R,ne,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ne,te]}],"perspective-origin":[{"perspective-origin":_e()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[ne,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:_e()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,te]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Me,zu,gs,tp]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},jI=fI(UI);function qe(...t){return jI(mx(t))}const HI=Yg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function kn({className:t,variant:e,size:n,asChild:i=!1,...a}){const l=i?Mi:"button";return b.jsx(l,{"data-slot":"button",className:qe(HI({variant:e,size:n,className:t})),...a})}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function BI(t,e){const n=_.createContext(e),i=l=>{const{children:u,...f}=l,d=_.useMemo(()=>f,Object.values(f));return b.jsx(n.Provider,{value:d,children:u})};i.displayName=t+"Provider";function a(l){const u=_.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[i,a]}function ks(t,e=[]){let n=[];function i(l,u){const f=_.createContext(u),d=n.length;n=[...n,u];const m=v=>{var R;const{scope:y,children:S,...w}=v,C=((R=y==null?void 0:y[t])==null?void 0:R[d])||f,T=_.useMemo(()=>w,Object.values(w));return b.jsx(C.Provider,{value:T,children:S})};m.displayName=l+"Provider";function g(v,y){var C;const S=((C=y==null?void 0:y[t])==null?void 0:C[d])||f,w=_.useContext(S);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,g]}const a=()=>{const l=n.map(u=>_.createContext(u));return function(f){const d=(f==null?void 0:f[t])||l;return _.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[i,FI(a,...e)]}function FI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:d,scopeName:m})=>{const v=d(l)[`__scope${m}`];return{...f,...v}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Ln(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function ld({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,a]=zI({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i,f=Ln(n),d=_.useCallback(m=>{if(l){const v=typeof m=="function"?m(t):m;v!==t&&f(v)}else a(m)},[l,t,a,f]);return[u,d]}function zI({defaultProp:t,onChange:e}){const n=_.useState(t),[i]=n,a=_.useRef(i),l=Ln(e);return _.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),n}var Qg=cx();const GI=lx(Qg);var VI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=VI.reduce((t,e)=>{const n=_.forwardRef((i,a)=>{const{asChild:l,...u}=i,f=l?Mi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(f,{...u,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function wx(t,e){t&&Qg.flushSync(()=>t.dispatchEvent(e))}function xx(t){const e=t+"CollectionProvider",[n,i]=ks(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=S=>{const{scope:w,children:C}=S,T=At.useRef(null),R=At.useRef(new Map).current;return b.jsx(a,{scope:w,itemMap:R,collectionRef:T,children:C})};u.displayName=e;const f=t+"CollectionSlot",d=At.forwardRef((S,w)=>{const{scope:C,children:T}=S,R=l(f,C),I=wt(w,R.collectionRef);return b.jsx(Mi,{ref:I,children:T})});d.displayName=f;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=At.forwardRef((S,w)=>{const{scope:C,children:T,...R}=S,I=At.useRef(null),N=wt(w,I),P=l(m,C);return At.useEffect(()=>(P.itemMap.set(I,{ref:I,...R}),()=>void P.itemMap.delete(I))),b.jsx(Mi,{[g]:"",ref:N,children:T})});v.displayName=m;function y(S){const w=l(t+"CollectionConsumer",S);return At.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((P,O)=>R.indexOf(P.ref.current)-R.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:u,Slot:d,ItemSlot:v},y,i]}var $I=_.createContext(void 0);function Cx(t){const e=_.useContext($I);return t||e||"ltr"}function qI(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t);_.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var WI="DismissableLayer",Wp="dismissableLayer.update",YI="dismissableLayer.pointerDownOutside",KI="dismissableLayer.focusOutside",FE,Tx=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zg=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...d}=t,m=_.useContext(Tx),[g,v]=_.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=_.useState({}),w=wt(e,W=>v(W)),C=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(T),I=g?C.indexOf(g):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,P=I>=R,O=ZI(W=>{const Y=W.target,q=[...m.branches].some(Z=>Z.contains(Y));!P||q||(a==null||a(W),u==null||u(W),W.defaultPrevented||f==null||f())},y),H=JI(W=>{const Y=W.target;[...m.branches].some(Z=>Z.contains(Y))||(l==null||l(W),u==null||u(W),W.defaultPrevented||f==null||f())},y);return qI(W=>{I===m.layers.size-1&&(i==null||i(W),!W.defaultPrevented&&f&&(W.preventDefault(),f()))},y),_.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(FE=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),zE(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=FE)}},[g,y,n,m]),_.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),zE())},[g,m]),_.useEffect(()=>{const W=()=>S({});return document.addEventListener(Wp,W),()=>document.removeEventListener(Wp,W)},[]),b.jsx(nt.div,{...d,ref:w,style:{pointerEvents:N?P?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,H.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,O.onPointerDownCapture)})});Zg.displayName=WI;var XI="DismissableLayerBranch",QI=_.forwardRef((t,e)=>{const n=_.useContext(Tx),i=_.useRef(null),a=wt(e,i);return _.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),b.jsx(nt.div,{...t,ref:a})});QI.displayName=XI;function ZI(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),i=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let d=function(){Rx(YI,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function JI(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),i=_.useRef(!1);return _.useEffect(()=>{const a=l=>{l.target&&!i.current&&Rx(KI,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function zE(){const t=new CustomEvent(Wp);document.dispatchEvent(t)}function Rx(t,e,n,{discrete:i}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?wx(a,l):a.dispatchEvent(l)}var np=0;function Ax(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GE()),document.body.insertAdjacentElement("beforeend",t[1]??GE()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),np--}},[])}function GE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rp="focusScope.autoFocusOnMount",ip="focusScope.autoFocusOnUnmount",VE={bubbles:!1,cancelable:!0},eD="FocusScope",Jg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[f,d]=_.useState(null),m=Ln(a),g=Ln(l),v=_.useRef(null),y=wt(e,C=>d(C)),S=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(i){let C=function(N){if(S.paused||!f)return;const P=N.target;f.contains(P)?v.current=P:yi(v.current,{select:!0})},T=function(N){if(S.paused||!f)return;const P=N.relatedTarget;P!==null&&(f.contains(P)||yi(v.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&yi(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",T);const I=new MutationObserver(R);return f&&I.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",T),I.disconnect()}}},[i,f,S.paused]),_.useEffect(()=>{if(f){qE.add(S);const C=document.activeElement;if(!f.contains(C)){const R=new CustomEvent(rp,VE);f.addEventListener(rp,m),f.dispatchEvent(R),R.defaultPrevented||(tD(aD(Nx(f)),{select:!0}),document.activeElement===C&&yi(f))}return()=>{f.removeEventListener(rp,m),setTimeout(()=>{const R=new CustomEvent(ip,VE);f.addEventListener(ip,g),f.dispatchEvent(R),R.defaultPrevented||yi(C??document.body,{select:!0}),f.removeEventListener(ip,g),qE.remove(S)},0)}}},[f,m,g,S]);const w=_.useCallback(C=>{if(!n&&!i||S.paused)return;const T=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,R=document.activeElement;if(T&&R){const I=C.currentTarget,[N,P]=nD(I);N&&P?!C.shiftKey&&R===P?(C.preventDefault(),n&&yi(N,{select:!0})):C.shiftKey&&R===N&&(C.preventDefault(),n&&yi(P,{select:!0})):R===I&&C.preventDefault()}},[n,i,S.paused]);return b.jsx(nt.div,{tabIndex:-1,...u,ref:y,onKeyDown:w})});Jg.displayName=eD;function tD(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(yi(i,{select:e}),document.activeElement!==n)return}function nD(t){const e=Nx(t),n=$E(e,t),i=$E(e.reverse(),t);return[n,i]}function Nx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $E(t,e){for(const n of t)if(!rD(n,{upTo:e}))return n}function rD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iD(t){return t instanceof HTMLInputElement&&"select"in t}function yi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iD(t)&&e&&t.select()}}var qE=sD();function sD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WE(t,e),t.unshift(e)},remove(e){var n;t=WE(t,e),(n=t[0])==null||n.resume()}}}function WE(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function aD(t){return t.filter(e=>e.tagName!=="A")}var Ss=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},oD=Wg.useId||(()=>{}),lD=0;function Da(t){const[e,n]=_.useState(oD());return Ss(()=>{n(i=>i??String(lD++))},[t]),t||(e?`radix-${e}`:"")}const cD=["top","right","bottom","left"],Ii=Math.min,tn=Math.max,yf=Math.round,Gu=Math.floor,Jn=t=>({x:t,y:t}),uD={left:"right",right:"left",bottom:"top",top:"bottom"},fD={start:"end",end:"start"};function Yp(t,e,n){return tn(t,Ii(e,n))}function Dr(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function to(t){return t.split("-")[1]}function ev(t){return t==="x"?"y":"x"}function tv(t){return t==="y"?"height":"width"}function Di(t){return["top","bottom"].includes(kr(t))?"y":"x"}function nv(t){return ev(Di(t))}function dD(t,e,n){n===void 0&&(n=!1);const i=to(t),a=nv(t),l=tv(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=_f(u)),[u,_f(u)]}function hD(t){const e=_f(t);return[Kp(t),e,Kp(e)]}function Kp(t){return t.replace(/start|end/g,e=>fD[e])}function mD(t,e,n){const i=["left","right"],a=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:i:e?i:a;case"left":case"right":return e?l:u;default:return[]}}function pD(t,e,n,i){const a=to(t);let l=mD(kr(t),n==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Kp)))),l}function _f(t){return t.replace(/left|right|bottom|top/g,e=>uD[e])}function gD(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ox(t){return typeof t!="number"?gD(t):{top:t,right:t,bottom:t,left:t}}function bf(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function YE(t,e,n){let{reference:i,floating:a}=t;const l=Di(e),u=nv(e),f=tv(u),d=kr(e),m=l==="y",g=i.x+i.width/2-a.width/2,v=i.y+i.height/2-a.height/2,y=i[f]/2-a[f]/2;let S;switch(d){case"top":S={x:g,y:i.y-a.height};break;case"bottom":S={x:g,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:v};break;case"left":S={x:i.x-a.width,y:v};break;default:S={x:i.x,y:i.y}}switch(to(e)){case"start":S[u]-=y*(n&&m?-1:1);break;case"end":S[u]+=y*(n&&m?-1:1);break}return S}const vD=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:g,y:v}=YE(m,i,d),y=i,S={},w=0;for(let C=0;C<f.length;C++){const{name:T,fn:R}=f[C],{x:I,y:N,data:P,reset:O}=await R({x:g,y:v,initialPlacement:i,placement:y,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:t,floating:e}});g=I??g,v=N??v,S={...S,[T]:{...S[T],...P}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(m=O.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):O.rects),{x:g,y:v}=YE(m,y,d)),C=-1)}return{x:g,y:v,placement:y,strategy:a,middlewareData:S}};async function Fl(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:f,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:y=!1,padding:S=0}=Dr(e,t),w=Ox(S),T=f[y?v==="floating"?"reference":"floating":v],R=bf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(T)))==null||n?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:d})),I=v==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),P=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},O=bf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:I,offsetParent:N,strategy:d}):I);return{top:(R.top-O.top+w.top)/P.y,bottom:(O.bottom-R.bottom+w.bottom)/P.y,left:(R.left-O.left+w.left)/P.x,right:(O.right-R.right+w.right)/P.x}}const yD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:l,platform:u,elements:f,middlewareData:d}=e,{element:m,padding:g=0}=Dr(t,e)||{};if(m==null)return{};const v=Ox(g),y={x:n,y:i},S=nv(a),w=tv(S),C=await u.getDimensions(m),T=S==="y",R=T?"top":"left",I=T?"bottom":"right",N=T?"clientHeight":"clientWidth",P=l.reference[w]+l.reference[S]-y[S]-l.floating[w],O=y[S]-l.reference[S],H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let W=H?H[N]:0;(!W||!await(u.isElement==null?void 0:u.isElement(H)))&&(W=f.floating[N]||l.floating[w]);const Y=P/2-O/2,q=W/2-C[w]/2-1,Z=Ii(v[R],q),me=Ii(v[I],q),Ae=Z,ge=W-C[w]-me,se=W/2-C[w]/2+Y,ye=Yp(Ae,se,ge),G=!d.arrow&&to(a)!=null&&se!==ye&&l.reference[w]/2-(se<Ae?Z:me)-C[w]/2<0,ee=G?se<Ae?se-Ae:se-ge:0;return{[S]:y[S]+ee,data:{[S]:ye,centerOffset:se-ye-ee,...G&&{alignmentOffset:ee}},reset:G}}}),_D=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:d,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:C=!0,...T}=Dr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const R=kr(a),I=Di(f),N=kr(f)===f,P=await(d.isRTL==null?void 0:d.isRTL(m.floating)),O=y||(N||!C?[_f(f)]:hD(f)),H=w!=="none";!y&&H&&O.push(...pD(f,C,w,P));const W=[f,...O],Y=await Fl(e,T),q=[];let Z=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&q.push(Y[R]),v){const se=dD(a,u,P);q.push(Y[se[0]],Y[se[1]])}if(Z=[...Z,{placement:a,overflows:q}],!q.every(se=>se<=0)){var me,Ae;const se=(((me=l.flip)==null?void 0:me.index)||0)+1,ye=W[se];if(ye)return{data:{index:se,overflows:Z},reset:{placement:ye}};let G=(Ae=Z.filter(ee=>ee.overflows[0]<=0).sort((ee,V)=>ee.overflows[1]-V.overflows[1])[0])==null?void 0:Ae.placement;if(!G)switch(S){case"bestFit":{var ge;const ee=(ge=Z.filter(V=>{if(H){const X=Di(V.placement);return X===I||X==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(X=>X>0).reduce((X,M)=>X+M,0)]).sort((V,X)=>V[1]-X[1])[0])==null?void 0:ge[0];ee&&(G=ee);break}case"initialPlacement":G=f;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function KE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XE(t){return cD.some(e=>t[e]>=0)}const bD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=Dr(t,e);switch(i){case"referenceHidden":{const l=await Fl(e,{...a,elementContext:"reference"}),u=KE(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:XE(u)}}}case"escaped":{const l=await Fl(e,{...a,altBoundary:!0}),u=KE(l,n.floating);return{data:{escapedOffsets:u,escaped:XE(u)}}}default:return{}}}}};async function ED(t,e){const{placement:n,platform:i,elements:a}=t,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=kr(n),f=to(n),d=Di(n)==="y",m=["left","top"].includes(u)?-1:1,g=l&&d?-1:1,v=Dr(e,t);let{mainAxis:y,crossAxis:S,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof w=="number"&&(S=f==="end"?w*-1:w),d?{x:S*g,y:y*m}:{x:y*m,y:S*g}}const SD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:l,placement:u,middlewareData:f}=e,d=await ED(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+d.x,y:l+d.y,data:{...d,placement:u}}}}},wD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:T=>{let{x:R,y:I}=T;return{x:R,y:I}}},...d}=Dr(t,e),m={x:n,y:i},g=await Fl(e,d),v=Di(kr(a)),y=ev(v);let S=m[y],w=m[v];if(l){const T=y==="y"?"top":"left",R=y==="y"?"bottom":"right",I=S+g[T],N=S-g[R];S=Yp(I,S,N)}if(u){const T=v==="y"?"top":"left",R=v==="y"?"bottom":"right",I=w+g[T],N=w-g[R];w=Yp(I,w,N)}const C=f.fn({...e,[y]:S,[v]:w});return{...C,data:{x:C.x-n,y:C.y-i,enabled:{[y]:l,[v]:u}}}}}},xD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:m=!0}=Dr(t,e),g={x:n,y:i},v=Di(a),y=ev(v);let S=g[y],w=g[v];const C=Dr(f,e),T=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const N=y==="y"?"height":"width",P=l.reference[y]-l.floating[N]+T.mainAxis,O=l.reference[y]+l.reference[N]-T.mainAxis;S<P?S=P:S>O&&(S=O)}if(m){var R,I;const N=y==="y"?"width":"height",P=["top","left"].includes(kr(a)),O=l.reference[v]-l.floating[N]+(P&&((R=u.offset)==null?void 0:R[v])||0)+(P?0:T.crossAxis),H=l.reference[v]+l.reference[N]+(P?0:((I=u.offset)==null?void 0:I[v])||0)-(P?T.crossAxis:0);w<O?w=O:w>H&&(w=H)}return{[y]:S,[v]:w}}}},CD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:d=()=>{},...m}=Dr(t,e),g=await Fl(e,m),v=kr(a),y=to(a),S=Di(a)==="y",{width:w,height:C}=l.floating;let T,R;v==="top"||v==="bottom"?(T=v,R=y===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(R=v,T=y==="end"?"top":"bottom");const I=C-g.top-g.bottom,N=w-g.left-g.right,P=Ii(C-g[T],I),O=Ii(w-g[R],N),H=!e.middlewareData.shift;let W=P,Y=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Y=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(W=I),H&&!y){const Z=tn(g.left,0),me=tn(g.right,0),Ae=tn(g.top,0),ge=tn(g.bottom,0);S?Y=w-2*(Z!==0||me!==0?Z+me:tn(g.left,g.right)):W=C-2*(Ae!==0||ge!==0?Ae+ge:tn(g.top,g.bottom))}await d({...e,availableWidth:Y,availableHeight:W});const q=await u.getDimensions(f.floating);return w!==q.width||C!==q.height?{reset:{rects:!0}}:{}}}};function cd(){return typeof window<"u"}function no(t){return Mx(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ir(t){var e;return(e=(Mx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Mx(t){return cd()?t instanceof Node||t instanceof nn(t).Node:!1}function Un(t){return cd()?t instanceof Element||t instanceof nn(t).Element:!1}function nr(t){return cd()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function QE(t){return!cd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}function lc(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(a)}function TD(t){return["table","td","th"].includes(no(t))}function ud(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rv(t){const e=iv(),n=Un(t)?jn(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function RD(t){let e=ki(t);for(;nr(e)&&!za(e);){if(rv(e))return e;if(ud(e))return null;e=ki(e)}return null}function iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function za(t){return["html","body","#document"].includes(no(t))}function jn(t){return nn(t).getComputedStyle(t)}function fd(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ki(t){if(no(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QE(t)&&t.host||ir(t);return QE(e)?e.host:e}function Ix(t){const e=ki(t);return za(e)?t.ownerDocument?t.ownerDocument.body:t.body:nr(e)&&lc(e)?e:Ix(e)}function zl(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Ix(t),l=a===((i=t.ownerDocument)==null?void 0:i.body),u=nn(a);if(l){const f=Xp(u);return e.concat(u,u.visualViewport||[],lc(a)?a:[],f&&n?zl(f):[])}return e.concat(a,zl(a,[],n))}function Xp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dx(t){const e=jn(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=nr(t),l=a?t.offsetWidth:n,u=a?t.offsetHeight:i,f=yf(n)!==l||yf(i)!==u;return f&&(n=l,i=u),{width:n,height:i,$:f}}function sv(t){return Un(t)?t:t.contextElement}function ka(t){const e=sv(t);if(!nr(e))return Jn(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:l}=Dx(e);let u=(l?yf(n.width):n.width)/i,f=(l?yf(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const AD=Jn(0);function kx(t){const e=nn(t);return!iv()||!e.visualViewport?AD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ND(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function ws(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=sv(t);let u=Jn(1);e&&(i?Un(i)&&(u=ka(i)):u=ka(t));const f=ND(l,n,i)?kx(l):Jn(0);let d=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,g=a.width/u.x,v=a.height/u.y;if(l){const y=nn(l),S=i&&Un(i)?nn(i):i;let w=y,C=Xp(w);for(;C&&i&&S!==w;){const T=ka(C),R=C.getBoundingClientRect(),I=jn(C),N=R.left+(C.clientLeft+parseFloat(I.paddingLeft))*T.x,P=R.top+(C.clientTop+parseFloat(I.paddingTop))*T.y;d*=T.x,m*=T.y,g*=T.x,v*=T.y,d+=N,m+=P,w=nn(C),C=Xp(w)}}return bf({width:g,height:v,x:d,y:m})}function av(t,e){const n=fd(t).scrollLeft;return e?e.left+n:ws(ir(t)).left+n}function Px(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=i.left+e.scrollLeft-(n?0:av(t,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function OD(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const l=a==="fixed",u=ir(i),f=e?ud(e.floating):!1;if(i===u||f&&l)return n;let d={scrollLeft:0,scrollTop:0},m=Jn(1);const g=Jn(0),v=nr(i);if((v||!v&&!l)&&((no(i)!=="body"||lc(u))&&(d=fd(i)),nr(i))){const S=ws(i);m=ka(i),g.x=S.x+i.clientLeft,g.y=S.y+i.clientTop}const y=u&&!v&&!l?Px(u,d,!0):Jn(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+g.x+y.x,y:n.y*m.y-d.scrollTop*m.y+g.y+y.y}}function MD(t){return Array.from(t.getClientRects())}function ID(t){const e=ir(t),n=fd(t),i=t.ownerDocument.body,a=tn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=tn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+av(t);const f=-n.scrollTop;return jn(i).direction==="rtl"&&(u+=tn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:f}}function DD(t,e){const n=nn(t),i=ir(t),a=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,f=0,d=0;if(a){l=a.width,u=a.height;const m=iv();(!m||m&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}return{width:l,height:u,x:f,y:d}}function kD(t,e){const n=ws(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,l=nr(t)?ka(t):Jn(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,d=a*l.x,m=i*l.y;return{width:u,height:f,x:d,y:m}}function ZE(t,e,n){let i;if(e==="viewport")i=DD(t,n);else if(e==="document")i=ID(ir(t));else if(Un(e))i=kD(e,n);else{const a=kx(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return bf(i)}function Lx(t,e){const n=ki(t);return n===e||!Un(n)||za(n)?!1:jn(n).position==="fixed"||Lx(n,e)}function PD(t,e){const n=e.get(t);if(n)return n;let i=zl(t,[],!1).filter(f=>Un(f)&&no(f)!=="body"),a=null;const l=jn(t).position==="fixed";let u=l?ki(t):t;for(;Un(u)&&!za(u);){const f=jn(u),d=rv(u);!d&&f.position==="fixed"&&(a=null),(l?!d&&!a:!d&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||lc(u)&&!d&&Lx(t,u))?i=i.filter(g=>g!==u):a=f,u=ki(u)}return e.set(t,i),i}function LD(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const u=[...n==="clippingAncestors"?ud(e)?[]:PD(e,this._c):[].concat(n),i],f=u[0],d=u.reduce((m,g)=>{const v=ZE(e,g,a);return m.top=tn(v.top,m.top),m.right=Ii(v.right,m.right),m.bottom=Ii(v.bottom,m.bottom),m.left=tn(v.left,m.left),m},ZE(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function UD(t){const{width:e,height:n}=Dx(t);return{width:e,height:n}}function jD(t,e,n){const i=nr(e),a=ir(e),l=n==="fixed",u=ws(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const d=Jn(0);if(i||!i&&!l)if((no(e)!=="body"||lc(a))&&(f=fd(e)),i){const y=ws(e,!0,l,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else a&&(d.x=av(a));const m=a&&!i&&!l?Px(a,f):Jn(0),g=u.left+f.scrollLeft-d.x-m.x,v=u.top+f.scrollTop-d.y-m.y;return{x:g,y:v,width:u.width,height:u.height}}function sp(t){return jn(t).position==="static"}function JE(t,e){if(!nr(t)||jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ir(t)===n&&(n=n.ownerDocument.body),n}function Ux(t,e){const n=nn(t);if(ud(t))return n;if(!nr(t)){let a=ki(t);for(;a&&!za(a);){if(Un(a)&&!sp(a))return a;a=ki(a)}return n}let i=JE(t,e);for(;i&&TD(i)&&sp(i);)i=JE(i,e);return i&&za(i)&&sp(i)&&!rv(i)?n:i||RD(t)||n}const HD=async function(t){const e=this.getOffsetParent||Ux,n=this.getDimensions,i=await n(t.floating);return{reference:jD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function BD(t){return jn(t).direction==="rtl"}const FD={convertOffsetParentRelativeRectToViewportRelativeRect:OD,getDocumentElement:ir,getClippingRect:LD,getOffsetParent:Ux,getElementRects:HD,getClientRects:MD,getDimensions:UD,getScale:ka,isElement:Un,isRTL:BD};function jx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zD(t,e){let n=null,i;const a=ir(t);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),l();const m=t.getBoundingClientRect(),{left:g,top:v,width:y,height:S}=m;if(f||e(),!y||!S)return;const w=Gu(v),C=Gu(a.clientWidth-(g+y)),T=Gu(a.clientHeight-(v+S)),R=Gu(g),N={rootMargin:-w+"px "+-C+"px "+-T+"px "+-R+"px",threshold:tn(0,Ii(1,d))||1};let P=!0;function O(H){const W=H[0].intersectionRatio;if(W!==d){if(!P)return u();W?u(!1,W):i=setTimeout(()=>{u(!1,1e-7)},1e3)}W===1&&!jx(m,t.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(O,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(t)}return u(!0),l}function GD(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,m=sv(t),g=a||l?[...m?zl(m):[],...zl(e)]:[];g.forEach(R=>{a&&R.addEventListener("scroll",n,{passive:!0}),l&&R.addEventListener("resize",n)});const v=m&&f?zD(m,n):null;let y=-1,S=null;u&&(S=new ResizeObserver(R=>{let[I]=R;I&&I.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(e)})),n()}),m&&!d&&S.observe(m),S.observe(e));let w,C=d?ws(t):null;d&&T();function T(){const R=ws(t);C&&!jx(C,R)&&n(),C=R,w=requestAnimationFrame(T)}return n(),()=>{var R;g.forEach(I=>{a&&I.removeEventListener("scroll",n),l&&I.removeEventListener("resize",n)}),v==null||v(),(R=S)==null||R.disconnect(),S=null,d&&cancelAnimationFrame(w)}}const VD=SD,$D=wD,qD=_D,WD=CD,YD=bD,eS=yD,KD=xD,XD=(t,e,n)=>{const i=new Map,a={platform:FD,...n},l={...a.platform,_c:i};return vD(t,e,{...a,platform:l})};var sf=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Ef(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Ef(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&t.$$typeof)&&!Ef(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Hx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(t,e){const n=Hx(t);return Math.round(e*n)/n}function ap(t){const e=_.useRef(t);return sf(()=>{e.current=t}),e}function QD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:d,open:m}=t,[g,v]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,S]=_.useState(i);Ef(y,i)||S(i);const[w,C]=_.useState(null),[T,R]=_.useState(null),I=_.useCallback(V=>{V!==H.current&&(H.current=V,C(V))},[]),N=_.useCallback(V=>{V!==W.current&&(W.current=V,R(V))},[]),P=l||w,O=u||T,H=_.useRef(null),W=_.useRef(null),Y=_.useRef(g),q=d!=null,Z=ap(d),me=ap(a),Ae=ap(m),ge=_.useCallback(()=>{if(!H.current||!W.current)return;const V={placement:e,strategy:n,middleware:y};me.current&&(V.platform=me.current),XD(H.current,W.current,V).then(X=>{const M={...X,isPositioned:Ae.current!==!1};se.current&&!Ef(Y.current,M)&&(Y.current=M,Qg.flushSync(()=>{v(M)}))})},[y,e,n,me,Ae]);sf(()=>{m===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[m]);const se=_.useRef(!1);sf(()=>(se.current=!0,()=>{se.current=!1}),[]),sf(()=>{if(P&&(H.current=P),O&&(W.current=O),P&&O){if(Z.current)return Z.current(P,O,ge);ge()}},[P,O,ge,Z,q]);const ye=_.useMemo(()=>({reference:H,floating:W,setReference:I,setFloating:N}),[I,N]),G=_.useMemo(()=>({reference:P,floating:O}),[P,O]),ee=_.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const X=tS(G.floating,g.x),M=tS(G.floating,g.y);return f?{...V,transform:"translate("+X+"px, "+M+"px)",...Hx(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:M}},[n,f,G.floating,g.x,g.y]);return _.useMemo(()=>({...g,update:ge,refs:ye,elements:G,floatingStyles:ee}),[g,ge,ye,G,ee])}const ZD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?eS({element:i.current,padding:a}).fn(n):{}:i?eS({element:i,padding:a}).fn(n):{}}}},JD=(t,e)=>({...VD(t),options:[t,e]}),e2=(t,e)=>({...$D(t),options:[t,e]}),t2=(t,e)=>({...KD(t),options:[t,e]}),n2=(t,e)=>({...qD(t),options:[t,e]}),r2=(t,e)=>({...WD(t),options:[t,e]}),i2=(t,e)=>({...YD(t),options:[t,e]}),s2=(t,e)=>({...ZD(t),options:[t,e]});var a2="Arrow",Bx=_.forwardRef((t,e)=>{const{children:n,width:i=10,height:a=5,...l}=t;return b.jsx(nt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});Bx.displayName=a2;var o2=Bx;function Fx(t){const[e,n]=_.useState(void 0);return Ss(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const d=l.borderBoxSize,m=Array.isArray(d)?d[0]:d;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var ov="Popper",[zx,Gx]=ks(ov),[l2,Vx]=zx(ov),$x=t=>{const{__scopePopper:e,children:n}=t,[i,a]=_.useState(null);return b.jsx(l2,{scope:e,anchor:i,onAnchorChange:a,children:n})};$x.displayName=ov;var qx="PopperAnchor",Wx=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...a}=t,l=Vx(qx,n),u=_.useRef(null),f=wt(e,u);return _.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:b.jsx(nt.div,{...a,ref:f})});Wx.displayName=qx;var lv="PopperContent",[c2,u2]=zx(lv),Yx=_.forwardRef((t,e)=>{var He,Se,xe,Be,Wt,Vr;const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:S="optimized",onPlaced:w,...C}=t,T=Vx(lv,n),[R,I]=_.useState(null),N=wt(e,zt=>I(zt)),[P,O]=_.useState(null),H=Fx(P),W=(H==null?void 0:H.width)??0,Y=(H==null?void 0:H.height)??0,q=i+(l!=="center"?"-"+l:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},me=Array.isArray(m)?m:[m],Ae=me.length>0,ge={padding:Z,boundary:me.filter(d2),altBoundary:Ae},{refs:se,floatingStyles:ye,placement:G,isPositioned:ee,middlewareData:V}=QD({strategy:"fixed",placement:q,whileElementsMounted:(...zt)=>GD(...zt,{animationFrame:S==="always"}),elements:{reference:T.anchor},middleware:[JD({mainAxis:a+Y,alignmentAxis:u}),d&&e2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?t2():void 0,...ge}),d&&n2({...ge}),r2({...ge,apply:({elements:zt,rects:qi,availableWidth:Fs,availableHeight:$r})=>{const{width:So,height:zs}=qi.reference,qr=zt.floating.style;qr.setProperty("--radix-popper-available-width",`${Fs}px`),qr.setProperty("--radix-popper-available-height",`${$r}px`),qr.setProperty("--radix-popper-anchor-width",`${So}px`),qr.setProperty("--radix-popper-anchor-height",`${zs}px`)}}),P&&s2({element:P,padding:f}),h2({arrowWidth:W,arrowHeight:Y}),y&&i2({strategy:"referenceHidden",...ge})]}),[X,M]=Qx(G),F=Ln(w);Ss(()=>{ee&&(F==null||F())},[ee,F]);const ie=(He=V.arrow)==null?void 0:He.x,oe=(Se=V.arrow)==null?void 0:Se.y,J=((xe=V.arrow)==null?void 0:xe.centerOffset)!==0,[_e,ue]=_.useState();return Ss(()=>{R&&ue(window.getComputedStyle(R).zIndex)},[R]),b.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:ee?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(Be=V.transformOrigin)==null?void 0:Be.x,(Wt=V.transformOrigin)==null?void 0:Wt.y].join(" "),...((Vr=V.hide)==null?void 0:Vr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(c2,{scope:n,placedSide:X,onArrowChange:O,arrowX:ie,arrowY:oe,shouldHideArrow:J,children:b.jsx(nt.div,{"data-side":X,"data-align":M,...C,ref:N,style:{...C.style,animation:ee?void 0:"none"}})})})});Yx.displayName=lv;var Kx="PopperArrow",f2={top:"bottom",right:"left",bottom:"top",left:"right"},Xx=_.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,l=u2(Kx,i),u=f2[l.placedSide];return b.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:b.jsx(o2,{...a,ref:n,style:{...a.style,display:"block"}})})});Xx.displayName=Kx;function d2(t){return t!==null}var h2=t=>({name:"transformOrigin",options:t,fn(e){var T,R,I;const{placement:n,rects:i,middlewareData:a}=e,u=((T=a.arrow)==null?void 0:T.centerOffset)!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[m,g]=Qx(n),v={start:"0%",center:"50%",end:"100%"}[g],y=(((R=a.arrow)==null?void 0:R.x)??0)+f/2,S=(((I=a.arrow)==null?void 0:I.y)??0)+d/2;let w="",C="";return m==="bottom"?(w=u?v:`${y}px`,C=`${-d}px`):m==="top"?(w=u?v:`${y}px`,C=`${i.floating.height+d}px`):m==="right"?(w=`${-d}px`,C=u?v:`${S}px`):m==="left"&&(w=`${i.floating.width+d}px`,C=u?v:`${S}px`),{data:{x:w,y:C}}}});function Qx(t){const[e,n="center"]=t.split("-");return[e,n]}var m2=$x,p2=Wx,g2=Yx,v2=Xx,y2="Portal",cv=_.forwardRef((t,e)=>{var f;const{container:n,...i}=t,[a,l]=_.useState(!1);Ss(()=>l(!0),[]);const u=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?GI.createPortal(b.jsx(nt.div,{...i,ref:e}),u):null});cv.displayName=y2;function _2(t,e){return _.useReducer((n,i)=>e[n][i]??n,t)}var Br=t=>{const{present:e,children:n}=t,i=b2(e),a=typeof n=="function"?n({present:i.isPresent}):_.Children.only(n),l=wt(i.ref,E2(a));return typeof n=="function"||i.isPresent?_.cloneElement(a,{ref:l}):null};Br.displayName="Presence";function b2(t){const[e,n]=_.useState(),i=_.useRef({}),a=_.useRef(t),l=_.useRef("none"),u=t?"mounted":"unmounted",[f,d]=_2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Vu(i.current);l.current=f==="mounted"?m:"none"},[f]),Ss(()=>{const m=i.current,g=a.current;if(g!==t){const y=l.current,S=Vu(m);t?d("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(g&&y!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Ss(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=S=>{const C=Vu(i.current).includes(S.animationName);if(S.target===e&&C&&(d("ANIMATION_END"),!a.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=S=>{S.target===e&&(l.current=Vu(i.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:_.useCallback(m=>{m&&(i.current=getComputedStyle(m)),n(m)},[])}}function Vu(t){return(t==null?void 0:t.animationName)||"none"}function E2(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var op="rovingFocusGroup.onEntryFocus",S2={bubbles:!1,cancelable:!0},dd="RovingFocusGroup",[Qp,Zx,w2]=xx(dd),[x2,Jx]=ks(dd,[w2]),[C2,T2]=x2(dd),eC=_.forwardRef((t,e)=>b.jsx(Qp.Provider,{scope:t.__scopeRovingFocusGroup,children:b.jsx(Qp.Slot,{scope:t.__scopeRovingFocusGroup,children:b.jsx(R2,{...t,ref:e})})}));eC.displayName=dd;var R2=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,y=_.useRef(null),S=wt(e,y),w=Cx(l),[C=null,T]=ld({prop:u,defaultProp:f,onChange:d}),[R,I]=_.useState(!1),N=Ln(m),P=Zx(n),O=_.useRef(!1),[H,W]=_.useState(0);return _.useEffect(()=>{const Y=y.current;if(Y)return Y.addEventListener(op,N),()=>Y.removeEventListener(op,N)},[N]),b.jsx(C2,{scope:n,orientation:i,dir:w,loop:a,currentTabStopId:C,onItemFocus:_.useCallback(Y=>T(Y),[T]),onItemShiftTab:_.useCallback(()=>I(!0),[]),onFocusableItemAdd:_.useCallback(()=>W(Y=>Y+1),[]),onFocusableItemRemove:_.useCallback(()=>W(Y=>Y-1),[]),children:b.jsx(nt.div,{tabIndex:R||H===0?-1:0,"data-orientation":i,...v,ref:S,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{O.current=!0}),onFocus:Ee(t.onFocus,Y=>{const q=!O.current;if(Y.target===Y.currentTarget&&q&&!R){const Z=new CustomEvent(op,S2);if(Y.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const me=P().filter(G=>G.focusable),Ae=me.find(G=>G.active),ge=me.find(G=>G.id===C),ye=[Ae,ge,...me].filter(Boolean).map(G=>G.ref.current);rC(ye,g)}}O.current=!1}),onBlur:Ee(t.onBlur,()=>I(!1))})})}),tC="RovingFocusGroupItem",nC=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,...u}=t,f=Da(),d=l||f,m=T2(tC,n),g=m.currentTabStopId===d,v=Zx(n),{onFocusableItemAdd:y,onFocusableItemRemove:S}=m;return _.useEffect(()=>{if(i)return y(),()=>S()},[i,y,S]),b.jsx(Qp.ItemSlot,{scope:n,id:d,focusable:i,active:a,children:b.jsx(nt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Ee(t.onMouseDown,w=>{i?m.onItemFocus(d):w.preventDefault()}),onFocus:Ee(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=O2(w,m.orientation,m.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=v().filter(I=>I.focusable).map(I=>I.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const I=R.indexOf(w.currentTarget);R=m.loop?M2(R,I+1):R.slice(I+1)}setTimeout(()=>rC(R))}})})})});nC.displayName=tC;var A2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O2(t,e,n){const i=N2(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return A2[i]}function rC(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function M2(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var I2=eC,D2=nC,k2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ta=new WeakMap,$u=new WeakMap,qu={},lp=0,iC=function(t){return t&&(t.host||iC(t.parentNode))},P2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=iC(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L2=function(t,e,n,i){var a=P2(e,Array.isArray(t)?t:[t]);qu[n]||(qu[n]=new WeakMap);var l=qu[n],u=[],f=new Set,d=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var g=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(y){if(f.has(y))g(y);else try{var S=y.getAttribute(i),w=S!==null&&S!=="false",C=(Ta.get(y)||0)+1,T=(l.get(y)||0)+1;Ta.set(y,C),l.set(y,T),u.push(y),C===1&&w&&$u.set(y,!0),T===1&&y.setAttribute(n,"true"),w||y.setAttribute(i,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return g(e),f.clear(),lp++,function(){u.forEach(function(v){var y=Ta.get(v)-1,S=l.get(v)-1;Ta.set(v,y),l.set(v,S),y||($u.has(v)||v.removeAttribute(i),$u.delete(v)),S||v.removeAttribute(n)}),lp--,lp||(Ta=new WeakMap,Ta=new WeakMap,$u=new WeakMap,qu={})}},sC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),a=k2(t);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),L2(i,a,n,"aria-hidden")):function(){return null}},Zp=function(t,e){return Zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Zp(t,e)};function wn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var re=function(){return re=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},re.apply(this,arguments)};function Hn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function Nn(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}var af="right-scroll-bar-position",of="width-before-scroll-bar",U2="with-scroll-bars-hidden",j2="--removed-body-scroll-bar-size";function cp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H2(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var a=n.value;a!==i&&(n.value=i,n.callback(i,a))}}}})[0];return n.callback=e,n.facade}var B2=typeof window<"u"?_.useLayoutEffect:_.useEffect,nS=new WeakMap;function F2(t,e){var n=H2(null,function(i){return t.forEach(function(a){return cp(a,i)})});return B2(function(){var i=nS.get(n);if(i){var a=new Set(i),l=new Set(t),u=n.current;a.forEach(function(f){l.has(f)||cp(f,null)}),l.forEach(function(f){a.has(f)||cp(f,u)})}nS.set(n,t)},[t]),n}function z2(t){return t}function G2(t,e){e===void 0&&(e=z2);var n=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,i);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(i=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var d=function(){var g=u;u=[],g.forEach(l)},m=function(){return Promise.resolve().then(d)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return a}function V2(t){t===void 0&&(t={});var e=G2(null);return e.options=re({async:!0,ssr:!1},t),e}var aC=function(t){var e=t.sideCar,n=Hn(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return _.createElement(i,re({},n))};aC.isSideCarExport=!0;function $2(t,e){return t.useMedium(e),aC}var oC=V2(),up=function(){},hd=_.forwardRef(function(t,e){var n=_.useRef(null),i=_.useState({onScrollCapture:up,onWheelCapture:up,onTouchMoveCapture:up}),a=i[0],l=i[1],u=t.forwardProps,f=t.children,d=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,y=t.sideCar,S=t.noIsolation,w=t.inert,C=t.allowPinchZoom,T=t.as,R=T===void 0?"div":T,I=t.gapMode,N=Hn(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,O=F2([n,e]),H=re(re({},N),a);return _.createElement(_.Fragment,null,g&&_.createElement(P,{sideCar:oC,removeScrollBar:m,shards:v,noIsolation:S,inert:w,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:I}),u?_.cloneElement(_.Children.only(f),re(re({},H),{ref:O})):_.createElement(R,re({},H,{className:d,ref:O}),f))});hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hd.classNames={fullWidth:of,zeroRight:af};var q2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=q2();return e&&t.setAttribute("nonce",e),t}function Y2(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function K2(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var X2=function(){var t=0,e=null;return{add:function(n){t==0&&(e=W2())&&(Y2(e,n),K2(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Q2=function(){var t=X2();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lC=function(){var t=Q2(),e=function(n){var i=n.styles,a=n.dynamic;return t(i,a),null};return e},Z2={left:0,top:0,right:0,gap:0},fp=function(t){return parseInt(t||"",10)||0},J2=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[fp(n),fp(i),fp(a)]},ek=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Z2;var e=J2(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},tk=lC(),Pa="data-scroll-locked",nk=function(t,e,n,i){var a=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(U2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Pa,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(af,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(of,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(af," .").concat(af,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(of," .").concat(of,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Pa,`] {
    `).concat(j2,": ").concat(f,`px;
  }
`)},rS=function(){var t=parseInt(document.body.getAttribute(Pa)||"0",10);return isFinite(t)?t:0},rk=function(){_.useEffect(function(){return document.body.setAttribute(Pa,(rS()+1).toString()),function(){var t=rS()-1;t<=0?document.body.removeAttribute(Pa):document.body.setAttribute(Pa,t.toString())}},[])},ik=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,a=i===void 0?"margin":i;rk();var l=_.useMemo(function(){return ek(a)},[a]);return _.createElement(tk,{styles:nk(l,!e,a,n?"":"!important")})},Jp=!1;if(typeof window<"u")try{var Wu=Object.defineProperty({},"passive",{get:function(){return Jp=!0,!0}});window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Jp=!1}var Ra=Jp?{passive:!1}:!1,sk=function(t){return t.tagName==="TEXTAREA"},cC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sk(t)&&n[e]==="visible")},ak=function(t){return cC(t,"overflowY")},ok=function(t){return cC(t,"overflowX")},iS=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=uC(t,i);if(a){var l=fC(t,i),u=l[1],f=l[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},lk=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},ck=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},uC=function(t,e){return t==="v"?ak(e):ok(e)},fC=function(t,e){return t==="v"?lk(e):ck(e)},uk=function(t,e){return t==="h"&&e==="rtl"?-1:1},fk=function(t,e,n,i,a){var l=uk(t,window.getComputedStyle(e).direction),u=l*i,f=n.target,d=e.contains(f),m=!1,g=u>0,v=0,y=0;do{var S=fC(t,f),w=S[0],C=S[1],T=S[2],R=C-T-l*w;(w||R)&&uC(t,f)&&(v+=R,y+=w),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!d&&f!==document.body||d&&(e.contains(f)||e===f));return(g&&Math.abs(v)<1||!g&&Math.abs(y)<1)&&(m=!0),m},Yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sS=function(t){return[t.deltaX,t.deltaY]},aS=function(t){return t&&"current"in t?t.current:t},dk=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mk=0,Aa=[];function pk(t){var e=_.useRef([]),n=_.useRef([0,0]),i=_.useRef(),a=_.useState(mk++)[0],l=_.useState(lC)[0],u=_.useRef(t);_.useEffect(function(){u.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var C=Nn([t.lockRef.current],(t.shards||[]).map(aS),!0).filter(Boolean);return C.forEach(function(T){return T.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=_.useCallback(function(C,T){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var R=Yu(C),I=n.current,N="deltaX"in C?C.deltaX:I[0]-R[0],P="deltaY"in C?C.deltaY:I[1]-R[1],O,H=C.target,W=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in C&&W==="h"&&H.type==="range")return!1;var Y=iS(W,H);if(!Y)return!0;if(Y?O=W:(O=W==="v"?"h":"v",Y=iS(W,H)),!Y)return!1;if(!i.current&&"changedTouches"in C&&(N||P)&&(i.current=O),!O)return!0;var q=i.current||O;return fk(q,T,C,q==="h"?N:P)},[]),d=_.useCallback(function(C){var T=C;if(!(!Aa.length||Aa[Aa.length-1]!==l)){var R="deltaY"in T?sS(T):Yu(T),I=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&dk(O.delta,R)})[0];if(I&&I.should){T.cancelable&&T.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(aS).filter(Boolean).filter(function(O){return O.contains(T.target)}),P=N.length>0?f(T,N[0]):!u.current.noIsolation;P&&T.cancelable&&T.preventDefault()}}},[]),m=_.useCallback(function(C,T,R,I){var N={name:C,delta:T,target:R,should:I,shadowParent:gk(R)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(P){return P!==N})},1)},[]),g=_.useCallback(function(C){n.current=Yu(C),i.current=void 0},[]),v=_.useCallback(function(C){m(C.type,sS(C),C.target,f(C,t.lockRef.current))},[]),y=_.useCallback(function(C){m(C.type,Yu(C),C.target,f(C,t.lockRef.current))},[]);_.useEffect(function(){return Aa.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Ra),document.addEventListener("touchmove",d,Ra),document.addEventListener("touchstart",g,Ra),function(){Aa=Aa.filter(function(C){return C!==l}),document.removeEventListener("wheel",d,Ra),document.removeEventListener("touchmove",d,Ra),document.removeEventListener("touchstart",g,Ra)}},[]);var S=t.removeScrollBar,w=t.inert;return _.createElement(_.Fragment,null,w?_.createElement(l,{styles:hk(a)}):null,S?_.createElement(ik,{gapMode:t.gapMode}):null)}function gk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vk=$2(oC,pk);var uv=_.forwardRef(function(t,e){return _.createElement(hd,re({},t,{ref:e,sideCar:vk}))});uv.classNames=hd.classNames;var eg=["Enter"," "],yk=["ArrowDown","PageUp","Home"],dC=["ArrowUp","PageDown","End"],_k=[...yk,...dC],bk={ltr:[...eg,"ArrowRight"],rtl:[...eg,"ArrowLeft"]},Ek={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cc="Menu",[Gl,Sk,wk]=xx(cc),[Ps,hC]=ks(cc,[wk,Gx,Jx]),md=Gx(),mC=Jx(),[xk,Ls]=Ps(cc),[Ck,uc]=Ps(cc),pC=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:a,onOpenChange:l,modal:u=!0}=t,f=md(e),[d,m]=_.useState(null),g=_.useRef(!1),v=Ln(l),y=Cx(a);return _.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),b.jsx(m2,{...f,children:b.jsx(xk,{scope:e,open:n,onOpenChange:v,content:d,onContentChange:m,children:b.jsx(Ck,{scope:e,onClose:_.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:y,modal:u,children:i})})})};pC.displayName=cc;var Tk="MenuAnchor",fv=_.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,a=md(n);return b.jsx(p2,{...a,...i,ref:e})});fv.displayName=Tk;var dv="MenuPortal",[Rk,gC]=Ps(dv,{forceMount:void 0}),vC=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:a}=t,l=Ls(dv,e);return b.jsx(Rk,{scope:e,forceMount:n,children:b.jsx(Br,{present:n||l.open,children:b.jsx(cv,{asChild:!0,container:a,children:i})})})};vC.displayName=dv;var En="MenuContent",[Ak,hv]=Ps(En),yC=_.forwardRef((t,e)=>{const n=gC(En,t.__scopeMenu),{forceMount:i=n.forceMount,...a}=t,l=Ls(En,t.__scopeMenu),u=uc(En,t.__scopeMenu);return b.jsx(Gl.Provider,{scope:t.__scopeMenu,children:b.jsx(Br,{present:i||l.open,children:b.jsx(Gl.Slot,{scope:t.__scopeMenu,children:u.modal?b.jsx(Nk,{...a,ref:e}):b.jsx(Ok,{...a,ref:e})})})})}),Nk=_.forwardRef((t,e)=>{const n=Ls(En,t.__scopeMenu),i=_.useRef(null),a=wt(e,i);return _.useEffect(()=>{const l=i.current;if(l)return sC(l)},[]),b.jsx(mv,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ok=_.forwardRef((t,e)=>{const n=Ls(En,t.__scopeMenu);return b.jsx(mv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mv=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:S,disableOutsideScroll:w,...C}=t,T=Ls(En,n),R=uc(En,n),I=md(n),N=mC(n),P=Sk(n),[O,H]=_.useState(null),W=_.useRef(null),Y=wt(e,W,T.onContentChange),q=_.useRef(0),Z=_.useRef(""),me=_.useRef(0),Ae=_.useRef(null),ge=_.useRef("right"),se=_.useRef(0),ye=w?uv:_.Fragment,G=w?{as:Mi,allowPinchZoom:!0}:void 0,ee=X=>{var He,Se;const M=Z.current+X,F=P().filter(xe=>!xe.disabled),ie=document.activeElement,oe=(He=F.find(xe=>xe.ref.current===ie))==null?void 0:He.textValue,J=F.map(xe=>xe.textValue),_e=zk(J,M,oe),ue=(Se=F.find(xe=>xe.textValue===_e))==null?void 0:Se.ref.current;(function xe(Be){Z.current=Be,window.clearTimeout(q.current),Be!==""&&(q.current=window.setTimeout(()=>xe(""),1e3))})(M),ue&&setTimeout(()=>ue.focus())};_.useEffect(()=>()=>window.clearTimeout(q.current),[]),Ax();const V=_.useCallback(X=>{var F,ie;return ge.current===((F=Ae.current)==null?void 0:F.side)&&Vk(X,(ie=Ae.current)==null?void 0:ie.area)},[]);return b.jsx(Ak,{scope:n,searchRef:Z,onItemEnter:_.useCallback(X=>{V(X)&&X.preventDefault()},[V]),onItemLeave:_.useCallback(X=>{var M;V(X)||((M=W.current)==null||M.focus(),H(null))},[V]),onTriggerLeave:_.useCallback(X=>{V(X)&&X.preventDefault()},[V]),pointerGraceTimerRef:me,onPointerGraceIntentChange:_.useCallback(X=>{Ae.current=X},[]),children:b.jsx(ye,{...G,children:b.jsx(Jg,{asChild:!0,trapped:a,onMountAutoFocus:Ee(l,X=>{var M;X.preventDefault(),(M=W.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:b.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:S,children:b.jsx(I2,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:i,currentTabStopId:O,onCurrentTabStopIdChange:H,onEntryFocus:Ee(d,X=>{R.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:b.jsx(g2,{role:"menu","aria-orientation":"vertical","data-state":kC(T.open),"data-radix-menu-content":"",dir:R.dir,...I,...C,ref:Y,style:{outline:"none",...C.style},onKeyDown:Ee(C.onKeyDown,X=>{const F=X.target.closest("[data-radix-menu-content]")===X.currentTarget,ie=X.ctrlKey||X.altKey||X.metaKey,oe=X.key.length===1;F&&(X.key==="Tab"&&X.preventDefault(),!ie&&oe&&ee(X.key));const J=W.current;if(X.target!==J||!_k.includes(X.key))return;X.preventDefault();const ue=P().filter(He=>!He.disabled).map(He=>He.ref.current);dC.includes(X.key)&&ue.reverse(),Bk(ue)}),onBlur:Ee(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(q.current),Z.current="")}),onPointerMove:Ee(t.onPointerMove,Vl(X=>{const M=X.target,F=se.current!==X.clientX;if(X.currentTarget.contains(M)&&F){const ie=X.clientX>se.current?"right":"left";ge.current=ie,se.current=X.clientX}}))})})})})})})});yC.displayName=En;var Mk="MenuGroup",pv=_.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return b.jsx(nt.div,{role:"group",...i,ref:e})});pv.displayName=Mk;var Ik="MenuLabel",_C=_.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return b.jsx(nt.div,{...i,ref:e})});_C.displayName=Ik;var Sf="MenuItem",oS="menu.itemSelect",pd=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...a}=t,l=_.useRef(null),u=uc(Sf,t.__scopeMenu),f=hv(Sf,t.__scopeMenu),d=wt(e,l),m=_.useRef(!1),g=()=>{const v=l.current;if(!n&&v){const y=new CustomEvent(oS,{bubbles:!0,cancelable:!0});v.addEventListener(oS,S=>i==null?void 0:i(S),{once:!0}),wx(v,y),y.defaultPrevented?m.current=!1:u.onClose()}};return b.jsx(bC,{...a,ref:d,disabled:n,onClick:Ee(t.onClick,g),onPointerDown:v=>{var y;(y=t.onPointerDown)==null||y.call(t,v),m.current=!0},onPointerUp:Ee(t.onPointerUp,v=>{var y;m.current||(y=v.currentTarget)==null||y.click()}),onKeyDown:Ee(t.onKeyDown,v=>{const y=f.searchRef.current!=="";n||y&&v.key===" "||eg.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});pd.displayName=Sf;var bC=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:a,...l}=t,u=hv(Sf,n),f=mC(n),d=_.useRef(null),m=wt(e,d),[g,v]=_.useState(!1),[y,S]=_.useState("");return _.useEffect(()=>{const w=d.current;w&&S((w.textContent??"").trim())},[l.children]),b.jsx(Gl.ItemSlot,{scope:n,disabled:i,textValue:a??y,children:b.jsx(D2,{asChild:!0,...f,focusable:!i,children:b.jsx(nt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...l,ref:m,onPointerMove:Ee(t.onPointerMove,Vl(w=>{i?u.onItemLeave(w):(u.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Vl(w=>u.onItemLeave(w))),onFocus:Ee(t.onFocus,()=>v(!0)),onBlur:Ee(t.onBlur,()=>v(!1))})})})}),Dk="MenuCheckboxItem",EC=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...a}=t;return b.jsx(TC,{scope:t.__scopeMenu,checked:n,children:b.jsx(pd,{role:"menuitemcheckbox","aria-checked":wf(n)?"mixed":n,...a,ref:e,"data-state":vv(n),onSelect:Ee(a.onSelect,()=>i==null?void 0:i(wf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EC.displayName=Dk;var SC="MenuRadioGroup",[kk,Pk]=Ps(SC,{value:void 0,onValueChange:()=>{}}),wC=_.forwardRef((t,e)=>{const{value:n,onValueChange:i,...a}=t,l=Ln(i);return b.jsx(kk,{scope:t.__scopeMenu,value:n,onValueChange:l,children:b.jsx(pv,{...a,ref:e})})});wC.displayName=SC;var xC="MenuRadioItem",CC=_.forwardRef((t,e)=>{const{value:n,...i}=t,a=Pk(xC,t.__scopeMenu),l=n===a.value;return b.jsx(TC,{scope:t.__scopeMenu,checked:l,children:b.jsx(pd,{role:"menuitemradio","aria-checked":l,...i,ref:e,"data-state":vv(l),onSelect:Ee(i.onSelect,()=>{var u;return(u=a.onValueChange)==null?void 0:u.call(a,n)},{checkForDefaultPrevented:!1})})})});CC.displayName=xC;var gv="MenuItemIndicator",[TC,Lk]=Ps(gv,{checked:!1}),RC=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...a}=t,l=Lk(gv,n);return b.jsx(Br,{present:i||wf(l.checked)||l.checked===!0,children:b.jsx(nt.span,{...a,ref:e,"data-state":vv(l.checked)})})});RC.displayName=gv;var Uk="MenuSeparator",AC=_.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return b.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});AC.displayName=Uk;var jk="MenuArrow",NC=_.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,a=md(n);return b.jsx(v2,{...a,...i,ref:e})});NC.displayName=jk;var Hk="MenuSub",[I9,OC]=Ps(Hk),Al="MenuSubTrigger",MC=_.forwardRef((t,e)=>{const n=Ls(Al,t.__scopeMenu),i=uc(Al,t.__scopeMenu),a=OC(Al,t.__scopeMenu),l=hv(Al,t.__scopeMenu),u=_.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:d}=l,m={__scopeMenu:t.__scopeMenu},g=_.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return _.useEffect(()=>g,[g]),_.useEffect(()=>{const v=f.current;return()=>{window.clearTimeout(v),d(null)}},[f,d]),b.jsx(fv,{asChild:!0,...m,children:b.jsx(bC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":kC(n.open),...t,ref:od(e,a.onTriggerChange),onClick:v=>{var y;(y=t.onClick)==null||y.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Vl(v=>{l.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ee(t.onPointerLeave,Vl(v=>{var S,w;g();const y=(S=n.content)==null?void 0:S.getBoundingClientRect();if(y){const C=(w=n.content)==null?void 0:w.dataset.side,T=C==="right",R=T?-5:5,I=y[T?"left":"right"],N=y[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:v.clientX+R,y:v.clientY},{x:I,y:y.top},{x:N,y:y.top},{x:N,y:y.bottom},{x:I,y:y.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(v),v.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,v=>{var S;const y=l.searchRef.current!=="";t.disabled||y&&v.key===" "||bk[i.dir].includes(v.key)&&(n.onOpenChange(!0),(S=n.content)==null||S.focus(),v.preventDefault())})})})});MC.displayName=Al;var IC="MenuSubContent",DC=_.forwardRef((t,e)=>{const n=gC(En,t.__scopeMenu),{forceMount:i=n.forceMount,...a}=t,l=Ls(En,t.__scopeMenu),u=uc(En,t.__scopeMenu),f=OC(IC,t.__scopeMenu),d=_.useRef(null),m=wt(e,d);return b.jsx(Gl.Provider,{scope:t.__scopeMenu,children:b.jsx(Br,{present:i||l.open,children:b.jsx(Gl.Slot,{scope:t.__scopeMenu,children:b.jsx(mv,{id:f.contentId,"aria-labelledby":f.triggerId,...a,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;u.isUsingKeyboardRef.current&&((v=d.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,g=>{g.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:Ee(t.onKeyDown,g=>{var S;const v=g.currentTarget.contains(g.target),y=Ek[u.dir].includes(g.key);v&&y&&(l.onOpenChange(!1),(S=f.trigger)==null||S.focus(),g.preventDefault())})})})})})});DC.displayName=IC;function kC(t){return t?"open":"closed"}function wf(t){return t==="indeterminate"}function vv(t){return wf(t)?"indeterminate":t?"checked":"unchecked"}function Bk(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Fk(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function zk(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=Fk(t,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const d=u.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Gk(t,e){const{x:n,y:i}=t;let a=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l].x,d=e[l].y,m=e[u].x,g=e[u].y;d>i!=g>i&&n<(m-f)*(i-d)/(g-d)+f&&(a=!a)}return a}function Vk(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Gk(n,e)}function Vl(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $k=pC,qk=fv,Wk=vC,Yk=yC,Kk=pv,Xk=_C,Qk=pd,Zk=EC,Jk=wC,eP=CC,tP=RC,nP=AC,rP=NC,iP=MC,sP=DC,yv="DropdownMenu",[aP,D9]=ks(yv,[hC]),Bt=hC(),[oP,PC]=aP(yv),LC=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:a,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,d=Bt(e),m=_.useRef(null),[g=!1,v]=ld({prop:a,defaultProp:l,onChange:u});return b.jsx(oP,{scope:e,triggerId:Da(),triggerRef:m,contentId:Da(),open:g,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(y=>!y),[v]),modal:f,children:b.jsx($k,{...d,open:g,onOpenChange:v,dir:i,modal:f,children:n})})};LC.displayName=yv;var UC="DropdownMenuTrigger",jC=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...a}=t,l=PC(UC,n),u=Bt(n);return b.jsx(qk,{asChild:!0,...u,children:b.jsx(nt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...a,ref:od(e,l.triggerRef),onPointerDown:Ee(t.onPointerDown,f=>{!i&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Ee(t.onKeyDown,f=>{i||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});jC.displayName=UC;var lP="DropdownMenuPortal",HC=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Bt(e);return b.jsx(Wk,{...i,...n})};HC.displayName=lP;var BC="DropdownMenuContent",FC=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=PC(BC,n),l=Bt(n),u=_.useRef(!1);return b.jsx(Yk,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...i,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,f=>{var d;u.current||(d=a.triggerRef.current)==null||d.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,f=>{const d=f.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,g=d.button===2||m;(!a.modal||g)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FC.displayName=BC;var cP="DropdownMenuGroup",uP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(Kk,{...a,...i,ref:e})});uP.displayName=cP;var fP="DropdownMenuLabel",zC=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(Xk,{...a,...i,ref:e})});zC.displayName=fP;var dP="DropdownMenuItem",GC=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(Qk,{...a,...i,ref:e})});GC.displayName=dP;var hP="DropdownMenuCheckboxItem",mP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(Zk,{...a,...i,ref:e})});mP.displayName=hP;var pP="DropdownMenuRadioGroup",gP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(Jk,{...a,...i,ref:e})});gP.displayName=pP;var vP="DropdownMenuRadioItem",yP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(eP,{...a,...i,ref:e})});yP.displayName=vP;var _P="DropdownMenuItemIndicator",bP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(tP,{...a,...i,ref:e})});bP.displayName=_P;var EP="DropdownMenuSeparator",SP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(nP,{...a,...i,ref:e})});SP.displayName=EP;var wP="DropdownMenuArrow",xP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(rP,{...a,...i,ref:e})});xP.displayName=wP;var CP="DropdownMenuSubTrigger",TP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(iP,{...a,...i,ref:e})});TP.displayName=CP;var RP="DropdownMenuSubContent",AP=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,a=Bt(n);return b.jsx(sP,{...a,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AP.displayName=RP;var NP=LC,OP=jC,MP=HC,IP=FC,DP=zC,kP=GC;function _v({...t}){return b.jsx(NP,{"data-slot":"dropdown-menu",...t})}function bv({...t}){return b.jsx(OP,{"data-slot":"dropdown-menu-trigger",...t})}function Ev({className:t,sideOffset:e=4,...n}){return b.jsx(MP,{children:b.jsx(IP,{"data-slot":"dropdown-menu-content",sideOffset:e,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),...n})})}function Dl({className:t,inset:e,variant:n="default",...i}){return b.jsx(kP,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:qe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function PP({className:t,inset:e,...n}){return b.jsx(DP,{"data-slot":"dropdown-menu-label","data-inset":e,className:qe("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}const LP={theme:"system",setTheme:()=>null},VC=_.createContext(LP);function UP({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...i}){const[a,l]=_.useState(()=>localStorage.getItem(n)||e);_.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),a==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(d);return}f.classList.add(a)},[a]);const u={theme:a,setTheme:f=>{localStorage.setItem(n,f),l(f)}};return b.jsx(VC.Provider,{...i,value:u,children:t})}const jP=()=>{const t=_.useContext(VC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function HP(){const{setTheme:t}=jP();return b.jsxs(_v,{children:[b.jsx(bv,{asChild:!0,children:b.jsxs(kn,{variant:"outline",size:"icon",children:[b.jsx(zM,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(BM,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),b.jsxs(Ev,{align:"end",children:[b.jsx(Dl,{onClick:()=>t("light"),children:"Light"}),b.jsx(Dl,{onClick:()=>t("dark"),children:"Dark"}),b.jsx(Dl,{onClick:()=>t("system"),children:"System"})]})]})}function Qn(t,e){var n=e&&e.cache?e.cache:qP,i=e&&e.serializer?e.serializer:VP,a=e&&e.strategy?e.strategy:zP;return a(t,{cache:n,serializer:i})}function BP(t){return t==null||typeof t=="number"||typeof t=="boolean"}function FP(t,e,n,i){var a=BP(i)?i:n(i),l=e.get(a);return typeof l>"u"&&(l=t.call(this,i),e.set(a,l)),l}function $C(t,e,n){var i=Array.prototype.slice.call(arguments,3),a=n(i),l=e.get(a);return typeof l>"u"&&(l=t.apply(this,i),e.set(a,l)),l}function qC(t,e,n,i,a){return n.bind(e,t,i,a)}function zP(t,e){var n=t.length===1?FP:$C;return qC(t,this,n,e.cache.create(),e.serializer)}function GP(t,e){return qC(t,this,$C,e.cache.create(),e.serializer)}var VP=function(){return JSON.stringify(arguments)},$P=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,n){this.cache[e]=n},t}(),qP={create:function(){return new $P}},Zn={variadic:GP},De;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(De||(De={}));var Ze;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(Ze||(Ze={}));var Ga;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(Ga||(Ga={}));function lS(t){return t.type===Ze.literal}function WP(t){return t.type===Ze.argument}function WC(t){return t.type===Ze.number}function YC(t){return t.type===Ze.date}function KC(t){return t.type===Ze.time}function XC(t){return t.type===Ze.select}function QC(t){return t.type===Ze.plural}function YP(t){return t.type===Ze.pound}function ZC(t){return t.type===Ze.tag}function JC(t){return!!(t&&typeof t=="object"&&t.type===Ga.number)}function tg(t){return!!(t&&typeof t=="object"&&t.type===Ga.dateTime)}var eT=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,KP=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function XP(t){var e={};return t.replace(KP,function(n){var i=n.length;switch(n[0]){case"G":e.era=i===4?"long":i===5?"narrow":"short";break;case"y":e.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var QP=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function ZP(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(QP).filter(function(y){return y.length>0}),n=[],i=0,a=e;i<a.length;i++){var l=a[i],u=l.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var f=u[0],d=u.slice(1),m=0,g=d;m<g.length;m++){var v=g[m];if(v.length===0)throw new Error("Invalid number skeleton")}n.push({stem:f,options:d})}return n}function JP(t){return t.replace(/^(.*?)-/,"")}var cS=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,tT=/^(@+)?(\+|#+)?[rs]?$/g,eL=/(\*)(0+)|(#+)(0+)|(0+)/g,nT=/^(0+)$/;function uS(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(tT,function(n,i,a){return typeof a!="string"?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):a==="+"?e.minimumSignificantDigits=i.length:i[0]==="#"?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+(typeof a=="string"?a.length:0)),""}),e}function rT(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function tL(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!nT.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function fS(t){var e={},n=rT(t);return n||e}function nL(t){for(var e={},n=0,i=t;n<i.length;n++){var a=i[n];switch(a.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=a.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=JP(a.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=re(re(re({},e),{notation:"scientific"}),a.options.reduce(function(d,m){return re(re({},d),fS(m))},{}));continue;case"engineering":e=re(re(re({},e),{notation:"engineering"}),a.options.reduce(function(d,m){return re(re({},d),fS(m))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(a.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(a.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");a.options[0].replace(eL,function(d,m,g,v,y,S){if(m)e.minimumIntegerDigits=g.length;else{if(v&&y)throw new Error("We currently do not support maximum integer digits");if(S)throw new Error("We currently do not support exact integer digits")}return""});continue}if(nT.test(a.stem)){e.minimumIntegerDigits=a.stem.length;continue}if(cS.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(cS,function(d,m,g,v,y,S){return g==="*"?e.minimumFractionDigits=m.length:v&&v[0]==="#"?e.maximumFractionDigits=v.length:y&&S?(e.minimumFractionDigits=y.length,e.maximumFractionDigits=y.length+S.length):(e.minimumFractionDigits=m.length,e.maximumFractionDigits=m.length),""});var l=a.options[0];l==="w"?e=re(re({},e),{trailingZeroDisplay:"stripIfInteger"}):l&&(e=re(re({},e),uS(l)));continue}if(tT.test(a.stem)){e=re(re({},e),uS(a.stem));continue}var u=rT(a.stem);u&&(e=re(re({},e),u));var f=tL(a.stem);f&&(e=re(re({},e),f))}return e}var Ku={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function rL(t,e){for(var n="",i=0;i<t.length;i++){var a=t.charAt(i);if(a==="j"){for(var l=0;i+1<t.length&&t.charAt(i+1)===a;)l++,i++;var u=1+(l&1),f=l<2?1:3+(l>>1),d="a",m=iL(e);for((m=="H"||m=="k")&&(f=0);f-- >0;)n+=d;for(;u-- >0;)n=m+n}else a==="J"?n+="H":n+=a}return n}function iL(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,i;n!=="root"&&(i=t.maximize().region);var a=Ku[i||""]||Ku[n||""]||Ku["".concat(n,"-001")]||Ku["001"];return a[0]}var dp,sL=new RegExp("^".concat(eT.source,"*")),aL=new RegExp("".concat(eT.source,"*$"));function Pe(t,e){return{start:t,end:e}}var oL=!!String.prototype.startsWith&&"_a".startsWith("a",1),lL=!!String.fromCodePoint,cL=!!Object.fromEntries,uL=!!String.prototype.codePointAt,fL=!!String.prototype.trimStart,dL=!!String.prototype.trimEnd,hL=!!Number.isSafeInteger,mL=hL?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},ng=!0;try{var pL=sT("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ng=((dp=pL.exec("a"))===null||dp===void 0?void 0:dp[0])==="a"}catch{ng=!1}var dS=oL?function(e,n,i){return e.startsWith(n,i)}:function(e,n,i){return e.slice(i,i+n.length)===n},rg=lL?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",a=e.length,l=0,u;a>l;){if(u=e[l++],u>1114111)throw RangeError(u+" is not a valid code point");i+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return i},hS=cL?Object.fromEntries:function(e){for(var n={},i=0,a=e;i<a.length;i++){var l=a[i],u=l[0],f=l[1];n[u]=f}return n},iT=uL?function(e,n){return e.codePointAt(n)}:function(e,n){var i=e.length;if(!(n<0||n>=i)){var a=e.charCodeAt(n),l;return a<55296||a>56319||n+1===i||(l=e.charCodeAt(n+1))<56320||l>57343?a:(a-55296<<10)+(l-56320)+65536}},gL=fL?function(e){return e.trimStart()}:function(e){return e.replace(sL,"")},vL=dL?function(e){return e.trimEnd()}:function(e){return e.replace(aL,"")};function sT(t,e){return new RegExp(t,e)}var ig;if(ng){var mS=sT("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ig=function(e,n){var i;mS.lastIndex=n;var a=mS.exec(e);return(i=a[1])!==null&&i!==void 0?i:""}}else ig=function(e,n){for(var i=[];;){var a=iT(e,n);if(a===void 0||aT(a)||EL(a))break;i.push(a),n+=a>=65536?2:1}return rg.apply(void 0,i)};var yL=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,i){for(var a=[];!this.isEOF();){var l=this.char();if(l===123){var u=this.parseArgument(e,i);if(u.err)return u;a.push(u.val)}else{if(l===125&&e>0)break;if(l===35&&(n==="plural"||n==="selectordinal")){var f=this.clonePosition();this.bump(),a.push({type:Ze.pound,location:Pe(f,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(De.UNMATCHED_CLOSING_TAG,Pe(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&sg(this.peek()||0)){var u=this.parseTag(e,n);if(u.err)return u;a.push(u.val)}else{var u=this.parseLiteral(e,n);if(u.err)return u;a.push(u.val)}}}return{val:a,err:null}},t.prototype.parseTag=function(e,n){var i=this.clonePosition();this.bump();var a=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Ze.literal,value:"<".concat(a,"/>"),location:Pe(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(e+1,n,!0);if(l.err)return l;var u=l.val,f=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!sg(this.char()))return this.error(De.INVALID_TAG,Pe(f,this.clonePosition()));var d=this.clonePosition(),m=this.parseTagName();return a!==m?this.error(De.UNMATCHED_CLOSING_TAG,Pe(d,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Ze.tag,value:a,children:u,location:Pe(i,this.clonePosition())},err:null}:this.error(De.INVALID_TAG,Pe(f,this.clonePosition())))}else return this.error(De.UNCLOSED_TAG,Pe(i,this.clonePosition()))}else return this.error(De.INVALID_TAG,Pe(i,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&bL(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var i=this.clonePosition(),a="";;){var l=this.tryParseQuote(n);if(l){a+=l;continue}var u=this.tryParseUnquoted(e,n);if(u){a+=u;continue}var f=this.tryParseLeftAngleBracket();if(f){a+=f;continue}break}var d=Pe(i,this.clonePosition());return{val:{type:Ze.literal,value:a,location:d},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!_L(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(i);this.bump()}return rg.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(n==="plural"||n==="selectordinal")||i===125&&e>0?null:(this.bump(),rg(i))},t.prototype.parseArgument=function(e,n){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(De.EXPECT_ARGUMENT_CLOSING_BRACE,Pe(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(De.EMPTY_ARGUMENT,Pe(i,this.clonePosition()));var a=this.parseIdentifierIfPossible().value;if(!a)return this.error(De.MALFORMED_ARGUMENT,Pe(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(De.EXPECT_ARGUMENT_CLOSING_BRACE,Pe(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Ze.argument,value:a,location:Pe(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(De.EXPECT_ARGUMENT_CLOSING_BRACE,Pe(i,this.clonePosition())):this.parseArgumentOptions(e,n,a,i);default:return this.error(De.MALFORMED_ARGUMENT,Pe(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),i=ig(this.message,n),a=n+i.length;this.bumpTo(a);var l=this.clonePosition(),u=Pe(e,l);return{value:i,location:u}},t.prototype.parseArgumentOptions=function(e,n,i,a){var l,u=this.clonePosition(),f=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(f){case"":return this.error(De.EXPECT_ARGUMENT_TYPE,Pe(u,d));case"number":case"date":case"time":{this.bumpSpace();var m=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),v=this.parseSimpleArgStyleIfPossible();if(v.err)return v;var y=vL(v.val);if(y.length===0)return this.error(De.EXPECT_ARGUMENT_STYLE,Pe(this.clonePosition(),this.clonePosition()));var S=Pe(g,this.clonePosition());m={style:y,styleLocation:S}}var w=this.tryParseArgumentClose(a);if(w.err)return w;var C=Pe(a,this.clonePosition());if(m&&dS(m==null?void 0:m.style,"::",0)){var T=gL(m.style.slice(2));if(f==="number"){var v=this.parseNumberSkeletonFromString(T,m.styleLocation);return v.err?v:{val:{type:Ze.number,value:i,location:C,style:v.val},err:null}}else{if(T.length===0)return this.error(De.EXPECT_DATE_TIME_SKELETON,C);var R=T;this.locale&&(R=rL(T,this.locale));var y={type:Ga.dateTime,pattern:R,location:m.styleLocation,parsedOptions:this.shouldParseSkeletons?XP(R):{}},I=f==="date"?Ze.date:Ze.time;return{val:{type:I,value:i,location:C,style:y},err:null}}}return{val:{type:f==="number"?Ze.number:f==="date"?Ze.date:Ze.time,value:i,location:C,style:(l=m==null?void 0:m.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var N=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(De.EXPECT_SELECT_ARGUMENT_OPTIONS,Pe(N,re({},N)));this.bumpSpace();var P=this.parseIdentifierIfPossible(),O=0;if(f!=="select"&&P.value==="offset"){if(!this.bumpIf(":"))return this.error(De.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Pe(this.clonePosition(),this.clonePosition()));this.bumpSpace();var v=this.tryParseDecimalInteger(De.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,De.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(v.err)return v;this.bumpSpace(),P=this.parseIdentifierIfPossible(),O=v.val}var H=this.tryParsePluralOrSelectOptions(e,f,n,P);if(H.err)return H;var w=this.tryParseArgumentClose(a);if(w.err)return w;var W=Pe(a,this.clonePosition());return f==="select"?{val:{type:Ze.select,value:i,options:hS(H.val),location:W},err:null}:{val:{type:Ze.plural,value:i,options:hS(H.val),offset:O,pluralType:f==="plural"?"cardinal":"ordinal",location:W},err:null}}default:return this.error(De.INVALID_ARGUMENT_TYPE,Pe(u,d))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(De.EXPECT_ARGUMENT_CLOSING_BRACE,Pe(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var a=this.clonePosition();if(!this.bumpUntil("'"))return this.error(De.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Pe(a,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var i=[];try{i=ZP(e)}catch{return this.error(De.INVALID_NUMBER_SKELETON,n)}return{val:{type:Ga.number,tokens:i,location:n,parsedOptions:this.shouldParseSkeletons?nL(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,i,a){for(var l,u=!1,f=[],d=new Set,m=a.value,g=a.location;;){if(m.length===0){var v=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var y=this.tryParseDecimalInteger(De.EXPECT_PLURAL_ARGUMENT_SELECTOR,De.INVALID_PLURAL_ARGUMENT_SELECTOR);if(y.err)return y;g=Pe(v,this.clonePosition()),m=this.message.slice(v.offset,this.offset())}else break}if(d.has(m))return this.error(n==="select"?De.DUPLICATE_SELECT_ARGUMENT_SELECTOR:De.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);m==="other"&&(u=!0),this.bumpSpace();var S=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?De.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:De.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Pe(this.clonePosition(),this.clonePosition()));var w=this.parseMessage(e+1,n,i);if(w.err)return w;var C=this.tryParseArgumentClose(S);if(C.err)return C;f.push([m,{value:w.val,location:Pe(S,this.clonePosition())}]),d.add(m),this.bumpSpace(),l=this.parseIdentifierIfPossible(),m=l.value,g=l.location}return f.length===0?this.error(n==="select"?De.EXPECT_SELECT_ARGUMENT_SELECTOR:De.EXPECT_PLURAL_ARGUMENT_SELECTOR,Pe(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(De.MISSING_OTHER_CLAUSE,Pe(this.clonePosition(),this.clonePosition())):{val:f,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var i=1,a=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,u=0;!this.isEOF();){var f=this.char();if(f>=48&&f<=57)l=!0,u=u*10+(f-48),this.bump();else break}var d=Pe(a,this.clonePosition());return l?(u*=i,mL(u)?{val:u,err:null}:this.error(n,d)):this.error(e,d)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=iT(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(dS(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),i=this.message.indexOf(e,n);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&aT(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),i=this.message.charCodeAt(n+(e>=65536?2:1));return i??null},t}();function sg(t){return t>=97&&t<=122||t>=65&&t<=90}function _L(t){return sg(t)||t===47}function bL(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function aT(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function EL(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function ag(t){t.forEach(function(e){if(delete e.location,XC(e)||QC(e))for(var n in e.options)delete e.options[n].location,ag(e.options[n].value);else WC(e)&&JC(e.style)||(YC(e)||KC(e))&&tg(e.style)?delete e.style.location:ZC(e)&&ag(e.children)})}function SL(t,e){e===void 0&&(e={}),e=re({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new yL(t,e).parse();if(n.err){var i=SyntaxError(De[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return e!=null&&e.captureLocation||ag(n.val),n.val}var rr;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(rr||(rr={}));var Fi=function(t){wn(e,t);function e(n,i,a){var l=t.call(this,n)||this;return l.code=i,l.originalMessage=a,l}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),pS=function(t){wn(e,t);function e(n,i,a,l){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(i,'". Options are "').concat(Object.keys(a).join('", "'),'"'),rr.INVALID_VALUE,l)||this}return e}(Fi),wL=function(t){wn(e,t);function e(n,i,a){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(i),rr.INVALID_VALUE,a)||this}return e}(Fi),xL=function(t){wn(e,t);function e(n,i){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(i,'"'),rr.MISSING_VALUE,i)||this}return e}(Fi),Lt;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(Lt||(Lt={}));function CL(t){return t.length<2?t:t.reduce(function(e,n){var i=e[e.length-1];return!i||i.type!==Lt.literal||n.type!==Lt.literal?e.push(n):i.value+=n.value,e},[])}function oT(t){return typeof t=="function"}function lf(t,e,n,i,a,l,u){if(t.length===1&&lS(t[0]))return[{type:Lt.literal,value:t[0].value}];for(var f=[],d=0,m=t;d<m.length;d++){var g=m[d];if(lS(g)){f.push({type:Lt.literal,value:g.value});continue}if(YP(g)){typeof l=="number"&&f.push({type:Lt.literal,value:n.getNumberFormat(e).format(l)});continue}var v=g.value;if(!(a&&v in a))throw new xL(v,u);var y=a[v];if(WP(g)){(!y||typeof y=="string"||typeof y=="number")&&(y=typeof y=="string"||typeof y=="number"?String(y):""),f.push({type:typeof y=="string"?Lt.literal:Lt.object,value:y});continue}if(YC(g)){var S=typeof g.style=="string"?i.date[g.style]:tg(g.style)?g.style.parsedOptions:void 0;f.push({type:Lt.literal,value:n.getDateTimeFormat(e,S).format(y)});continue}if(KC(g)){var S=typeof g.style=="string"?i.time[g.style]:tg(g.style)?g.style.parsedOptions:i.time.medium;f.push({type:Lt.literal,value:n.getDateTimeFormat(e,S).format(y)});continue}if(WC(g)){var S=typeof g.style=="string"?i.number[g.style]:JC(g.style)?g.style.parsedOptions:void 0;S&&S.scale&&(y=y*(S.scale||1)),f.push({type:Lt.literal,value:n.getNumberFormat(e,S).format(y)});continue}if(ZC(g)){var w=g.children,C=g.value,T=a[C];if(!oT(T))throw new wL(C,"function",u);var R=lf(w,e,n,i,a,l),I=T(R.map(function(O){return O.value}));Array.isArray(I)||(I=[I]),f.push.apply(f,I.map(function(O){return{type:typeof O=="string"?Lt.literal:Lt.object,value:O}}))}if(XC(g)){var N=g.options[y]||g.options.other;if(!N)throw new pS(g.value,y,Object.keys(g.options),u);f.push.apply(f,lf(N.value,e,n,i,a));continue}if(QC(g)){var N=g.options["=".concat(y)];if(!N){if(!Intl.PluralRules)throw new Fi(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,rr.MISSING_INTL_API,u);var P=n.getPluralRules(e,{type:g.pluralType}).select(y-(g.offset||0));N=g.options[P]||g.options.other}if(!N)throw new pS(g.value,y,Object.keys(g.options),u);f.push.apply(f,lf(N.value,e,n,i,a,y-(g.offset||0)));continue}}return CL(f)}function TL(t,e){return e?re(re(re({},t||{}),e||{}),Object.keys(t).reduce(function(n,i){return n[i]=re(re({},t[i]),e[i]||{}),n},{})):t}function RL(t,e){return e?Object.keys(t).reduce(function(n,i){return n[i]=TL(t[i],e[i]),n},re({},t)):t}function hp(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function AL(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Qn(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Nn([void 0],n,!1)))},{cache:hp(t.number),strategy:Zn.variadic}),getDateTimeFormat:Qn(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Nn([void 0],n,!1)))},{cache:hp(t.dateTime),strategy:Zn.variadic}),getPluralRules:Qn(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Nn([void 0],n,!1)))},{cache:hp(t.pluralRules),strategy:Zn.variadic})}}var lT=function(){function t(e,n,i,a){n===void 0&&(n=t.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(d){var m=l.formatToParts(d);if(m.length===1)return m[0].value;var g=m.reduce(function(v,y){return!v.length||y.type!==Lt.literal||typeof v[v.length-1]!="string"?v.push(y.value):v[v.length-1]+=y.value,v},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(d){return lf(l.ast,l.locales,l.formatters,l.formats,d,void 0,l.message)},this.resolvedOptions=function(){var d;return{locale:((d=l.resolvedLocale)===null||d===void 0?void 0:d.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=a||{};u.formatters;var f=Hn(u,["formatters"]);this.ast=t.__parse(e,re(re({},f),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=RL(t.formats,i),this.formatters=a&&a.formatters||AL(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=SL,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),xs;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(xs||(xs={}));var fc=function(t){wn(e,t);function e(n,i,a){var l=this,u=a?a instanceof Error?a:new Error(String(a)):void 0;return l=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(i,`
`).concat(u?`
`.concat(u.message,`
`).concat(u.stack):""))||this,l.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,e),l}return e}(Error),NL=function(t){wn(e,t);function e(n,i){return t.call(this,xs.UNSUPPORTED_FORMATTER,n,i)||this}return e}(fc),OL=function(t){wn(e,t);function e(n,i){return t.call(this,xs.INVALID_CONFIG,n,i)||this}return e}(fc),gS=function(t){wn(e,t);function e(n,i){return t.call(this,xs.MISSING_DATA,n,i)||this}return e}(fc),xn=function(t){wn(e,t);function e(n,i,a){var l=t.call(this,xs.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(i,`
`),a)||this;return l.locale=i,l}return e}(fc),mp=function(t){wn(e,t);function e(n,i,a,l){var u=t.call(this,"".concat(n,`
MessageID: `).concat(a==null?void 0:a.id,`
Default Message: `).concat(a==null?void 0:a.defaultMessage,`
Description: `).concat(a==null?void 0:a.description,`
`),i,l)||this;return u.descriptor=a,u.locale=i,u}return e}(xn),ML=function(t){wn(e,t);function e(n,i){var a=t.call(this,xs.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(i,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(l){var u;return(u=l.value)!==null&&u!==void 0?u:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return a.descriptor=n,a}return e}(fc);function IL(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function ro(t,e,n){return n===void 0&&(n={}),e.reduce(function(i,a){return a in t?i[a]=t[a]:a in n&&(i[a]=n[a]),i},{})}var DL=function(t){},kL=function(t){},cT={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:DL,onWarn:kL};function uT(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function vs(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function PL(t){t===void 0&&(t=uT());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,a=Qn(function(){for(var f,d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return new((f=Intl.DateTimeFormat).bind.apply(f,Nn([void 0],d,!1)))},{cache:vs(t.dateTime),strategy:Zn.variadic}),l=Qn(function(){for(var f,d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return new((f=Intl.NumberFormat).bind.apply(f,Nn([void 0],d,!1)))},{cache:vs(t.number),strategy:Zn.variadic}),u=Qn(function(){for(var f,d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return new((f=Intl.PluralRules).bind.apply(f,Nn([void 0],d,!1)))},{cache:vs(t.pluralRules),strategy:Zn.variadic});return{getDateTimeFormat:a,getNumberFormat:l,getMessageFormat:Qn(function(f,d,m,g){return new lT(f,d,m,re({formatters:{getNumberFormat:l,getDateTimeFormat:a,getPluralRules:u}},g||{}))},{cache:vs(t.message),strategy:Zn.variadic}),getRelativeTimeFormat:Qn(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return new(e.bind.apply(e,Nn([void 0],f,!1)))},{cache:vs(t.relativeTime),strategy:Zn.variadic}),getPluralRules:u,getListFormat:Qn(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return new(n.bind.apply(n,Nn([void 0],f,!1)))},{cache:vs(t.list),strategy:Zn.variadic}),getDisplayNames:Qn(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return new(i.bind.apply(i,Nn([void 0],f,!1)))},{cache:vs(t.displayNames),strategy:Zn.variadic})}}function Sv(t,e,n,i){var a=t&&t[e],l;if(a&&(l=a[n]),l)return l;i(new NL("No ".concat(e," format named: ").concat(n)))}function Xu(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=re({timeZone:e},t[i]),n},{})}function vS(t,e){var n=Object.keys(re(re({},t),e));return n.reduce(function(i,a){return i[a]=re(re({},t[a]||{}),e[a]||{}),i},{})}function yS(t,e){if(!e)return t;var n=lT.formats;return re(re(re({},n),t),{date:vS(Xu(n.date,e),Xu(t.date||{},e)),time:vS(Xu(n.time,e),Xu(t.time||{},e))})}var og=function(t,e,n,i,a){var l=t.locale,u=t.formats,f=t.messages,d=t.defaultLocale,m=t.defaultFormats,g=t.fallbackOnEmptyString,v=t.onError,y=t.timeZone,S=t.defaultRichTextElements;n===void 0&&(n={id:""});var w=n.id,C=n.defaultMessage;IL(!!w,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var T=String(w),R=f&&Object.prototype.hasOwnProperty.call(f,T)&&f[T];if(Array.isArray(R)&&R.length===1&&R[0].type===Ze.literal)return R[0].value;if(!i&&R&&typeof R=="string"&&!S)return R.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=re(re({},S),i||{}),u=yS(u,y),m=yS(m,y),!R){if(g===!1&&R==="")return R;if((!C||l&&l.toLowerCase()!==d.toLowerCase())&&v(new ML(n,l)),C)try{var I=e.getMessageFormat(C,d,m,a);return I.format(i)}catch(N){return v(new mp('Error formatting default message for: "'.concat(T,'", rendering default message verbatim'),l,n,N)),typeof C=="string"?C:T}return T}try{var I=e.getMessageFormat(R,l,u,re({formatters:e},a||{}));return I.format(i)}catch(N){v(new mp('Error formatting message: "'.concat(T,'", using ').concat(C?"default message":"id"," as fallback."),l,n,N))}if(C)try{var I=e.getMessageFormat(C,d,m,a);return I.format(i)}catch(N){v(new mp('Error formatting the default message for: "'.concat(T,'", rendering message verbatim'),l,n,N))}return typeof R=="string"?R:typeof C=="string"?C:T},LL=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function dc(t,e,n,i){var a=t.locale,l=t.formats,u=t.onError,f=t.timeZone;i===void 0&&(i={});var d=i.format,m=re(re({},f&&{timeZone:f}),d&&Sv(l,e,d,u)),g=ro(i,LL,m);return e==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=re(re({},g),{hour:"numeric",minute:"numeric"})),n(a,g)}function UL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n[0],l=n[1],u=l===void 0?{}:l,f=typeof a=="string"?new Date(a||0):a;try{return dc(t,"date",e,u).format(f)}catch(d){t.onError(new xn("Error formatting date.",t.locale,d))}return String(f)}function jL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n[0],l=n[1],u=l===void 0?{}:l,f=typeof a=="string"?new Date(a||0):a;try{return dc(t,"time",e,u).format(f)}catch(d){t.onError(new xn("Error formatting time.",t.locale,d))}return String(f)}function HL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n[0],l=n[1],u=n[2],f=u===void 0?{}:u,d=typeof a=="string"?new Date(a||0):a,m=typeof l=="string"?new Date(l||0):l;try{return dc(t,"dateTimeRange",e,f).formatRange(d,m)}catch(g){t.onError(new xn("Error formatting date time range.",t.locale,g))}return String(d)}function BL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n[0],l=n[1],u=l===void 0?{}:l,f=typeof a=="string"?new Date(a||0):a;try{return dc(t,"date",e,u).formatToParts(f)}catch(d){t.onError(new xn("Error formatting date.",t.locale,d))}return[]}function FL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n[0],l=n[1],u=l===void 0?{}:l,f=typeof a=="string"?new Date(a||0):a;try{return dc(t,"time",e,u).formatToParts(f)}catch(d){t.onError(new xn("Error formatting time.",t.locale,d))}return[]}var zL=["style","type","fallback","languageDisplay"];function GL(t,e,n,i){var a=t.locale,l=t.onError,u=Intl.DisplayNames;u||l(new Fi(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,rr.MISSING_INTL_API));var f=ro(i,zL);try{return e(a,f).of(n)}catch(d){l(new xn("Error formatting display name.",a,d))}}var VL=["type","style"],_S=Date.now();function $L(t){return"".concat(_S,"_").concat(t,"_").concat(_S)}function qL(t,e,n,i){i===void 0&&(i={});var a=fT(t,e,n,i).reduce(function(l,u){var f=u.value;return typeof f!="string"?l.push(f):typeof l[l.length-1]=="string"?l[l.length-1]+=f:l.push(f),l},[]);return a.length===1?a[0]:a.length===0?"":a}function fT(t,e,n,i){var a=t.locale,l=t.onError;i===void 0&&(i={});var u=Intl.ListFormat;u||l(new Fi(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,rr.MISSING_INTL_API));var f=ro(i,VL);try{var d={},m=n.map(function(g,v){if(typeof g=="object"){var y=$L(v);return d[y]=g,y}return String(g)});return e(a,f).formatToParts(m).map(function(g){return g.type==="literal"?g:re(re({},g),{value:d[g.value]||g.value})})}catch(g){l(new xn("Error formatting list.",a,g))}return n}var WL=["type"];function YL(t,e,n,i){var a=t.locale,l=t.onError;i===void 0&&(i={}),Intl.PluralRules||l(new Fi(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,rr.MISSING_INTL_API));var u=ro(i,WL);try{return e(a,u).select(n)}catch(f){l(new xn("Error formatting plural.",a,f))}return"other"}var KL=["numeric","style"];function XL(t,e,n){var i=t.locale,a=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,f=!!u&&Sv(a,"relative",u,l)||{},d=ro(n,KL,f);return e(i,d)}function QL(t,e,n,i,a){a===void 0&&(a={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||t.onError(new Fi(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,rr.MISSING_INTL_API));try{return XL(t,e,a).format(n,i)}catch(u){t.onError(new xn("Error formatting relative time.",t.locale,u))}return String(n)}var ZL=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function dT(t,e,n){var i=t.locale,a=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,f=u&&Sv(a,"number",u,l)||{},d=ro(n,ZL,f);return e(i,d)}function JL(t,e,n,i){i===void 0&&(i={});try{return dT(t,e,i).format(n)}catch(a){t.onError(new xn("Error formatting number.",t.locale,a))}return String(n)}function eU(t,e,n,i){i===void 0&&(i={});try{return dT(t,e,i).formatToParts(n)}catch(a){t.onError(new xn("Error formatting number.",t.locale,a))}return[]}function tU(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function nU(t){t.onWarn&&t.defaultRichTextElements&&tU(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function rU(t,e){var n=PL(e),i=re(re({},cT),t),a=i.locale,l=i.defaultLocale,u=i.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&u?u(new gS('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&u&&u(new gS('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new OL('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),nU(i),re(re({},i),{formatters:n,formatNumber:JL.bind(null,i,n.getNumberFormat),formatNumberToParts:eU.bind(null,i,n.getNumberFormat),formatRelativeTime:QL.bind(null,i,n.getRelativeTimeFormat),formatDate:UL.bind(null,i,n.getDateTimeFormat),formatDateToParts:BL.bind(null,i,n.getDateTimeFormat),formatTime:jL.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:HL.bind(null,i,n.getDateTimeFormat),formatTimeToParts:FL.bind(null,i,n.getDateTimeFormat),formatPlural:YL.bind(null,i,n.getPluralRules),formatMessage:og.bind(null,i,n),$t:og.bind(null,i,n),formatList:qL.bind(null,i,n.getListFormat),formatListToParts:fT.bind(null,i,n.getListFormat),formatDisplayName:GL.bind(null,i,n.getDisplayNames)})}function iU(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function hT(t){iU(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var mT=re(re({},cT),{textComponent:_.Fragment});function sU(t){return function(e){return t(_.Children.toArray(e))}}function lg(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var l=0;l<a;l++){var u=n[l];if(t[u]!==e[u]||!Object.prototype.hasOwnProperty.call(e,u))return!1}return!0}var pp={exports:{}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function aU(){if(bS)return Fe;bS=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,R=t?Symbol.for("react.responder"):60118,I=t?Symbol.for("react.scope"):60119;function N(O){if(typeof O=="object"&&O!==null){var H=O.$$typeof;switch(H){case e:switch(O=O.type,O){case d:case m:case i:case l:case a:case v:return O;default:switch(O=O&&O.$$typeof,O){case f:case g:case w:case S:case u:return O;default:return H}}case n:return H}}}function P(O){return N(O)===m}return Fe.AsyncMode=d,Fe.ConcurrentMode=m,Fe.ContextConsumer=f,Fe.ContextProvider=u,Fe.Element=e,Fe.ForwardRef=g,Fe.Fragment=i,Fe.Lazy=w,Fe.Memo=S,Fe.Portal=n,Fe.Profiler=l,Fe.StrictMode=a,Fe.Suspense=v,Fe.isAsyncMode=function(O){return P(O)||N(O)===d},Fe.isConcurrentMode=P,Fe.isContextConsumer=function(O){return N(O)===f},Fe.isContextProvider=function(O){return N(O)===u},Fe.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Fe.isForwardRef=function(O){return N(O)===g},Fe.isFragment=function(O){return N(O)===i},Fe.isLazy=function(O){return N(O)===w},Fe.isMemo=function(O){return N(O)===S},Fe.isPortal=function(O){return N(O)===n},Fe.isProfiler=function(O){return N(O)===l},Fe.isStrictMode=function(O){return N(O)===a},Fe.isSuspense=function(O){return N(O)===v},Fe.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===m||O===l||O===a||O===v||O===y||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===S||O.$$typeof===u||O.$$typeof===f||O.$$typeof===g||O.$$typeof===T||O.$$typeof===R||O.$$typeof===I||O.$$typeof===C)},Fe.typeOf=N,Fe}var ES;function oU(){return ES||(ES=1,pp.exports=aU()),pp.exports}var gp,SS;function lU(){if(SS)return gp;SS=1;var t=oU(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=i,l[t.Memo]=a;function u(w){return t.isMemo(w)?a:l[w.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,y=Object.prototype;function S(w,C,T){if(typeof C!="string"){if(y){var R=v(C);R&&R!==y&&S(w,R,T)}var I=d(C);m&&(I=I.concat(m(C)));for(var N=u(w),P=u(C),O=0;O<I.length;++O){var H=I[O];if(!n[H]&&!(T&&T[H])&&!(P&&P[H])&&!(N&&N[H])){var W=g(C,H);try{f(w,H,W)}catch{}}}}return w}return gp=S,gp}lU();var wv=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=_.createContext(null)):_.createContext(null);wv.Consumer;var cU=wv.Provider,uU=cU,fU=wv;function xv(){var t=_.useContext(fU);return hT(t),t}var cg;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(cg||(cg={}));var ug;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(ug||(ug={}));function pT(t){var e=function(n){var i=xv(),a=n.value,l=n.children,u=Hn(n,["value","children"]),f=typeof a=="string"?new Date(a||0):a,d=t==="formatDate"?i.formatDateToParts(f,u):i.formatTimeToParts(f,u);return l(d)};return e.displayName=ug[t],e}function hc(t){var e=function(n){var i=xv(),a=n.value,l=n.children,u=Hn(n,["value","children"]),f=i[t](a,u);if(typeof l=="function")return l(f);var d=i.textComponent||_.Fragment;return _.createElement(d,null,f)};return e.displayName=cg[t],e}function gT(t){return t&&Object.keys(t).reduce(function(e,n){var i=t[n];return e[n]=oT(i)?sU(i):i,e},{})}var wS=function(t,e,n,i){for(var a=[],l=4;l<arguments.length;l++)a[l-4]=arguments[l];var u=gT(i),f=og.apply(void 0,Nn([t,e,n,u],a,!1));return Array.isArray(f)?_.Children.toArray(f):f},xS=function(t,e){var n=t.defaultRichTextElements,i=Hn(t,["defaultRichTextElements"]),a=gT(n),l=rU(re(re(re({},mT),i),{defaultRichTextElements:a}),e),u={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:a};return re(re({},l),{formatMessage:wS.bind(null,u,l.formatters),$t:wS.bind(null,u,l.formatters)})};function dU(t,e){var n=t.values,i=Hn(t,["values"]),a=e.values,l=Hn(e,["values"]);return lg(a,n)&&lg(i,l)}function vT(t){var e=xv(),n=e.formatMessage,i=e.textComponent,a=i===void 0?_.Fragment:i,l=t.id,u=t.description,f=t.defaultMessage,d=t.values,m=t.children,g=t.tagName,v=g===void 0?a:g,y=t.ignoreTag,S={id:l,description:u,defaultMessage:f},w=n(S,d,{ignoreTag:y});return typeof m=="function"?m(Array.isArray(w)?w:[w]):v?_.createElement(v,null,_.Children.toArray(w)):_.createElement(_.Fragment,null,w)}vT.displayName="FormattedMessage";var pe=_.memo(vT,dU);pe.displayName="MemoizedFormattedMessage";function vp(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var hU=function(t){wn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=uT(),n.state={cache:n.cache,intl:xS(vp(n.props),n.cache),prevConfig:vp(n.props)},n}return e.getDerivedStateFromProps=function(n,i){var a=i.prevConfig,l=i.cache,u=vp(n);return lg(a,u)?null:{intl:xS(u,l),prevConfig:u}},e.prototype.render=function(){return hT(this.state.intl),_.createElement(uU,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=mT,e}(_.PureComponent);hc("formatDate");hc("formatTime");hc("formatNumber");hc("formatList");hc("formatDisplayName");pT("formatDate");pT("formatTime");var El={},CS;function mU(){if(CS)return El;CS=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=u,El.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,S){const w=new l,C=y.length;if(C<2)return w;const T=(S==null?void 0:S.decode)||g;let R=0;do{const I=y.indexOf("=",R);if(I===-1)break;const N=y.indexOf(";",R),P=N===-1?C:N;if(I>P){R=y.lastIndexOf(";",I-1)+1;continue}const O=f(y,R,I),H=d(y,I,O),W=y.slice(O,H);if(w[W]===void 0){let Y=f(y,I+1,P),q=d(y,P,Y);const Z=T(y.slice(Y,q));w[W]=Z}R=P+1}while(R<C);return w}function f(y,S,w){do{const C=y.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<w);return w}function d(y,S,w){for(;S>w;){const C=y.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return w}function m(y,S,w){const C=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=C(S);if(!e.test(T))throw new TypeError(`argument val is invalid: ${S}`);let R=y+"="+T;if(!w)return R;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);R+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);R+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);R+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);R+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(R+="; HttpOnly"),w.secure&&(R+="; Secure"),w.partitioned&&(R+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return R}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return a.call(y)==="[object Date]"}return El}mU();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TS="popstate";function pU(t={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return fg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:$l(a)}return vU(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gU(){return Math.random().toString(36).substring(2,10)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||i||gU()}}function $l({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function vU(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){f="POP";let T=g(),R=T==null?null:T-m;m=T,d&&d({action:f,location:C.location,delta:R})}function y(T,R){f="PUSH";let I=fg(C.location,T,R);m=g()+1;let N=RS(I,m),P=C.createHref(I);try{u.pushState(N,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(P)}l&&d&&d({action:f,location:C.location,delta:1})}function S(T,R){f="REPLACE";let I=fg(C.location,T,R);m=g();let N=RS(I,m),P=C.createHref(I);u.replaceState(N,"",P),l&&d&&d({action:f,location:C.location,delta:0})}function w(T){let R=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof T=="string"?T:$l(T);return I=I.replace(/ $/,"%20"),Je(R,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,R)}let C={get action(){return f},get location(){return t(a,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(TS,v),d=T,()=>{a.removeEventListener(TS,v),d=null}},createHref(T){return e(a,T)},createURL:w,encodeLocation(T){let R=w(T);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:S,go(T){return u.go(T)}};return C}function yT(t,e,n="/"){return yU(t,e,n,!1)}function yU(t,e,n,i){let a=typeof e=="string"?io(e):e,l=Pi(a.pathname||"/",n);if(l==null)return null;let u=_T(t);_U(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=OU(l);f=AU(u[d],m,i)}return f}function _T(t,e=[],n=[],i=""){let a=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(Je(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=Ar([i,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(Je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_T(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:TU(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let d of bT(l.path))a(l,u,d)}),e}function bT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=bT(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function _U(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RU(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var bU=/^:[\w-]+$/,EU=3,SU=2,wU=1,xU=10,CU=-2,AS=t=>t==="*";function TU(t,e){let n=t.split("/"),i=n.length;return n.some(AS)&&(i+=CU),e&&(i+=SU),n.filter(a=>!AS(a)).reduce((a,l)=>a+(bU.test(l)?EU:l===""?wU:xU),i)}function RU(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function AU(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),y=d.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Ar([l,v.pathname]),pathnameBase:kU(Ar([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Ar([l,v.pathnameBase]))}return u}function xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=NU(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},y)=>{if(g==="*"){let w=f[y]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const S=f[y];return v&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function NU(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function OU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function MU(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:IU(n,e):e,search:PU(i),hash:LU(a)}}function IU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function yp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t){let e=DU(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Tv(t,e,n,i=!1){let a;typeof t=="string"?a=io(t):(a={...t},Je(!a.pathname||!a.pathname.includes("?"),yp("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),yp("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),yp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}f=v>=0?e[v]:"/"}let d=MU(a,f),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Ar=t=>t.join("/").replace(/\/\/+/g,"/"),kU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var jU=["GET",...ET];new Set(jU);var so=_.createContext(null);so.displayName="DataRouter";var gd=_.createContext(null);gd.displayName="DataRouterState";var ST=_.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var HU=_.createContext(new Map);HU.displayName="Fetchers";var BU=_.createContext(null);BU.displayName="Await";var zn=_.createContext(null);zn.displayName="Navigation";var mc=_.createContext(null);mc.displayName="Location";var sr=_.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Rv=_.createContext(null);Rv.displayName="RouteError";function FU(t,{relative:e}={}){Je(ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=_.useContext(zn),{hash:a,pathname:l,search:u}=pc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ar([n,l])),i.createHref({pathname:f,search:u,hash:a})}function ao(){return _.useContext(mc)!=null}function zi(){return Je(ao(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(mc).location}var wT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xT(t){_.useContext(zn).static||_.useLayoutEffect(t)}function oo(){let{isDataRoute:t}=_.useContext(sr);return t?ej():zU()}function zU(){Je(ao(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(so),{basename:e,navigator:n}=_.useContext(zn),{matches:i}=_.useContext(sr),{pathname:a}=zi(),l=JSON.stringify(Cv(i)),u=_.useRef(!1);return xT(()=>{u.current=!0}),_.useCallback((d,m={})=>{if(Bn(u.current,wT),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=Tv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ar([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}_.createContext(null);function pc(t,{relative:e}={}){let{matches:n}=_.useContext(sr),{pathname:i}=zi(),a=JSON.stringify(Cv(n));return _.useMemo(()=>Tv(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function GU(t,e){return CT(t,e)}function CT(t,e,n,i){var I;Je(ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=_.useContext(zn),{matches:u}=_.useContext(sr),f=u[u.length-1],d=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let N=v&&v.path||"";TT(m,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=zi(),S;if(e){let N=typeof e=="string"?io(e):e;Je(g==="/"||((I=N.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=y;let w=S.pathname||"/",C=w;if(g!=="/"){let N=g.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=!l&&n&&n.matches&&n.matches.length>0?n.matches:yT(t,{pathname:C});Bn(v||T!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=YU(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Ar([g,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Ar([g,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,n,i);return e&&R?_.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function VU(){let t=JU(),e=UU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,u)}var $U=_.createElement(VU,null),qU=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(sr.Provider,{value:this.props.routeContext},_.createElement(Rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WU({routeContext:t,match:e,children:n}){let i=_.useContext(so);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(sr.Provider,{value:t},n)}function YU(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:g,errors:v}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let v,y=!1,S=null,w=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||$U,u&&(f<0&&g===0?(TT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):f===g&&(y=!0,w=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),T=()=>{let R;return v?R=S:y?R=w:m.route.Component?R=_.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,_.createElement(WU,{match:m,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?_.createElement(qU,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function Av(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KU(t){let e=_.useContext(so);return Je(e,Av(t)),e}function XU(t){let e=_.useContext(gd);return Je(e,Av(t)),e}function QU(t){let e=_.useContext(sr);return Je(e,Av(t)),e}function Nv(t){let e=QU(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZU(){return Nv("useRouteId")}function JU(){var i;let t=_.useContext(Rv),e=XU("useRouteError"),n=Nv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ej(){let{router:t}=KU("useNavigate"),e=Nv("useNavigate"),n=_.useRef(!1);return xT(()=>{n.current=!0}),_.useCallback(async(a,l={})=>{Bn(n.current,wT),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var NS={};function TT(t,e,n){!e&&!NS[t]&&(NS[t]=!0,Bn(!1,n))}_.memo(tj);function tj({routes:t,future:e,state:n}){return CT(t,void 0,n,e)}function Cf({to:t,replace:e,state:n,relative:i}){Je(ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(zn);Bn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=_.useContext(sr),{pathname:u}=zi(),f=oo(),d=Tv(t,Cv(l),u,i==="path"),m=JSON.stringify(d);return _.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:i})},[f,m,i,e,n]),null}function Xn(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Je(!ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=io(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:y="default"}=n,S=_.useMemo(()=>{let w=Pi(d,u);return w==null?null:{location:{pathname:w,search:m,hash:g,state:v,key:y},navigationType:i}},[u,d,m,g,v,y,i]);return Bn(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:_.createElement(zn.Provider,{value:f},_.createElement(mc.Provider,{children:e,value:S}))}function rj({children:t,location:e}){return GU(dg(t),e)}function dg(t,e=[]){let n=[];return _.Children.forEach(t,(i,a)=>{if(!_.isValidElement(i))return;let l=[...e,a];if(i.type===_.Fragment){n.push.apply(n,dg(i.props.children,l));return}Je(i.type===Xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dg(i.props.children,l)),n.push(u)}),n}var cf="get",uf="application/x-www-form-urlencoded";function vd(t){return t!=null&&typeof t.tagName=="string"}function ij(t){return vd(t)&&t.tagName.toLowerCase()==="button"}function sj(t){return vd(t)&&t.tagName.toLowerCase()==="form"}function aj(t){return vd(t)&&t.tagName.toLowerCase()==="input"}function oj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lj(t,e){return t.button===0&&(!e||e==="_self")&&!oj(t)}var Qu=null;function cj(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var uj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(t){return t!=null&&!uj.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):t}function fj(t,e){let n,i,a,l,u;if(sj(t)){let f=t.getAttribute("action");i=f?Pi(f,e):null,n=t.getAttribute("method")||cf,a=_p(t.getAttribute("enctype"))||uf,l=new FormData(t)}else if(ij(t)||aj(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?Pi(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||cf,a=_p(t.getAttribute("formenctype"))||_p(f.getAttribute("enctype"))||uf,l=new FormData(f,t),!cj()){let{name:m,type:g,value:v}=t;if(g==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,v)}}else{if(vd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cf,i=null,a=uf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}function Ov(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mj(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await dj(l,n);return u.links?u.links():[]}return[]}));return yj(i.flat(1).filter(hj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OS(t,e,n,i,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>u(d,m)||f(d,m)):l==="data"?e.filter((d,m)=>{var v;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function pj(t,e,{includeHydrateFallback:n}={}){return gj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gj(t){return[...new Set(t)]}function vj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function yj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(vj(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function _j(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function bj(){let t=_.useContext(so);return Ov(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ej(){let t=_.useContext(gd);return Ov(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mv=_.createContext(void 0);Mv.displayName="FrameworkContext";function RT(){let t=_.useContext(Mv);return Ov(t,"You must render this element inside a <HydratedRouter> element"),t}function Sj(t,e){let n=_.useContext(Mv),[i,a]=_.useState(!1),[l,u]=_.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,y=_.useRef(null);_.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=R=>{R.forEach(I=>{u(I.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),_.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let S=()=>{a(!0)},w=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,y,{}]:[l,y,{onFocus:Sl(f,S),onBlur:Sl(d,w),onMouseEnter:Sl(m,S),onMouseLeave:Sl(g,w),onTouchStart:Sl(v,S)}]:[!1,y,{}]}function Sl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wj({page:t,...e}){let{router:n}=bj(),i=_.useMemo(()=>yT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?_.createElement(Cj,{page:t,matches:i,...e}):null}function xj(t){let{manifest:e,routeModules:n}=RT(),[i,a]=_.useState([]);return _.useEffect(()=>{let l=!1;return mj(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function Cj({page:t,matches:e,...n}){let i=zi(),{manifest:a,routeModules:l}=RT(),{loaderData:u,matches:f}=Ej(),d=_.useMemo(()=>OS(t,e,f,a,i,"data"),[t,e,f,a,i]),m=_.useMemo(()=>OS(t,e,f,a,i,"assets"),[t,e,f,a,i]),g=_.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,w=!1;if(e.forEach(T=>{var I;let R=a.routes[T.route.id];!R||!R.hasLoader||(!d.some(N=>N.route.id===T.route.id)&&T.route.id in u&&((I=l[T.route.id])!=null&&I.shouldRevalidate)||R.hasClientLoader?w=!0:S.add(T.route.id))}),S.size===0)return[];let C=_j(t);return w&&S.size>0&&C.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[u,i,a,d,e,t,l]),v=_.useMemo(()=>pj(m,a),[m,a]),y=xj(m);return _.createElement(_.Fragment,null,g.map(S=>_.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>_.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:w})=>_.createElement("link",{key:S,...w})))}function Tj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.2.0")}catch{}function Rj({basename:t,children:e,window:n}){let i=_.useRef();i.current==null&&(i.current=pU({window:n,v5Compat:!0}));let a=i.current,[l,u]=_.useState({action:a.action,location:a.location}),f=_.useCallback(d=>{_.startTransition(()=>u(d))},[u]);return _.useLayoutEffect(()=>a.listen(f),[a,f]),_.createElement(nj,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gc=_.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:d,to:m,preventScrollReset:g,viewTransition:v,...y},S){let{basename:w}=_.useContext(zn),C=typeof m=="string"&&NT.test(m),T,R=!1;if(typeof m=="string"&&C&&(T=m,AT))try{let q=new URL(window.location.href),Z=m.startsWith("//")?new URL(q.protocol+m):new URL(m),me=Pi(Z.pathname,w);Z.origin===q.origin&&me!=null?m=me+Z.search+Z.hash:R=!0}catch{Bn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=FU(m,{relative:a}),[N,P,O]=Sj(i,y),H=Oj(m,{replace:u,state:f,target:d,preventScrollReset:g,relative:a,viewTransition:v});function W(q){e&&e(q),q.defaultPrevented||H(q)}let Y=_.createElement("a",{...y,...O,href:T||I,onClick:R||l?e:W,ref:Tj(S,P),target:d,"data-discover":!C&&n==="render"?"true":void 0});return N&&!C?_.createElement(_.Fragment,null,Y,_.createElement(wj,{page:I})):Y});gc.displayName="Link";var Iv=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:d,...m},g){let v=pc(u,{relative:m.relative}),y=zi(),S=_.useContext(gd),{navigator:w,basename:C}=_.useContext(zn),T=S!=null&&Pj(v)&&f===!0,R=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,I=y.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&C&&(N=Pi(N,C)||N);const P=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let O=I===R||!a&&I.startsWith(R)&&I.charAt(P)==="/",H=N!=null&&(N===R||!a&&N.startsWith(R)&&N.charAt(R.length)==="/"),W={isActive:O,isPending:H,isTransitioning:T},Y=O?e:void 0,q;typeof i=="function"?q=i(W):q=[i,O?"active":null,H?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(W):l;return _.createElement(gc,{...m,"aria-current":Y,className:q,ref:g,style:Z,to:u,viewTransition:f},typeof d=="function"?d(W):d)});Iv.displayName="NavLink";var Aj=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=cf,action:f,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,...y},S)=>{let w=Dj(),C=kj(f,{relative:m}),T=u.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&NT.test(f),I=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||u;w(P||N.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v})};return _.createElement("form",{ref:S,method:T,action:C,onSubmit:i?d:I,...y,"data-discover":!R&&t==="render"?"true":void 0})});Aj.displayName="Form";function Nj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(t){let e=_.useContext(so);return Je(e,Nj(t)),e}function Oj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=oo(),d=zi(),m=pc(t,{relative:l});return _.useCallback(g=>{if(lj(g,e)){g.preventDefault();let v=n!==void 0?n:$l(d)===$l(m);f(t,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,f,m,n,i,e,t,a,l,u])}var Mj=0,Ij=()=>`__${String(++Mj)}__`;function Dj(){let{router:t}=OT("useSubmit"),{basename:e}=_.useContext(zn),n=ZU();return _.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=fj(i,e);if(a.navigate===!1){let g=a.fetcherKey||Ij();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function kj(t,{relative:e}={}){let{basename:n}=_.useContext(zn),i=_.useContext(sr);Je(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...pc(t||".",{relative:e})},u=zi();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ar([n,l.pathname])),$l(l)}function Pj(t,e={}){let n=_.useContext(ST);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OT("useViewTransitionState"),a=pc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Pi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Pi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xf(a.pathname,u)!=null||xf(a.pathname,l)!=null}new TextEncoder;const MT={"app.lang.en":"English","app.lang.es":"Spanish","app.login.msg":"Enter your email below to login to your account","app.login.notAccount":"Don't have an account?","app.signup.msg":"Enter your email below to signup to your account","books.page":"Pages","books.pub":"Publication","character.birth":"Birth date","character.house":"House","dashboard.actions":"Actions","dashboard.email":"Email","dashboard.roles.select":"roles selected","dashboard.roles.select.ph":"Select roles","dashboard.roles.update":"Update roles","dashboard.roles":"Roles","favs.btn":"Restore favourites","favs.cancel":"Cancel","favs.confirm":"Confirm","favs.desc":"This action cannot be undone. This will permanently restore favourites items.","favs.title":"Are you absolutely sure?","home.books":"Explore all the books in the saga.","home.characters":"Meet the most iconic characters.","home.description":"Immerse yourself in the world of Harry Potter, meet the characters, discover spells, and explore the Hogwarts houses.","home.houses":"Explore the Hogwarts houses and their values.","home.more":"See more","home.spells":"Discover the spells and how to use them.","home.title":"Welcome to the Magic World","houses.animal":"Animal","houses.founder":"Founder","houses.title":"Hogwarts Houses","navbar.link.books":"Books","navbar.link.characters":"Characters","navbar.link.dashboard":"Dashboard","navbar.link.houses":"Houses","navbar.link.logout":"Log Out","navbar.link.signin":"Sign In","navbar.link.signup":"Sign Up","navbar.link.spells":"Spells","notfound.404":"404 - Page Not Found","notfound.button":"Return to Hogwarts","notfound.description":"Or maybe the page you're looking for has vanished like magic.","notfound.title":"It seems you've wandered into the Forbidden Forest...","tabs.all":"All","tabs.favs":"Favourites"},Lj={"app.lang.en":"Inglés","app.lang.es":"Español","app.login.msg":"Introduce las credenciales con las que quieres iniciar sesión","app.login.notAccount":"¿No tienes cuenta?","app.signup.msg":"Introduce las credenciales con las que te quieres registrar","books.page":"Páginas","books.pub":"Publicación","character.birth":"Nacimiento","character.house":"Casa","dashboard.actions":"Acciones","dashboard.email":"Email","dashboard.roles.select":"roles seleccionados","dashboard.roles.select.ph":"Selecciona los roles","dashboard.roles.update":"Actualizar roles","dashboard.roles":"Roles","favs.btn":"Restaurar favoritos","favs.cancel":"Cancelar","favs.confirm":"Confirmar","favs.desc":"Esta acción no se puede deshacer. Esto restaurará permanentemente los elementos favoritos.","favs.title":"¿Estás completamente seguro?","home.books":"Explora todos los libros de la saga.","home.characters":"Conoce a los personajes más icónicos.","home.description":"Sumérgete en el mundo de Harry Potter, conoce a los personajes, descubre hechizos y explora las casas de Hogwarts.","home.houses":"Explora las casas de Hogwarts y sus valores.","home.more":"Ver más","home.spells":"Descubre los hechizos y cómo usarlos.","home.title":"Bienvenido al Mundo Mágico","houses.animal":"Animal","houses.founder":"Fundador","houses.title":"Casas de Hogwarts","navbar.link.books":"Libros","navbar.link.characters":"Personajes","navbar.link.dashboard":"Dashboard","navbar.link.houses":"Casas","navbar.link.logout":"Cerrar Sesión","navbar.link.signin":"Iniciar Sesión","navbar.link.signup":"Registrarse","navbar.link.spells":"Hechizos","notfound.404":"404 - Página No Encontrada","notfound.button":"Regresar a Hogwarts","notfound.description":"O tal vez la página que buscas ha desaparecido como por arte de magia.","notfound.title":"Parece que te has perdido en el Bosque Prohibido...","tabs.all":"Todos","tabs.favs":"Favoritos"},Uj={en:MT,es:Lj},lo=_.createContext({locale:"en",messages:MT,changeLanguage:()=>{}}),jj=({children:t,storageKey:e="vite-locale"})=>{const n=navigator.language.startsWith("es")?"es":"en",[i,a]=_.useState(()=>localStorage.getItem(e)||n),l={locale:i,messages:Uj[i],changeLanguage:u=>{localStorage.setItem(e,u),a(u)}};return b.jsx(lo.Provider,{value:l,children:b.jsx(hU,{locale:l.locale,messages:l.messages,children:t})})},Hj=["en","es"];function Bj(){const{changeLanguage:t}=_.useContext(lo);return b.jsxs(_v,{children:[b.jsx(bv,{asChild:!0,children:b.jsx(kn,{variant:"outline",size:"icon",children:b.jsx(jM,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all"})})}),b.jsx(Ev,{align:"end",children:Hj.map(e=>b.jsx(Dl,{onClick:()=>t(e),children:b.jsx(pe,{id:`app.lang.${e}`})},e))})]})}var MS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw co(e)},co=function(t){return new Error("Firebase Database ("+IT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Fj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|f>>4;let y=(f&15)<<2|m>>6,S=m&63;d||(S=64,u||(y=64)),i.push(n[g],n[v],n[y],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||v==null)throw new zj;const y=l<<2|f>>4;if(i.push(y),m!==64){const S=f<<4&240|m>>2;if(i.push(S),v!==64){const w=m<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kT=function(t){const e=DT(t);return Dv.encodeByteArray(e,!0)},Tf=function(t){return kT(t).replace(/\./g,"")},Rf=function(t){try{return Dv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){return PT(void 0,t)}function PT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Vj(n)||(t[n]=PT(t[n],e[n]));return t}function Vj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=()=>$j().__FIREBASE_DEFAULTS__,Wj=()=>{if(typeof process>"u"||typeof MS>"u")return;const t=MS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rf(t[1]);return e&&JSON.parse(e)},kv=()=>{try{return qj()||Wj()||Yj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LT=t=>{var e,n;return(n=(e=kv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kj=t=>{const e=LT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},UT=()=>{var t;return(t=kv())===null||t===void 0?void 0:t.config},jT=t=>{var e;return(e=kv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tf(JSON.stringify(n)),Tf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Qj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jj(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eH(){return IT.NODE_ADMIN===!0}function tH(){try{return typeof indexedDB=="object"}catch{return!1}}function nH(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="FirebaseError";class Gi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rH,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?iH(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Gi(a,f,i)}}function iH(t,e){return t.replace(sH,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const sH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){return JSON.parse(t)}function pt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=function(t){let e={},n={},i={},a="";try{const l=t.split(".");e=ql(Rf(l[0])||""),n=ql(Rf(l[1])||""),a=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:a}},aH=function(t){const e=BT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oH=function(t){const e=BT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Va(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Af(t,e,n){const i={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=e.call(n,t[a],a,t));return i}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(IS(l)&&IS(u)){if(!Nf(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function IS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const y=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(y<<1|y>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],d=this.chain_[4],m,g;for(let v=0;v<80;v++){v<40?v<20?(m=f^l&(u^f),g=1518500249):(m=l^u^f,g=1859775393):v<60?(m=l&u|f&(l|u),g=2400959708):(m=l^u^f,g=3395469782);const y=(a<<5|a>>>27)+m+d+g+i[v]&4294967295;d=f,f=u,u=(l<<30|l>>>2)&4294967295,l=a,a=y}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function cH(t,e){const n=new uH(t,e);return n.subscribe.bind(n)}class uH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fH(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=bp),a.error===void 0&&(a.error=bp),a.complete===void 0&&(a.complete=bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}function yd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,Q(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},_d=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hH=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pH(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mH(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mH(t){return t===ys?void 0:t}function pH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const vH={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},yH=Ve.INFO,_H={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},bH=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=_H[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lv{constructor(e){this.name=e,this._logLevel=yH,this._logHandler=bH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const EH=(t,e)=>e.some(n=>t instanceof n);let DS,kS;function SH(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wH(){return kS||(kS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,mg=new WeakMap,zT=new WeakMap,Ep=new WeakMap,Uv=new WeakMap;function xH(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(xi(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),Uv.set(e,t),e}function CH(t){if(mg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});mg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TH(t){pg=t(pg)}function RH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Sp(this),e,...n);return zT.set(i,e.sort?e.sort():[e]),xi(i)}:wH().includes(t)?function(...e){return t.apply(Sp(this),e),xi(FT.get(this))}:function(...e){return xi(t.apply(Sp(this),e))}}function AH(t){return typeof t=="function"?RH(t):(t instanceof IDBTransaction&&CH(t),EH(t,SH())?new Proxy(t,pg):t)}function xi(t){if(t instanceof IDBRequest)return xH(t);if(Ep.has(t))return Ep.get(t);const e=AH(t);return e!==t&&(Ep.set(t,e),Uv.set(e,t)),e}const Sp=t=>Uv.get(t);function NH(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=xi(u);return i&&u.addEventListener("upgradeneeded",d=>{i(xi(u.result),d.oldVersion,d.newVersion,xi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const OH=["get","getKey","getAll","getAllKeys","count"],MH=["put","add","delete","clear"],wp=new Map;function PS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=MH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||OH.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&d.done]))[0]};return wp.set(e,l),l}TH(t=>({...t,get:(e,n,i)=>PS(e,n)||t.get(e,n,i),has:(e,n)=>!!PS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DH(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",LS="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Lv("@firebase/app"),kH="@firebase/app-compat",PH="@firebase/analytics-compat",LH="@firebase/analytics",UH="@firebase/app-check-compat",jH="@firebase/app-check",HH="@firebase/auth",BH="@firebase/auth-compat",FH="@firebase/database",zH="@firebase/data-connect",GH="@firebase/database-compat",VH="@firebase/functions",$H="@firebase/functions-compat",qH="@firebase/installations",WH="@firebase/installations-compat",YH="@firebase/messaging",KH="@firebase/messaging-compat",XH="@firebase/performance",QH="@firebase/performance-compat",ZH="@firebase/remote-config",JH="@firebase/remote-config-compat",eB="@firebase/storage",tB="@firebase/storage-compat",nB="@firebase/firestore",rB="@firebase/vertexai",iB="@firebase/firestore-compat",sB="firebase",aB="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",oB={[gg]:"fire-core",[kH]:"fire-core-compat",[LH]:"fire-analytics",[PH]:"fire-analytics-compat",[jH]:"fire-app-check",[UH]:"fire-app-check-compat",[HH]:"fire-auth",[BH]:"fire-auth-compat",[FH]:"fire-rtdb",[zH]:"fire-data-connect",[GH]:"fire-rtdb-compat",[VH]:"fire-fn",[$H]:"fire-fn-compat",[qH]:"fire-iid",[WH]:"fire-iid-compat",[YH]:"fire-fcm",[KH]:"fire-fcm-compat",[XH]:"fire-perf",[QH]:"fire-perf-compat",[ZH]:"fire-rc",[JH]:"fire-rc-compat",[eB]:"fire-gcs",[tB]:"fire-gcs-compat",[nB]:"fire-fst",[iB]:"fire-fst-compat",[rB]:"fire-vertex","fire-js":"fire-js",[sB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,lB=new Map,yg=new Map;function US(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $a(t){const e=t.name;if(yg.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Wl.values())US(n,t);for(const n of lB.values())US(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new yc("app","Firebase",cB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=aB;function GT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ci.create("bad-app-name",{appName:String(a)});if(n||(n=UT()),!n)throw Ci.create("no-options");const l=Wl.get(a);if(l){if(Nf(n,l.options)&&Nf(i,l.config))return l;throw Ci.create("duplicate-app",{appName:a})}const u=new gH(a);for(const d of yg.values())u.addComponent(d);const f=new uB(n,i,u);return Wl.set(a,f),f}function VT(t=vg){const e=Wl.get(t);if(!e&&t===vg&&UT())return GT();if(!e)throw Ci.create("no-app",{appName:t});return e}function jS(){return Array.from(Wl.values())}function Ti(t,e,n){var i;let a=(i=oB[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(f.join(" "));return}$a(new Cs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="firebase-heartbeat-database",dB=1,Yl="firebase-heartbeat-store";let xp=null;function $T(){return xp||(xp=NH(fB,dB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),xp}async function hB(t){try{const n=(await $T()).transaction(Yl),i=await n.objectStore(Yl).get(qT(t));return await n.done,i}catch(e){if(e instanceof Gi)Pr.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function HS(t,e){try{const i=(await $T()).transaction(Yl,"readwrite");await i.objectStore(Yl).put(e,qT(t)),await i.done}catch(n){if(n instanceof Gi)Pr.warn(n.message);else{const i=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(i.message)}}}function qT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=1024,pB=30;class gB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=BS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>pB){const u=_B(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BS(),{heartbeatsToSend:i,unsentEntries:a}=vB(this._heartbeatsCache.heartbeats),l=Tf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Pr.warn(n),""}}}function BS(){return new Date().toISOString().substring(0,10)}function vB(t,e=mB){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),FS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),FS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tH()?nH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return HS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return HS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function FS(t){return Tf(JSON.stringify({version:2,heartbeats:t})).length}function _B(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){$a(new Cs("platform-logger",e=>new IH(e),"PRIVATE")),$a(new Cs("heartbeat",e=>new gB(e),"PRIVATE")),Ti(gg,LS,t),Ti(gg,LS,"esm2017"),Ti("fire-js","")}bB("");function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EB=WT,YT=new yc("auth","Firebase",WT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Lv("@firebase/auth");function SB(t,...e){Of.logLevel<=Ve.WARN&&Of.warn(`Auth (${fo}): ${t}`,...e)}function ff(t,...e){Of.logLevel<=Ve.ERROR&&Of.error(`Auth (${fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Hv(t,...e)}function er(t,...e){return Hv(t,...e)}function KT(t,e,n){const i=Object.assign(Object.assign({},EB()),{[e]:n});return new yc("auth","Firebase",i).create(e,{appName:t.name})}function Nr(t){return KT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return YT.create(t,...e)}function he(t,e,...n){if(!t)throw Hv(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Lr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wB(){return zS()==="http:"||zS()==="https:"}function zS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wB()||Zj()||"connection"in navigator)?navigator.onLine:!0}function CB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=Pv()||HT()}get(){return xB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new _c(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,i,a={}){return QT(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=uo(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},l);return Qj()||(m.referrerPolicy="no-referrer"),XT.fetch()(ZT(t,t.config.apiHost,n,f),m)})}async function QT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},TB),e);try{const a=new NB(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Zu(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,m]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Zu(t,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw KT(t,g,m);Fn(t,g)}}catch(a){if(a instanceof Gi)throw a;Fn(t,"network-request-failed",{message:String(a)})}}async function bc(t,e,n,i,a={}){const l=await $i(t,e,n,i,a);return"mfaPendingCredential"in l&&Fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function ZT(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?Bv(t.config,a):`${t.config.apiScheme}://${a}`}function AB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),RB.get())})}}function Zu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=er(t,e,i);return a.customData._tokenResponse=n,a}function GS(t){return t!==void 0&&t.enterprise!==void 0}class OB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MB(t,e){return $i(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IB(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function JT(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DB(t,e=!1){const n=Ft(t),i=await n.getIdToken(e),a=Fv(i);he(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:kl(Cp(a.auth_time)),issuedAtTime:kl(Cp(a.iat)),expirationTime:kl(Cp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function Fv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rf(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function VS(t){const e=Fv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gi&&kB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function kB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Kl(t,JT(n,{idToken:i}));he(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?eR(l.providerUserInfo):[],f=UB(t.providerData,u),d=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),g=d?m:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new bg(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function LB(t){const e=Ft(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UB(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function eR(t){return t.map(e=>{var{providerId:n}=e,i=Hn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(t,e){const n=await QT(t,{},async()=>{const i=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=ZT(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",XT.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HB(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=VS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await jB(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new La;return i&&(he(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(he(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(he(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Hn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DB(this,e)}reload(){return LB(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Kl(this,IB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,f,d,m,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,w=(u=n.photoURL)!==null&&u!==void 0?u:void 0,C=(f=n.tenantId)!==null&&f!==void 0?f:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(m=n.createdAt)!==null&&m!==void 0?m:void 0,I=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:N,emailVerified:P,isAnonymous:O,providerData:H,stsTokenManager:W}=n;he(N&&W,e,"internal-error");const Y=La.fromJSON(this.name,W);he(typeof N=="string",e,"internal-error"),vi(v,e.name),vi(y,e.name),he(typeof P=="boolean",e,"internal-error"),he(typeof O=="boolean",e,"internal-error"),vi(S,e.name),vi(w,e.name),vi(C,e.name),vi(T,e.name),vi(R,e.name),vi(I,e.name);const q=new Cr({uid:N,auth:e,email:y,emailVerified:P,displayName:v,isAnonymous:O,photoURL:w,phoneNumber:S,tenantId:C,stsTokenManager:Y,createdAt:R,lastLoginAt:I});return H&&Array.isArray(H)&&(q.providerData=H.map(Z=>Object.assign({},Z))),T&&(q._redirectEventId=T),q}static async _fromIdTokenResponse(e,n,i=!1){const a=new La;a.updateFromServerResponse(n);const l=new Cr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Mf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];he(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?eR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new La;f.updateFromIdToken(i);const d=new Cr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;function Tr(t){Lr(t instanceof Function,"Expected a class definition");let e=$S.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$S.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tR.type="NONE";const qS=tR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ua(Tr(qS),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Tr(qS);const u=df(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const g=await m._get(u);if(g){const v=Cr._fromJSON(e,g);m!==l&&(f=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Ua(l,e,i):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Ua(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oR(e))return"Blackberry";if(lR(e))return"Webos";if(rR(e))return"Safari";if((e.includes("chrome/")||iR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nR(t=Ht()){return/firefox\//i.test(t)}function rR(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iR(t=Ht()){return/crios\//i.test(t)}function sR(t=Ht()){return/iemobile/i.test(t)}function aR(t=Ht()){return/android/i.test(t)}function oR(t=Ht()){return/blackberry/i.test(t)}function lR(t=Ht()){return/webos/i.test(t)}function zv(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BB(t=Ht()){var e;return zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FB(){return Jj()&&document.documentMode===10}function cR(t=Ht()){return zv(t)||aR(t)||lR(t)||oR(t)||/windows phone/i.test(t)||sR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e=[]){let n;switch(t){case"Browser":n=WS(Ht());break;case"Worker":n=`${WS(Ht())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=6;class $B{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:VB,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YS(this),this.idTokenSubscription=new YS(this),this.beforeStateQueue=new zB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JT(this,{idToken:e}),i=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Nr(this));const n=e?Ft(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GB(this),n=new $B(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await HB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Us(t){return Ft(t)}class YS{constructor(e){this.auth=e,this.observer=null,this.addObserver=cH(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WB(t){bd=t}function fR(t){return bd.loadJS(t)}function YB(){return bd.recaptchaEnterpriseScript}function KB(){return bd.gapiScript}function XB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QB{constructor(){this.enterprise=new ZB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JB="recaptcha-enterprise",dR="NO_RECAPTCHA";class eF{constructor(e){this.type=JB,this.auth=Us(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{MB(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new OB(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{f(d)})})}function a(l,u,f){const d=window.grecaptcha;GS(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(dR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QB().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&GS(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=YB();d.length!==0&&(d+=f),fR(d).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function KS(t,e,n,i=!1,a=!1){const l=new eF(t);let u;if(a)u=dR;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Eg(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await KS(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await KS(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){const n=jv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Nf(l,e??{}))return a;Fn(a,"already-initialized")}return n.initialize({options:e})}function nF(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rF(t,e,n){const i=Us(t);he(i._canInitEmulator,i,"emulator-config-failed"),he(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=hR(e),{host:u,port:f}=iF(e),d=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${u}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),sF()}function hR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iF(t){const e=hR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:XS(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:XS(u)}}}function XS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function aF(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function cF(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Gv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Xl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,n,"signInWithPassword",oF);case"emailLink":return lF(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,i,"signUpPassword",aF);case"emailLink":return cF(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="http://localhost";class Ts extends Gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Hn(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ts(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ja(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:uF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dF(t){const e=Nl(Ol(t)).link,n=e?Nl(Ol(e)).deep_link_id:null,i=Nl(Ol(t)).deep_link_id;return(i?Nl(Ol(i)).link:null)||i||n||e||t}class Vv{constructor(e){var n,i,a,l,u,f;const d=Nl(Ol(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,v=fF((a=d.mode)!==null&&a!==void 0?a:null);he(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=dF(e);try{return new Vv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Vv.parseLink(n);return he(i,"argument-error"),Xl._fromEmailAndCode(e,i.code,i.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends mR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ec{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return bi.credential(n,i)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ec{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Si.credential(n,i)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(t,e){return bc(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Cr._fromIdTokenResponse(e,i,a),u=QS(i);return new Rs({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=QS(i);return new Rs({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function QS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends Gi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new If(e,n,i,a)}}function pR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,l,e,i):l})}async function mF(t,e,n=!1){const i=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e,n=!1){const{auth:i}=t;if(_n(i.app))return Promise.reject(Nr(i));const a="reauthenticate";try{const l=await Kl(t,pR(i,a,e,t),n);he(l.idToken,i,"internal-error");const u=Fv(l.idToken);he(u,i,"internal-error");const{sub:f}=u;return he(t.uid===f,i,"user-mismatch"),Rs._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Fn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e,n=!1){if(_n(t.app))return Promise.reject(Nr(t));const i="signIn",a=await pR(t,i,e),l=await Rs._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function gF(t,e){return gR(Us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t){const e=Us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vF(t,e,n){if(_n(t.app))return Promise.reject(Nr(t));const i=Us(t),u=await Eg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&vR(t),d}),f=await Rs._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function yF(t,e,n){return _n(t.app)?Promise.reject(Nr(t)):gF(Ft(t),ho.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vR(t),i})}function _F(t,e,n,i){return Ft(t).onIdTokenChanged(e,n,i)}function bF(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function EF(t,e,n,i){return Ft(t).onAuthStateChanged(e,n,i)}function SF(t){return Ft(t).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=1e3,xF=10;class _R extends yR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);FB()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xF):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_R.type="LOCAL";const CF=_R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends yR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bR.type="SESSION";const ER=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async m=>m(n.origin,l)),d=await TF(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const m=$v("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const y=v;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(y.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function AF(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function NF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MF(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebaseLocalStorageDb",IF=1,kf="firebaseLocalStorage",xR="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sd(t,e){return t.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function DF(){const t=indexedDB.deleteDatabase(wR);return new Sc(t).toPromise()}function Sg(){const t=indexedDB.open(wR,IF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(kf,{keyPath:xR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(kf)?e(i):(i.close(),await DF(),e(await Sg()))})})}async function ZS(t,e,n){const i=Sd(t,!0).put({[xR]:e,value:n});return new Sc(i).toPromise()}async function kF(t,e){const n=Sd(t,!1).get(e),i=await new Sc(n).toPromise();return i===void 0?null:i.value}function JS(t,e){const n=Sd(t,!0).delete(e);return new Sc(n).toPromise()}const PF=800,LF=3;class CR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>LF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(MF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NF(),!this.activeServiceWorker)return;this.sender=new RF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await ZS(e,Df,"1"),await JS(e,Df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>kF(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sd(a,!1).getAll();return new Sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CR.type="LOCAL";const UF=CR;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){return e?Tr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends Gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HF(t){return gR(t.auth,new qv(t),t.bypassAuthState)}function BF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),pF(n,new qv(t),t.bypassAuthState)}async function FF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),mF(n,new qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HF;case"linkViaPopup":case"linkViaRedirect":return FF;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:Fn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new _c(2e3,1e4);class Oa extends TR{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zF.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="pendingRedirect",hf=new Map;class VF extends TR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const i=await $F(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $F(t,e){const n=YF(e),i=WF(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function qF(t,e){hf.set(t._key(),e)}function WF(t){return Tr(t._redirectPersistence)}function YF(t){return df(GF,t.config.apiKey,t.name)}async function KF(t,e,n=!1){if(_n(t.app))return Promise.reject(Nr(t));const i=Us(t),a=jF(i,e),u=await new VF(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=10*60*1e3;class QF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!RR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(er(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XF&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t3=/^https?/;async function n3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JF(t);for(const n of e)try{if(r3(n))return}catch{}Fn(t,"unauthorized-domain")}function r3(t){const e=_g(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!t3.test(n))return!1;if(e3.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new _c(3e4,6e4);function tw(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s3(t){return new Promise((e,n)=>{var i,a,l;function u(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(er(t,"network-request-failed"))},timeout:i3.get()})}if(!((a=(i=tr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=tr().gapi)===null||l===void 0)&&l.load)u();else{const f=XB("iframefcb");return tr()[f]=()=>{gapi.load?u():n(er(t,"network-request-failed"))},fR(`${KB()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw mf=null,e})}let mf=null;function a3(t){return mf=mf||s3(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new _c(5e3,15e3),l3="__/auth/iframe",c3="emulator/auth/iframe",u3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d3(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bv(e,c3):`https://${t.config.authDomain}/${l3}`,i={apiKey:e.apiKey,appName:t.name,v:fo},a=f3.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${uo(i).slice(1)}`}async function h3(t){const e=await a3(t),n=tr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:d3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u3,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=er(t,"network-request-failed"),f=tr().setTimeout(()=>{l(u)},o3.get());function d(){tr().clearTimeout(f),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p3=500,g3=600,v3="_blank",y3="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _3(t,e,n,i=p3,a=g3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},m3),{width:i.toString(),height:a.toString(),top:l,left:u}),m=Ht().toLowerCase();n&&(f=iR(m)?v3:n),nR(m)&&(e=e||y3,d.scrollbars="yes");const g=Object.entries(d).reduce((y,[S,w])=>`${y}${S}=${w},`,"");if(BB(m)&&f!=="_self")return b3(e||"",f),new nw(null);const v=window.open(e||"",f,g);he(v,t,"popup-blocked");try{v.focus()}catch{}return new nw(v)}function b3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="__/auth/handler",S3="emulator/auth/handler",w3=encodeURIComponent("fac");async function rw(t,e,n,i,a,l){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fo,eventId:a};if(e instanceof mR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",hg(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof Ec){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const d=await t._getAppCheckToken(),m=d?`#${w3}=${encodeURIComponent(d)}`:"";return`${x3(t)}?${uo(f).slice(1)}${m}`}function x3({config:t}){return t.emulator?Bv(t,S3):`https://${t.authDomain}/${E3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class C3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ER,this._completeRedirectFn=KF,this._overrideRedirectResult=qF}async _openPopup(e,n,i,a){var l;Lr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await rw(e,n,i,_g(),a);return _3(e,u,$v())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await rw(e,n,i,_g(),a);return AF(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Lr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await h3(e),i=new QF(e);return n.register("authEvent",a=>(he(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Tp];u!==void 0&&n(!!u),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cR()||rR()||zv()}}const T3=C3;var iw="@firebase/auth",sw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N3(t){$a(new Cs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;he(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(t)},m=new qB(i,a,l,d);return nF(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$a(new Cs("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(i=>new R3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(iw,sw,A3(t)),Ti(iw,sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=5*60,M3=jT("authIdTokenMaxAge")||O3;let aw=null;const I3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>M3)return;const a=n==null?void 0:n.token;aw!==a&&(aw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function D3(t=VT()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tF(t,{popupRedirectResolver:T3,persistence:[UF,CF,ER]}),i=jT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=I3(l.toString());bF(n,u,()=>u(n.currentUser)),_F(n,f=>u(f))}}const a=LT("auth");return a&&rF(n,`http://${a}`),n}function k3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WB({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=er("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",k3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N3("Browser");var P3="firebase",L3="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(P3,L3,"app");var ow={};const lw="@firebase/database",cw="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR="";function U3(t){AR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ql(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new j3(e)}}catch{}return new H3},Es=NR("localStorage"),B3=NR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Lv("@firebase/database"),F3=function(){let t=1;return function(){return t++}}(),OR=function(t){const e=dH(t),n=new lH;n.update(e);const i=n.digest();return Dv.encodeByteArray(i)},wc=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=wc.apply(null,i):typeof i=="object"?e+=pt(i):e+=i,e+=" "}return e};let Pl=null,uw=!0;const z3=function(t,e){Q(!0,"Can't turn on custom loggers persistently."),Ha.logLevel=Ve.VERBOSE,Pl=Ha.log.bind(Ha)},Nt=function(...t){if(uw===!0&&(uw=!1,Pl===null&&B3.get("logging_enabled")===!0&&z3()),Pl){const e=wc.apply(null,t);Pl(e)}},xc=function(t){return function(...e){Nt(t,...e)}},wg=function(...t){const e="FIREBASE INTERNAL ERROR: "+wc(...t);Ha.error(e)},Ur=function(...t){const e=`FIREBASE FATAL ERROR: ${wc(...t)}`;throw Ha.error(e),new Error(e)},jt=function(...t){const e="FIREBASE WARNING: "+wc(...t);Ha.warn(e)},G3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},V3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qa="[MIN_NAME]",As="[MAX_NAME]",js=function(t,e){if(t===e)return 0;if(t===qa||e===As)return-1;if(e===qa||t===As)return 1;{const n=fw(t),i=fw(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},$3=function(t,e){return t===e?0:t<e?-1:1},wl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pt(e))},Yv=function(t){if(typeof t!="object"||t===null)return pt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=pt(e[i]),n+=":",n+=Yv(t[e[i]]);return n+="}",n},MR=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let a=0;a<n;a+=e)a+e>n?i.push(t.substring(a,n)):i.push(t.substring(a,a+e));return i};function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IR=function(t){Q(!Wv(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let a,l,u,f,d;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=f+i,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const g=m.join("");let v="";for(d=0;d<64;d+=8){let y=parseInt(g.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},q3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const K3=new RegExp("^-?(0*)\\d{1,10}$"),X3=-2147483648,Q3=2147483647,fw=function(t){if(K3.test(t)){const e=Number(t);if(e>=X3&&e<=Q3)return e}return null},mo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Z3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ll=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,_n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}class pf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}pf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="5",DR="v",kR="s",PR="r",LR="f",UR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jR="ls",HR="p",xg="ac",BR="websocket",FR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,i,a,l=!1,u="",f=!1,d=!1){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Es.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Es.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function t4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function GR(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let i;if(e===BR)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===FR)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);t4(t)&&(n.ns=t.namespace);const a=[];return Ot(n,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.counters_={}}incrementCounter(e,n=1){ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Gj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp={},Ap={};function Xv(t){const e=t.toString();return Rp[e]||(Rp[e]=new n4),Rp[e]}function r4(t,e){const n=t.toString();return Ap[n]||(Ap[n]=e()),Ap[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&mo(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="start",s4="close",a4="pLPCommand",o4="pRTLPCB",VR="id",$R="pw",qR="ser",l4="cb",c4="seg",u4="ts",f4="d",d4="dframe",WR=1870,YR=30,h4=WR-YR,m4=25e3,p4=3e4;class Ma{constructor(e,n,i,a,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xc(e),this.stats_=Xv(n),this.urlFn=d=>(this.appCheckToken&&(d[xg]=this.appCheckToken),GR(n,FR,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p4)),V3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qv((...l)=>{const[u,f,d,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===dw)this.id=f,this.password=d;else if(u===s4)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[dw]="t",i[qR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[l4]=this.scriptTagHolder.uniqueCallbackIdentifier),i[DR]=Kv,this.transportSessionId&&(i[kR]=this.transportSessionId),this.lastSessionId&&(i[jR]=this.lastSessionId),this.applicationId&&(i[HR]=this.applicationId),this.appCheckToken&&(i[xg]=this.appCheckToken),typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(i[PR]=LR);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ma.forceAllow_=!0}static forceDisallow(){Ma.forceDisallow_=!0}static isAvailable(){return Ma.forceAllow_?!0:!Ma.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q3()&&!W3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=kT(n),a=MR(i,h4);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[d4]="t",i[VR]=e,i[$R]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qv{constructor(e,n,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F3(),window[a4+this.uniqueCallbackIdentifier]=e,window[o4+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qv.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Nt("frame writing exception"),f.stack&&Nt(f.stack),Nt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Nt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VR]=this.myID,e[$R]=this.myPW,e[qR]=this.currentSerial;let n=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YR+i.length<=WR;){const u=this.pendingSegs.shift();i=i+"&"+c4+a+"="+u.seg+"&"+u4+a+"="+u.ts+"&"+f4+a+"="+u.d,a++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(m4)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=16384,v4=45e3;let Pf=null;typeof MozWebSocket<"u"?Pf=MozWebSocket:typeof WebSocket<"u"&&(Pf=WebSocket);class On{constructor(e,n,i,a,l,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xc(this.connId),this.stats_=Xv(n),this.connURL=On.connectionURL_(n,u,f,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,a,l){const u={};return u[DR]=Kv,typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(u[PR]=LR),n&&(u[kR]=n),i&&(u[jR]=i),a&&(u[xg]=a),l&&(u[HR]=l),GR(e,BR,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Es.set("previous_websocket_failure",!0);try{let i;eH(),this.mySock=new Pf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){On.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Pf!==null&&!On.forceDisallow_}static previouslyFailed(){return Es.isInMemoryStorage||Es.get("previous_websocket_failure")===!0}markConnectionHealthy(){Es.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ql(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=MR(n,g4);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}On.responsesRequiredToBeHealthy=2;On.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{static get ALL_TRANSPORTS(){return[Ma,On]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=On&&On.isAvailable();let i=n&&!On.previouslyFailed();if(e.webSocketOnly&&(n||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[On];else{const a=this.transports_=[];for(const l of Ql.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Ql.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ql.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=6e4,_4=5e3,b4=10*1024,E4=100*1024,Np="t",hw="d",S4="s",mw="r",w4="e",pw="o",gw="a",vw="n",yw="p",x4="h";class C4{constructor(e,n,i,a,l,u,f,d,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xc("c:"+this.id+":"),this.transportManager_=new Ql(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ll(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>E4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Np in e){const n=e[Np];n===gw?this.upgradeIfSecondaryHealthy_():n===mw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=wl("t",e),i=wl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=wl("t",e),i=wl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=wl(Np,e);if(hw in e){const i=e[hw];if(n===x4){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===vw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===S4?this.onConnectionShutdown_(i):n===mw?this.onReset_(i):n===w4?wg("Server Error: "+i):n===pw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kv!==i&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ll(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(y4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ll(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{put(e,n,i,a){}merge(e,n,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const a=this.getInitialEvent(e);a&&n.apply(i,a)}off(e,n,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends XR{static getInstance(){return new Lf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=32,bw=768;class $e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function je(){return new $e("")}function Te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Li(t){return t.pieces_.length-t.pieceNum_}function Qe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $e(t.pieces_,e)}function Zv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function T4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function QR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $e(e,0)}function at(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof $e)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new $e(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function Ut(t,e){const n=Te(t),i=Te(e);if(n===null)return e;if(n===i)return Ut(Qe(t),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function R4(t,e){const n=Zl(t,0),i=Zl(e,0);for(let a=0;a<n.length&&a<i.length;a++){const l=js(n[a],i[a]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function Jv(t,e){if(Li(t)!==Li(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function bn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Li(t)>Li(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class A4{constructor(e,n){this.errorPrefix_=n,this.parts_=Zl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=_d(this.parts_[i]);ZR(this)}}function N4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_d(e),ZR(t)}function O4(t){const e=t.parts_.pop();t.byteLength_-=_d(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZR(t){if(t.byteLength_>bw)throw new Error(t.errorPrefix_+"has a key path longer than "+bw+" bytes ("+t.byteLength_+").");if(t.parts_.length>_w)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_w+") or object contains a cycle "+_s(t))}function _s(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends XR{static getInstance(){return new ey}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=1e3,M4=60*5*1e3,Ew=30*1e3,I4=1.3,D4=3e4,k4="server_kill",Sw=3;class Or extends KR{constructor(e,n,i,a,l,u,f,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=d,this.id=Or.nextPersistentConnectionId_++,this.log_=xc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xl,this.maxReconnectDelay_=M4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ey.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(pt(l)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const n=new vc,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const d=f.d,m=f.s;Or.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ar(e,"w")){const i=Va(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ew)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aH(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,n)}sendUnlisten_(e,n,i,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,a){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,i,a){this.putInternal("p",e,n,i,a)}merge(e,n,i,a){this.putInternal("m",e,n,i,a)}putInternal(e,n,i,a,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wg("Unrecognized action received from server: "+pt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D4&&(this.reconnectDelay_=xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*I4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Or.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const d=function(){f?f.close():(u=!0,i())},m=function(v){Q(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(v)};this.realtime_={close:d,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?Nt("getToken() completed but was canceled"):(Nt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,f=new C4(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,S=>{jt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(k4)},l))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&jt(v),d())}}}interrupt(e){Nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hg(this.interruptReasons_)&&(this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>Yv(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const i=new $e(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,n){Nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sw&&(this.reconnectDelay_=Ew,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AR.replace(/\./g,"-")]=1,Pv()?e["framework.cordova"]=1:HT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lf.getInstance().currentlyOnline();return hg(this.interruptReasons_)&&e}}Or.nextPersistentConnectionId_=0;Or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Re(qa,e),a=new Re(qa,n);return this.compare(i,a)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;class JR extends wd{static get __EMPTY_NODE(){return Ju}static set __EMPTY_NODE(e){Ju=e}compare(e,n){return js(e.name,n.name)}isDefinedOn(e){throw co("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(As,Ju)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,Ju)}toString(){return".key"}}const Ba=new JR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class St{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??St.RED,this.left=a??qt.EMPTY_NODE,this.right=l??qt.EMPTY_NODE}copy(e,n,i,a,l){return new St(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,a;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}St.RED=!0;St.BLACK=!1;class P4{copy(e,n,i,a,l){return this}insert(e,n,i){return new St(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,a=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ef(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ef(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ef(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ef(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new P4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e){return js(t.name,e.name)}function ty(t,e){return js(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg;function U4(t){Cg=t}const eA=function(t){return typeof t=="number"?"number:"+IR(t):"string:"+t},tA=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ar(e,".sv"),"Priority must be a string or number.")}else Q(t===Cg||t.isEmpty(),"priority of unexpected type.");Q(t===Cg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ww;class Et{static set __childrenNodeConstructor(e){ww=e}static get __childrenNodeConstructor(){return ww}constructor(e,n=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Te(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Te(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Q(i!==".priority"||Li(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IR(this.value_):e+=this.value_,this.lazyHash_=OR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,a=Et.VALUE_TYPE_ORDER.indexOf(n),l=Et.VALUE_TYPE_ORDER.indexOf(i);return Q(a>=0,"Unknown leaf type: "+n),Q(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nA,rA;function j4(t){nA=t}function H4(t){rA=t}class B4 extends wd{compare(e,n){const i=e.node.getPriority(),a=n.node.getPriority(),l=i.compareTo(a);return l===0?js(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(As,new Et("[PRIORITY-POST]",rA))}makePost(e,n){const i=nA(e);return new Re(n,new Et("[PRIORITY-POST]",i))}toString(){return".priority"}}const ot=new B4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=Math.log(2);class z4{constructor(e){const n=l=>parseInt(Math.log(l)/F4,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uf=function(t,e,n,i){t.sort(e);const a=function(d,m){const g=m-d;let v,y;if(g===0)return null;if(g===1)return v=t[d],y=n?n(v):v,new St(y,v.node,St.BLACK,null,null);{const S=parseInt(g/2,10)+d,w=a(d,S),C=a(S+1,m);return v=t[S],y=n?n(v):v,new St(y,v.node,St.BLACK,w,C)}},l=function(d){let m=null,g=null,v=t.length;const y=function(w,C){const T=v-w,R=v;v-=w;const I=a(T+1,R),N=t[T],P=n?n(N):N;S(new St(P,N.node,C,null,I))},S=function(w){m?(m.left=w,m=w):(g=w,m=w)};for(let w=0;w<d.count;++w){const C=d.nextBitIsOne(),T=Math.pow(2,d.count-(w+1));C?y(T,St.BLACK):(y(T,St.BLACK),y(T,St.RED))}return g},u=new z4(t.length),f=l(u);return new qt(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const Na={};class Rr{static get Default(){return Q(Na&&ot,"ChildrenNode.ts has not been loaded"),Op=Op||new Rr({".priority":Na},{".priority":ot}),Op}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Va(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return ar(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=n.getIterator(Re.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let f;a?f=Uf(i,e.getCompare()):f=Na;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const g=Object.assign({},this.indexes_);return g[d]=f,new Rr(g,m)}addToIndexes(e,n){const i=Af(this.indexes_,(a,l)=>{const u=Va(this.indexSet_,l);if(Q(u,"Missing index implementation for "+l),a===Na)if(u.isDefinedOn(e.node)){const f=[],d=n.getIterator(Re.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&f.push(m),m=d.getNext();return f.push(e),Uf(f,u.getCompare())}else return Na;else{const f=n.get(e.name);let d=a;return f&&(d=d.remove(new Re(e.name,f))),d.insert(e,e.node)}});return new Rr(i,this.indexSet_)}removeFromIndexes(e,n){const i=Af(this.indexes_,a=>{if(a===Na)return a;{const l=n.get(e.name);return l?a.remove(new Re(e.name,l)):a}});return new Rr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;class de{static get EMPTY_NODE(){return Cl||(Cl=new de(new qt(ty),null,Rr.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tA(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cl}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Cl:n}}getChild(e){const n=Te(e);return n===null?this:this.getImmediateChild(n).getChild(Qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Re(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?Cl:this.priorityNode_;return new de(a,u,l)}}updateChild(e,n){const i=Te(e);if(i===null)return n;{Q(Te(e)!==".priority"||Li(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Qe(e),n);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,a=0,l=!0;if(this.forEachChild(ot,(u,f)=>{n[u]=f.val(e),i++,l&&de.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+eA(this.getPriority().val())+":"),this.forEachChild(ot,(n,i)=>{const a=i.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":OR(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Re(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Re(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Re.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cc?-1:0}withIndex(e){if(e===Ba||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ot),a=n.getIterator(ot);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Ba?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class G4 extends de{constructor(){super(new qt(ty),de.EMPTY_NODE,Rr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const Cc=new G4;Object.defineProperties(Re,{MIN:{value:new Re(qa,de.EMPTY_NODE)},MAX:{value:new Re(As,Cc)}});JR.__EMPTY_NODE=de.EMPTY_NODE;Et.__childrenNodeConstructor=de;U4(Cc);H4(Cc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=!0;function mt(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Et(n,mt(e))}if(!(t instanceof Array)&&V4){const n=[];let i=!1;if(Ot(t,(u,f)=>{if(u.substring(0,1)!=="."){const d=mt(f);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new Re(u,d)))}}),n.length===0)return de.EMPTY_NODE;const l=Uf(n,L4,u=>u.name,ty);if(i){const u=Uf(n,ot.getCompare());return new de(l,mt(e),new Rr({".priority":u},{".priority":ot}))}else return new de(l,mt(e),Rr.Default)}else{let n=de.EMPTY_NODE;return Ot(t,(i,a)=>{if(ar(t,i)&&i.substring(0,1)!=="."){const l=mt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(mt(e))}}j4(mt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4 extends wd{constructor(e){super(),this.indexPath_=e,Q(!Oe(e)&&Te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),a=this.extractChild(n.node),l=i.compareTo(a);return l===0?js(e.name,n.name):l}makePost(e,n){const i=mt(e),a=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new Re(n,a)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,Cc);return new Re(As,e)}toString(){return Zl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends wd{compare(e,n){const i=e.node.compareTo(n.node);return i===0?js(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,n){const i=mt(e);return new Re(n,i)}toString(){return".value"}}const W4=new q4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){return{type:"value",snapshotNode:t}}function Wa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ec(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Y4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.index_=e}updateChild(e,n,i,a,l,u){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(a).equals(i.getChild(a))&&f.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Jl(n,f)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Wa(n,i)):u.trackChildChange(ec(n,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ot,(a,l)=>{n.hasChild(a)||i.trackChildChange(Jl(a,l))}),n.isLeafNode()||n.forEachChild(ot,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(ec(a,l,u))}else i.trackChildChange(Wa(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.indexedFilter_=new ny(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tc.getStartPost_(e),this.endPost_=tc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,a,l,u){return this.matches(new Re(n,i))||(i=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,a,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=de.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(de.EMPTY_NODE);const l=this;return n.forEachChild(ot,(u,f)=>{l.matches(new Re(u,f))||(a=a.updateImmediateChild(u,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new tc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,a,l,u){return this.rangedFilter_.matches(new Re(n,i))||(i=de.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,a,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=de.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))a=a.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(de.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:a=a.updateImmediateChild(f.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,a,l){let u;if(this.reverse_){const v=this.index_.getCompare();u=(y,S)=>v(S,y)}else u=this.index_.getCompare();const f=e;Q(f.numChildren()===this.limit_,"");const d=new Re(n,i),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(f.hasChild(n)){const v=f.getImmediateChild(n);let y=a.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===n||f.hasChild(y.name));)y=a.getChildAfterChild(this.index_,y,this.reverse_);const S=y==null?1:u(y,d);if(g&&!i.isEmpty()&&S>=0)return l!=null&&l.trackChildChange(ec(n,i,v)),f.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Jl(n,v));const C=f.updateImmediateChild(n,de.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(Wa(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}}else return i.isEmpty()?e:g&&u(m,d)>=0?(l!=null&&(l.trackChildChange(Jl(m.name,m.node)),l.trackChildChange(Wa(n,i))),f.updateImmediateChild(n,i).updateImmediateChild(m.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qa}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:As}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const e=new ry;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function X4(t){return t.loadsAllData()?new ny(t.getIndex()):t.hasLimit()?new K4(t):new tc(t)}function xw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ot?n="$priority":t.index_===W4?n="$value":t.index_===Ba?n="$key":(Q(t.index_ instanceof $4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=pt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+pt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=pt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+pt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Cw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ot&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends KR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=xc("p:rest:"),this.listens_={}}listen(e,n,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=jf.getListenId_(e,i),f={};this.listens_[u]=f;const d=xw(e._queryParams);this.restRequest_(l+".json",d,(m,g)=>{let v=g;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(l,v,!1,i),Va(this.listens_,u)===f){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",a(y,null)}})}unlisten(e,n){const i=jf.getListenId_(e,n);delete this.listens_[i]}get(e){const n=xw(e._queryParams),i=e._path.toString(),a=new vc;return this.restRequest_(i+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(i,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uo(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let d=null;if(f.status>=200&&f.status<300){try{d=ql(f.responseText)}catch{jt("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,d)}else f.status!==401&&f.status!==404&&jt("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){return{value:null,children:new Map}}function sA(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Te(e);t.children.has(i)||t.children.set(i,Hf());const a=t.children.get(i);e=Qe(e),sA(a,e,n)}}function Tg(t,e,n){t.value!==null?n(e,t.value):Z4(t,(i,a)=>{const l=new $e(e.toString()+"/"+i);Tg(a,l,n)})}function Z4(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=10*1e3,ez=30*1e3,tz=5*60*1e3;class nz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new J4(e);const i=Tw+(ez-Tw)*Math.random();Ll(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ot(e,(a,l)=>{l>0&&ar(this.statsToReport_,a)&&(n[a]=l,i=!0)}),i&&this.server_.reportStats(n),Ll(this.reportStats_.bind(this),Math.floor(Math.random()*2*tz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(In||(In={}));function iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ay(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=In.ACK_USER_WRITE,this.source=iy()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $e(e));return new Bf(je(),n,this.revert)}}else return Q(Te(this.path)===e,"operationForChild called for unrelated child."),new Bf(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.source=e,this.path=n,this.type=In.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new nc(this.source,je()):new nc(this.source,Qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=In.OVERWRITE}operationForChild(e){return Oe(this.path)?new Ns(this.source,je(),this.snap.getImmediateChild(e)):new Ns(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=In.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new $e(e));return n.isEmpty()?null:n.value?new Ns(this.source,je(),n.value):new Ya(this.source,je(),n)}else return Q(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ya(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iz(t,e,n,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(Y4(u.childName,u.snapshotNode))}),Tl(t,a,"child_removed",e,i,n),Tl(t,a,"child_added",e,i,n),Tl(t,a,"child_moved",l,i,n),Tl(t,a,"child_changed",e,i,n),Tl(t,a,"value",e,i,n),a}function Tl(t,e,n,i,a,l){const u=i.filter(f=>f.type===n);u.sort((f,d)=>az(t,f,d)),u.forEach(f=>{const d=sz(t,f,l);a.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(d,t.query_))})})}function sz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function az(t,e,n){if(e.childName==null||n.childName==null)throw co("Should only compare child_ events.");const i=new Re(e.childName,e.snapshotNode),a=new Re(n.childName,n.snapshotNode);return t.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e){return{eventCache:t,serverCache:e}}function Ul(t,e,n,i){return xd(new Ui(e,n,i),t.serverCache)}function aA(t,e,n,i){return xd(t.eventCache,new Ui(e,n,i))}function Ff(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Os(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;const oz=()=>(Mp||(Mp=new qt($3)),Mp);class Xe{static fromObject(e){let n=new Xe(null);return Ot(e,(i,a)=>{n=n.set(new $e(i),a)}),n}constructor(e,n=oz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:je(),value:this.value};if(Oe(e))return null;{const i=Te(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Qe(e),n);return l!=null?{path:at(new $e(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Te(e),i=this.children.get(n);return i!==null?i.subtree(Qe(e)):new Xe(null)}}set(e,n){if(Oe(e))return new Xe(n,this.children);{const i=Te(e),l=(this.children.get(i)||new Xe(null)).set(Qe(e),n),u=this.children.insert(i,l);return new Xe(this.value,u)}}remove(e){if(Oe(e))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const n=Te(e),i=this.children.get(n);if(i){const a=i.remove(Qe(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new Xe(null):new Xe(this.value,l)}else return this}}get(e){if(Oe(e))return this.value;{const n=Te(e),i=this.children.get(n);return i?i.get(Qe(e)):null}}setTree(e,n){if(Oe(e))return n;{const i=Te(e),l=(this.children.get(i)||new Xe(null)).setTree(Qe(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Xe(this.value,u)}}fold(e){return this.fold_(je(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(at(e,a),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,je(),n)}findOnPath_(e,n,i){const a=this.value?i(n,this.value):!1;if(a)return a;if(Oe(e))return null;{const l=Te(e),u=this.children.get(l);return u?u.findOnPath_(Qe(e),at(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,je(),n)}foreachOnPath_(e,n,i){if(Oe(e))return this;{this.value&&i(n,this.value);const a=Te(e),l=this.children.get(a);return l?l.foreachOnPath_(Qe(e),at(n,a),i):new Xe(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,n){this.children.inorderTraversal((i,a)=>{a.foreach_(at(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new Xe(null))}}function jl(t,e,n){if(Oe(e))return new Pn(new Xe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=Ut(a,e);return l=l.updateChild(u,n),new Pn(t.writeTree_.set(a,l))}else{const a=new Xe(n),l=t.writeTree_.setTree(e,a);return new Pn(l)}}}function Rg(t,e,n){let i=t;return Ot(n,(a,l)=>{i=jl(i,at(e,a),l)}),i}function Rw(t,e){if(Oe(e))return Pn.empty();{const n=t.writeTree_.setTree(e,new Xe(null));return new Pn(n)}}function Ag(t,e){return Hs(t,e)!=null}function Hs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ut(n.path,e)):null}function Aw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ot,(i,a)=>{e.push(new Re(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new Re(i,a.value))}),e}function Ri(t,e){if(Oe(e))return t;{const n=Hs(t,e);return n!=null?new Pn(new Xe(n)):new Pn(t.writeTree_.subtree(e))}}function Ng(t){return t.writeTree_.isEmpty()}function Ka(t,e){return oA(je(),t.writeTree_,e)}function oA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(Q(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=oA(at(t,a),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(at(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e){return fA(e,t)}function lz(t,e,n,i,a){Q(i>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:a}),a&&(t.visibleWrites=jl(t.visibleWrites,e,n)),t.lastWriteId=i}function cz(t,e,n,i){Q(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Rg(t.visibleWrites,e,n),t.lastWriteId=i}function uz(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function fz(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let a=i.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&dz(f,i.path)?a=!1:bn(i.path,f.path)&&(l=!0)),u--}if(a){if(l)return hz(t),!0;if(i.snap)t.visibleWrites=Rw(t.visibleWrites,i.path);else{const f=i.children;Ot(f,d=>{t.visibleWrites=Rw(t.visibleWrites,at(i.path,d))})}return!0}else return!1}function dz(t,e){if(t.snap)return bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bn(at(t.path,n),e))return!0;return!1}function hz(t){t.visibleWrites=lA(t.allWrites,mz,je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mz(t){return t.visible}function lA(t,e,n){let i=Pn.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let f;if(l.snap)bn(n,u)?(f=Ut(n,u),i=jl(i,f,l.snap)):bn(u,n)&&(f=Ut(u,n),i=jl(i,je(),l.snap.getChild(f)));else if(l.children){if(bn(n,u))f=Ut(n,u),i=Rg(i,f,l.children);else if(bn(u,n))if(f=Ut(u,n),Oe(f))i=Rg(i,je(),l.children);else{const d=Va(l.children,Te(f));if(d){const m=d.getChild(Qe(f));i=jl(i,je(),m)}}}else throw co("WriteRecord should have .snap or .children")}}return i}function cA(t,e,n,i,a){if(!i&&!a){const l=Hs(t.visibleWrites,e);if(l!=null)return l;{const u=Ri(t.visibleWrites,e);if(Ng(u))return n;if(n==null&&!Ag(u,je()))return null;{const f=n||de.EMPTY_NODE;return Ka(u,f)}}}else{const l=Ri(t.visibleWrites,e);if(!a&&Ng(l))return n;if(!a&&n==null&&!Ag(l,je()))return null;{const u=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(bn(m.path,e)||bn(e,m.path))},f=lA(t.allWrites,u,e),d=n||de.EMPTY_NODE;return Ka(f,d)}}}function pz(t,e,n){let i=de.EMPTY_NODE;const a=Hs(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(ot,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Ri(t.visibleWrites,e);return n.forEachChild(ot,(u,f)=>{const d=Ka(Ri(l,new $e(u)),f);i=i.updateImmediateChild(u,d)}),Aw(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Ri(t.visibleWrites,e);return Aw(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function gz(t,e,n,i,a){Q(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=at(e,n);if(Ag(t.visibleWrites,l))return null;{const u=Ri(t.visibleWrites,l);return Ng(u)?a.getChild(n):Ka(u,a.getChild(n))}}function vz(t,e,n,i){const a=at(e,n),l=Hs(t.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Ri(t.visibleWrites,a);return Ka(u,i.getNode().getImmediateChild(n))}else return null}function yz(t,e){return Hs(t.visibleWrites,e)}function _z(t,e,n,i,a,l,u){let f;const d=Ri(t.visibleWrites,e),m=Hs(d,je());if(m!=null)f=m;else if(n!=null)f=Ka(d,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const g=[],v=u.getCompare(),y=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let S=y.getNext();for(;S&&g.length<a;)v(S,i)!==0&&g.push(S),S=y.getNext();return g}else return[]}function bz(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function zf(t,e,n,i){return cA(t.writeTree,t.treePath,e,n,i)}function oy(t,e){return pz(t.writeTree,t.treePath,e)}function Nw(t,e,n,i){return gz(t.writeTree,t.treePath,e,n,i)}function Gf(t,e){return yz(t.writeTree,at(t.treePath,e))}function Ez(t,e,n,i,a,l){return _z(t.writeTree,t.treePath,e,n,i,a,l)}function ly(t,e,n){return vz(t.writeTree,t.treePath,e,n)}function uA(t,e){return fA(at(t.treePath,e),t.writeTree)}function fA(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,ec(i,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Jl(i,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Wa(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,ec(i,e.snapshotNode,a.oldSnap));else throw co("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const dA=new wz;class cy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ly(this.writes_,e,i)}}getChildAfterChild(e,n,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Os(this.viewCache_),l=Ez(this.writes_,a,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){return{filter:t}}function Cz(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Tz(t,e,n,i,a){const l=new Sz;let u,f;if(n.type===In.OVERWRITE){const m=n;m.source.fromUser?u=Og(t,e,m.path,m.snap,i,a,l):(Q(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!Oe(m.path),u=Vf(t,e,m.path,m.snap,i,a,f,l))}else if(n.type===In.MERGE){const m=n;m.source.fromUser?u=Az(t,e,m.path,m.children,i,a,l):(Q(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),u=Mg(t,e,m.path,m.children,i,a,f,l))}else if(n.type===In.ACK_USER_WRITE){const m=n;m.revert?u=Mz(t,e,m.path,i,a,l):u=Nz(t,e,m.path,m.affectedTree,i,a,l)}else if(n.type===In.LISTEN_COMPLETE)u=Oz(t,e,n.path,i,l);else throw co("Unknown operation type: "+n.type);const d=l.getChanges();return Rz(e,u,d),{viewCache:u,changes:d}}function Rz(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Ff(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(iA(Ff(e)))}}function hA(t,e,n,i,a,l){const u=e.eventCache;if(Gf(i,n)!=null)return e;{let f,d;if(Oe(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Os(e),g=m instanceof de?m:de.EMPTY_NODE,v=oy(i,g);f=t.filter.updateFullNode(e.eventCache.getNode(),v,l)}else{const m=zf(i,Os(e));f=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=Te(n);if(m===".priority"){Q(Li(n)===1,"Can't have a priority with additional path components");const g=u.getNode();d=e.serverCache.getNode();const v=Nw(i,n,g,d);v!=null?f=t.filter.updatePriority(g,v):f=u.getNode()}else{const g=Qe(n);let v;if(u.isCompleteForChild(m)){d=e.serverCache.getNode();const y=Nw(i,n,u.getNode(),d);y!=null?v=u.getNode().getImmediateChild(m).updateChild(g,y):v=u.getNode().getImmediateChild(m)}else v=ly(i,m,e.serverCache);v!=null?f=t.filter.updateChild(u.getNode(),m,v,g,a,l):f=u.getNode()}}return Ul(e,f,u.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Vf(t,e,n,i,a,l,u,f){const d=e.serverCache;let m;const g=u?t.filter:t.filter.getIndexedFilter();if(Oe(n))m=g.updateFullNode(d.getNode(),i,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,i);m=g.updateFullNode(d.getNode(),S,null)}else{const S=Te(n);if(!d.isCompleteForPath(n)&&Li(n)>1)return e;const w=Qe(n),T=d.getNode().getImmediateChild(S).updateChild(w,i);S===".priority"?m=g.updatePriority(d.getNode(),T):m=g.updateChild(d.getNode(),S,T,w,dA,null)}const v=aA(e,m,d.isFullyInitialized()||Oe(n),g.filtersNodes()),y=new cy(a,v,l);return hA(t,v,n,a,y,f)}function Og(t,e,n,i,a,l,u){const f=e.eventCache;let d,m;const g=new cy(a,e,l);if(Oe(n))m=t.filter.updateFullNode(e.eventCache.getNode(),i,u),d=Ul(e,m,!0,t.filter.filtersNodes());else{const v=Te(n);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),i),d=Ul(e,m,f.isFullyInitialized(),f.isFiltered());else{const y=Qe(n),S=f.getNode().getImmediateChild(v);let w;if(Oe(y))w=i;else{const C=g.getCompleteChild(v);C!=null?Zv(y)===".priority"&&C.getChild(QR(y)).isEmpty()?w=C:w=C.updateChild(y,i):w=de.EMPTY_NODE}if(S.equals(w))d=e;else{const C=t.filter.updateChild(f.getNode(),v,w,y,g,u);d=Ul(e,C,f.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function Ow(t,e){return t.eventCache.isCompleteForChild(e)}function Az(t,e,n,i,a,l,u){let f=e;return i.foreach((d,m)=>{const g=at(n,d);Ow(e,Te(g))&&(f=Og(t,f,g,m,a,l,u))}),i.foreach((d,m)=>{const g=at(n,d);Ow(e,Te(g))||(f=Og(t,f,g,m,a,l,u))}),f}function Mw(t,e,n){return n.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function Mg(t,e,n,i,a,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;Oe(n)?m=i:m=new Xe(null).setTree(n,i);const g=e.serverCache.getNode();return m.children.inorderTraversal((v,y)=>{if(g.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),w=Mw(t,S,y);d=Vf(t,d,new $e(v),w,a,l,u,f)}}),m.children.inorderTraversal((v,y)=>{const S=!e.serverCache.isCompleteForChild(v)&&y.value===null;if(!g.hasChild(v)&&!S){const w=e.serverCache.getNode().getImmediateChild(v),C=Mw(t,w,y);d=Vf(t,d,new $e(v),C,a,l,u,f)}}),d}function Nz(t,e,n,i,a,l,u){if(Gf(a,n)!=null)return e;const f=e.serverCache.isFiltered(),d=e.serverCache;if(i.value!=null){if(Oe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Vf(t,e,n,d.getNode().getChild(n),a,l,f,u);if(Oe(n)){let m=new Xe(null);return d.getNode().forEachChild(Ba,(g,v)=>{m=m.set(new $e(g),v)}),Mg(t,e,n,m,a,l,f,u)}else return e}else{let m=new Xe(null);return i.foreach((g,v)=>{const y=at(n,g);d.isCompleteForPath(y)&&(m=m.set(g,d.getNode().getChild(y)))}),Mg(t,e,n,m,a,l,f,u)}}function Oz(t,e,n,i,a){const l=e.serverCache,u=aA(e,l.getNode(),l.isFullyInitialized()||Oe(n),l.isFiltered());return hA(t,u,n,i,dA,a)}function Mz(t,e,n,i,a,l){let u;if(Gf(i,n)!=null)return e;{const f=new cy(i,e,a),d=e.eventCache.getNode();let m;if(Oe(n)||Te(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=zf(i,Os(e));else{const v=e.serverCache.getNode();Q(v instanceof de,"serverChildren would be complete if leaf node"),g=oy(i,v)}g=g,m=t.filter.updateFullNode(d,g,l)}else{const g=Te(n);let v=ly(i,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=d.getImmediateChild(g)),v!=null?m=t.filter.updateChild(d,g,v,Qe(n),f,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(d,g,de.EMPTY_NODE,Qe(n),f,l):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=zf(i,Os(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Gf(i,je())!=null,Ul(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ny(i.getIndex()),l=X4(i);this.processor_=xz(l);const u=n.serverCache,f=n.eventCache,d=a.updateFullNode(de.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(de.EMPTY_NODE,f.getNode(),null),g=new Ui(d,u.isFullyInitialized(),a.filtersNodes()),v=new Ui(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=xd(v,g),this.eventGenerator_=new rz(this.query_)}get query(){return this.query_}}function Dz(t){return t.viewCache_.serverCache.getNode()}function kz(t){return Ff(t.viewCache_)}function Pz(t,e){const n=Os(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Te(e)).isEmpty())?n.getChild(e):null}function Iw(t){return t.eventRegistrations_.length===0}function Lz(t,e){t.eventRegistrations_.push(e)}function Dw(t,e,n){const i=[];if(n){Q(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function kw(t,e,n,i){e.type===In.MERGE&&e.source.queryId!==null&&(Q(Os(t.viewCache_),"We should always have a full cache before handling merges"),Q(Ff(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=Tz(t.processor_,a,e,n,i);return Cz(t.processor_,l.viewCache),Q(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,mA(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Uz(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ot,(l,u)=>{i.push(Wa(l,u))}),n.isFullyInitialized()&&i.push(iA(n.getNode())),mA(t,i,n.getNode(),e)}function mA(t,e,n,i){const a=i?[i]:t.eventRegistrations_;return iz(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;class pA{constructor(){this.views=new Map}}function jz(t){Q(!$f,"__referenceConstructor has already been defined"),$f=t}function Hz(){return Q($f,"Reference.ts has not been loaded"),$f}function Bz(t){return t.views.size===0}function uy(t,e,n,i){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return Q(l!=null,"SyncTree gave us an op for an invalid query."),kw(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(kw(u,e,n,i));return l}}function gA(t,e,n,i,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=zf(n,a?i:null),d=!1;f?d=!0:i instanceof de?(f=oy(n,i),d=!1):(f=de.EMPTY_NODE,d=!1);const m=xd(new Ui(f,d,!1),new Ui(i,a,!1));return new Iz(e,m)}return u}function Fz(t,e,n,i,a,l){const u=gA(t,e,i,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),Lz(u,n),Uz(u,n)}function zz(t,e,n,i){const a=e._queryIdentifier,l=[];let u=[];const f=ji(t);if(a==="default")for(const[d,m]of t.views.entries())u=u.concat(Dw(m,n,i)),Iw(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||l.push(m.query));else{const d=t.views.get(a);d&&(u=u.concat(Dw(d,n,i)),Iw(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return f&&!ji(t)&&l.push(new(Hz())(e._repo,e._path)),{removed:l,events:u}}function vA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ai(t,e){let n=null;for(const i of t.views.values())n=n||Pz(i,e);return n}function yA(t,e){if(e._queryParams.loadsAllData())return Td(t);{const i=e._queryIdentifier;return t.views.get(i)}}function _A(t,e){return yA(t,e)!=null}function ji(t){return Td(t)!=null}function Td(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;function Gz(t){Q(!qf,"__referenceConstructor has already been defined"),qf=t}function Vz(){return Q(qf,"Reference.ts has not been loaded"),qf}let $z=1;class Pw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=bz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bA(t,e,n,i,a){return lz(t.pendingWriteTree_,e,n,i,a),a?po(t,new Ns(iy(),e,n)):[]}function qz(t,e,n,i){cz(t.pendingWriteTree_,e,n,i);const a=Xe.fromObject(n);return po(t,new Ya(iy(),e,a))}function wi(t,e,n=!1){const i=uz(t.pendingWriteTree_,e);if(fz(t.pendingWriteTree_,e)){let l=new Xe(null);return i.snap!=null?l=l.set(je(),!0):Ot(i.children,u=>{l=l.set(new $e(u),!0)}),po(t,new Bf(i.path,l,n))}else return[]}function Tc(t,e,n){return po(t,new Ns(sy(),e,n))}function Wz(t,e,n){const i=Xe.fromObject(n);return po(t,new Ya(sy(),e,i))}function Yz(t,e){return po(t,new nc(sy(),e))}function Kz(t,e,n){const i=dy(t,n);if(i){const a=hy(i),l=a.path,u=a.queryId,f=Ut(l,e),d=new nc(ay(u),f);return my(t,l,d)}else return[]}function Wf(t,e,n,i,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||_A(u,e))){const d=zz(u,e,n,i);Bz(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=d.removed;if(f=d.events,!a){const g=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(l,(y,S)=>ji(S));if(g&&!v){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const S=Zz(y);for(let w=0;w<S.length;++w){const C=S[w],T=C.query,R=xA(t,C);t.listenProvider_.startListening(Hl(T),rc(t,T),R.hashFn,R.onComplete)}}}!v&&m.length>0&&!i&&(g?t.listenProvider_.stopListening(Hl(e),null):m.forEach(y=>{const S=t.queryToTagMap.get(Rd(y));t.listenProvider_.stopListening(Hl(y),S)}))}Jz(t,m)}return f}function EA(t,e,n,i){const a=dy(t,i);if(a!=null){const l=hy(a),u=l.path,f=l.queryId,d=Ut(u,e),m=new Ns(ay(f),d,n);return my(t,u,m)}else return[]}function Xz(t,e,n,i){const a=dy(t,i);if(a){const l=hy(a),u=l.path,f=l.queryId,d=Ut(u,e),m=Xe.fromObject(n),g=new Ya(ay(f),d,m);return my(t,u,g)}else return[]}function Ig(t,e,n,i=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(y,S)=>{const w=Ut(y,a);l=l||Ai(S,w),u=u||ji(S)});let f=t.syncPointTree_.get(a);f?(u=u||ji(f),l=l||Ai(f,je())):(f=new pA,t.syncPointTree_=t.syncPointTree_.set(a,f));let d;l!=null?d=!0:(d=!1,l=de.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((S,w)=>{const C=Ai(w,je());C&&(l=l.updateImmediateChild(S,C))}));const m=_A(f,e);if(!m&&!e._queryParams.loadsAllData()){const y=Rd(e);Q(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const S=e5();t.queryToTagMap.set(y,S),t.tagToQueryMap.set(S,y)}const g=Cd(t.pendingWriteTree_,a);let v=Fz(f,e,n,g,l,d);if(!m&&!u&&!i){const y=yA(f,e);v=v.concat(t5(t,e,y))}return v}function fy(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const d=Ut(u,e),m=Ai(f,d);if(m)return m});return cA(a,e,l,n,!0)}function Qz(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const v=Ut(m,n);i=i||Ai(g,v)});let a=t.syncPointTree_.get(n);a?i=i||Ai(a,je()):(a=new pA,t.syncPointTree_=t.syncPointTree_.set(n,a));const l=i!=null,u=l?new Ui(i,!0,!1):null,f=Cd(t.pendingWriteTree_,e._path),d=gA(a,e,f,l?u.getNode():de.EMPTY_NODE,l);return kz(d)}function po(t,e){return SA(e,t.syncPointTree_,null,Cd(t.pendingWriteTree_,je()))}function SA(t,e,n,i){if(Oe(t.path))return wA(t,e,n,i);{const a=e.get(je());n==null&&a!=null&&(n=Ai(a,je()));let l=[];const u=Te(t.path),f=t.operationForChild(u),d=e.children.get(u);if(d&&f){const m=n?n.getImmediateChild(u):null,g=uA(i,u);l=l.concat(SA(f,d,m,g))}return a&&(l=l.concat(uy(a,t,i,n))),l}}function wA(t,e,n,i){const a=e.get(je());n==null&&a!=null&&(n=Ai(a,je()));let l=[];return e.children.inorderTraversal((u,f)=>{const d=n?n.getImmediateChild(u):null,m=uA(i,u),g=t.operationForChild(u);g&&(l=l.concat(wA(g,f,d,m)))}),a&&(l=l.concat(uy(a,t,i,n))),l}function xA(t,e){const n=e.query,i=rc(t,n);return{hashFn:()=>(Dz(e)||de.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?Kz(t,n._path,i):Yz(t,n._path);{const l=Y3(a,n);return Wf(t,n,null,l)}}}}function rc(t,e){const n=Rd(e);return t.queryToTagMap.get(n)}function Rd(t){return t._path.toString()+"$"+t._queryIdentifier}function dy(t,e){return t.tagToQueryMap.get(e)}function hy(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $e(t.substr(0,e))}}function my(t,e,n){const i=t.syncPointTree_.get(e);Q(i,"Missing sync point for query tag that we're tracking");const a=Cd(t.pendingWriteTree_,e);return uy(i,n,a,null)}function Zz(t){return t.fold((e,n,i)=>{if(n&&ji(n))return[Td(n)];{let a=[];return n&&(a=vA(n)),Ot(i,(l,u)=>{a=a.concat(u)}),a}})}function Hl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Vz())(t._repo,t._path):t}function Jz(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const a=Rd(i),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function e5(){return $z++}function t5(t,e,n){const i=e._path,a=rc(t,e),l=xA(t,n),u=t.listenProvider_.startListening(Hl(e),a,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(i);if(a)Q(!ji(f.value),"If we're adding a query, it shouldn't be shadowed");else{const d=f.fold((m,g,v)=>{if(!Oe(m)&&g&&ji(g))return[Td(g).query];{let y=[];return g&&(y=y.concat(vA(g).map(S=>S.query))),Ot(v,(S,w)=>{y=y.concat(w)}),y}});for(let m=0;m<d.length;++m){const g=d[m];t.listenProvider_.stopListening(Hl(g),rc(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new py(n)}node(){return this.node_}}class gy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=at(this.path_,e);return new gy(this.syncTree_,n)}node(){return fy(this.syncTree_,this.path_)}}const n5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Lw=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return r5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return i5(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},r5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},i5=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Q(!1,"Unexpected increment value: "+i);const a=e.node();if(Q(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},CA=function(t,e,n,i){return vy(e,new gy(n,t),i)},TA=function(t,e,n){return vy(t,new py(e),n)};function vy(t,e,n){const i=t.getPriority().val(),a=Lw(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=Lw(u.getValue(),e,n);return f!==u.getValue()||a!==u.getPriority().val()?new Et(f,mt(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Et(a))),u.forEachChild(ot,(f,d)=>{const m=vy(d,e.getImmediateChild(f),n);m!==d&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function _y(t,e){let n=e instanceof $e?e:new $e(e),i=t,a=Te(n);for(;a!==null;){const l=Va(i.node.children,a)||{children:{},childCount:0};i=new yy(a,i,l),n=Qe(n),a=Te(n)}return i}function go(t){return t.node.value}function RA(t,e){t.node.value=e,Dg(t)}function AA(t){return t.node.childCount>0}function s5(t){return go(t)===void 0&&!AA(t)}function Ad(t,e){Ot(t.node.children,(n,i)=>{e(new yy(n,t,i))})}function NA(t,e,n,i){n&&e(t),Ad(t,a=>{NA(a,e,!0)})}function a5(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Rc(t){return new $e(t.parent===null?t.name:Rc(t.parent)+"/"+t.name)}function Dg(t){t.parent!==null&&o5(t.parent,t.name,t)}function o5(t,e,n){const i=s5(n),a=ar(t.node.children,e);i&&a?(delete t.node.children[e],t.node.childCount--,Dg(t)):!i&&!a&&(t.node.children[e]=n.node,t.node.childCount++,Dg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=/[\[\].#$\/\u0000-\u001F\u007F]/,c5=/[\[\].#$\u0000-\u001F\u007F]/,Ip=10*1024*1024,by=function(t){return typeof t=="string"&&t.length!==0&&!l5.test(t)},OA=function(t){return typeof t=="string"&&t.length!==0&&!c5.test(t)},u5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OA(t)},f5=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Wv(t)||t&&typeof t=="object"&&ar(t,".sv")},d5=function(t,e,n,i){Nd(yd(t,"value"),e,n)},Nd=function(t,e,n){const i=n instanceof $e?new A4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_s(i));if(typeof e=="function")throw new Error(t+"contains a function "+_s(i)+" with contents = "+e.toString());if(Wv(e))throw new Error(t+"contains "+e.toString()+" "+_s(i));if(typeof e=="string"&&e.length>Ip/3&&_d(e)>Ip)throw new Error(t+"contains a string greater than "+Ip+" utf8 bytes "+_s(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Ot(e,(u,f)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!by(u)))throw new Error(t+" contains an invalid key ("+u+") "+_s(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);N4(i,u),Nd(t,f,i),O4(i)}),a&&l)throw new Error(t+' contains ".value" child '+_s(i)+" in addition to actual children.")}},h5=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Zl(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!by(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(R4);let a=null;for(n=0;n<e.length;n++){if(i=e[n],a!==null&&bn(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},m5=function(t,e,n,i){const a=yd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];Ot(e,(u,f)=>{const d=new $e(u);if(Nd(a,f,at(n,d)),Zv(d)===".priority"&&!f5(f))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(d)}),h5(a,l)},MA=function(t,e,n,i){if(!OA(n))throw new Error(yd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p5=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),MA(t,e,n)},g5=function(t,e){if(Te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},v5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!by(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!u5(n))throw new Error(yd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Od(t,e){let n=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();n!==null&&!Jv(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function IA(t,e,n){Od(t,n),DA(t,i=>Jv(i,e))}function Sn(t,e,n){Od(t,n),DA(t,i=>bn(i,e)||bn(e,i))}function DA(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];if(a){const l=a.path;e(l)?(_5(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Pl&&Nt("event: "+n.toString()),mo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="repo_interrupt",E5=25;class S5{constructor(e,n,i,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hf(),this.transactionQueueTree_=new yy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function w5(t,e,n){if(t.stats_=Xv(t.repoInfo_),t.forceRestClient_||Z3())t.server_=new jf(t.repoInfo_,(i,a,l,u)=>{Uw(t,i,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Or(t.repoInfo_,e,(i,a,l,u)=>{Uw(t,i,a,l,u)},i=>{jw(t,i)},i=>{C5(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=r4(t.repoInfo_,()=>new nz(t.stats_,t.server_)),t.infoData_=new Q4,t.infoSyncTree_=new Pw({startListening:(i,a,l,u)=>{let f=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(f=Tc(t.infoSyncTree_,i._path,d),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),Ey(t,"connected",!1),t.serverSyncTree_=new Pw({startListening:(i,a,l,u)=>(t.server_.listen(i,l,a,(f,d)=>{const m=u(f,d);Sn(t.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}function x5(t){const n=t.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Md(t){return n5({timestamp:x5(t)})}function Uw(t,e,n,i,a){t.dataUpdateCount++;const l=new $e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(i){const d=Af(n,m=>mt(m));u=Xz(t.serverSyncTree_,l,d,a)}else{const d=mt(n);u=EA(t.serverSyncTree_,l,d,a)}else if(i){const d=Af(n,m=>mt(m));u=Wz(t.serverSyncTree_,l,d)}else{const d=mt(n);u=Tc(t.serverSyncTree_,l,d)}let f=l;u.length>0&&(f=Xa(t,l)),Sn(t.eventQueue_,f,u)}function jw(t,e){Ey(t,"connected",e),e===!1&&N5(t)}function C5(t,e){Ot(e,(n,i)=>{Ey(t,n,i)})}function Ey(t,e,n){const i=new $e("/.info/"+e),a=mt(n);t.infoData_.updateSnapshot(i,a);const l=Tc(t.infoSyncTree_,i,a);Sn(t.eventQueue_,i,l)}function Sy(t){return t.nextWriteId_++}function T5(t,e,n){const i=Qz(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(a=>{const l=mt(a).withIndex(e._queryParams.getIndex());Ig(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=Tc(t.serverSyncTree_,e._path,l);else{const f=rc(t.serverSyncTree_,e);u=EA(t.serverSyncTree_,e._path,l,f)}return Sn(t.eventQueue_,e._path,u),Wf(t.serverSyncTree_,e,n,null,!0),l},a=>(Ac(t,"get for query "+pt(e)+" failed: "+a),Promise.reject(new Error(a))))}function R5(t,e,n,i,a){Ac(t,"set",{path:e.toString(),value:n,priority:i});const l=Md(t),u=mt(n,i),f=fy(t.serverSyncTree_,e),d=TA(u,f,l),m=Sy(t),g=bA(t.serverSyncTree_,e,d,m,!0);Od(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(y,S)=>{const w=y==="ok";w||jt("set at "+e+" failed: "+y);const C=wi(t.serverSyncTree_,m,!w);Sn(t.eventQueue_,e,C),Pg(t,a,y,S)});const v=xy(t,e);Xa(t,v),Sn(t.eventQueue_,v,[])}function A5(t,e,n,i){Ac(t,"update",{path:e.toString(),value:n});let a=!0;const l=Md(t),u={};if(Ot(n,(f,d)=>{a=!1,u[f]=CA(at(e,f),mt(d),t.serverSyncTree_,l)}),a)Nt("update() called with empty data.  Don't do anything."),Pg(t,i,"ok",void 0);else{const f=Sy(t),d=qz(t.serverSyncTree_,e,u,f);Od(t.eventQueue_,d),t.server_.merge(e.toString(),n,(m,g)=>{const v=m==="ok";v||jt("update at "+e+" failed: "+m);const y=wi(t.serverSyncTree_,f,!v),S=y.length>0?Xa(t,e):e;Sn(t.eventQueue_,S,y),Pg(t,i,m,g)}),Ot(n,m=>{const g=xy(t,at(e,m));Xa(t,g)}),Sn(t.eventQueue_,e,[])}}function N5(t){Ac(t,"onDisconnectEvents");const e=Md(t),n=Hf();Tg(t.onDisconnect_,je(),(a,l)=>{const u=CA(a,l,t.serverSyncTree_,e);sA(n,a,u)});let i=[];Tg(n,je(),(a,l)=>{i=i.concat(Tc(t.serverSyncTree_,a,l));const u=xy(t,a);Xa(t,u)}),t.onDisconnect_=Hf(),Sn(t.eventQueue_,je(),i)}function O5(t,e,n){let i;Te(e._path)===".info"?i=Ig(t.infoSyncTree_,e,n):i=Ig(t.serverSyncTree_,e,n),IA(t.eventQueue_,e._path,i)}function kg(t,e,n){let i;Te(e._path)===".info"?i=Wf(t.infoSyncTree_,e,n):i=Wf(t.serverSyncTree_,e,n),IA(t.eventQueue_,e._path,i)}function M5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(b5)}function Ac(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Nt(n,...e)}function Pg(t,e,n,i){e&&mo(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function kA(t,e,n){return fy(t.serverSyncTree_,e,n)||de.EMPTY_NODE}function wy(t,e=t.transactionQueueTree_){if(e||Id(t,e),go(e)){const n=LA(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&I5(t,Rc(e),n)}else AA(e)&&Ad(e,n=>{wy(t,n)})}function I5(t,e,n){const i=n.map(m=>m.currentWriteId),a=kA(t,e,i);let l=a;const u=a.hash();for(let m=0;m<n.length;m++){const g=n[m];Q(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=Ut(e,g.path);l=l.updateChild(v,g.currentOutputSnapshotRaw)}const f=l.val(!0),d=e;t.server_.put(d.toString(),f,m=>{Ac(t,"transaction put response",{path:d.toString(),status:m});let g=[];if(m==="ok"){const v=[];for(let y=0;y<n.length;y++)n[y].status=2,g=g.concat(wi(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&v.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Id(t,_y(t.transactionQueueTree_,e)),wy(t,t.transactionQueueTree_),Sn(t.eventQueue_,e,g);for(let y=0;y<v.length;y++)mo(v[y])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{jt("transaction at "+d.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}Xa(t,e)}},u)}function Xa(t,e){const n=PA(t,e),i=Rc(n),a=LA(t,n);return D5(t,a,i),i}function D5(t,e,n){if(e.length===0)return;const i=[];let a=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const d=e[f],m=Ut(n,d.path);let g=!1,v;if(Q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,v=d.abortReason,a=a.concat(wi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=E5)g=!0,v="maxretry",a=a.concat(wi(t.serverSyncTree_,d.currentWriteId,!0));else{const y=kA(t,d.path,u);d.currentInputSnapshot=y;const S=e[f].update(y.val());if(S!==void 0){Nd("transaction failed: Data returned ",S,d.path);let w=mt(S);typeof S=="object"&&S!=null&&ar(S,".priority")||(w=w.updatePriority(y.getPriority()));const T=d.currentWriteId,R=Md(t),I=TA(w,y,R);d.currentOutputSnapshotRaw=w,d.currentOutputSnapshotResolved=I,d.currentWriteId=Sy(t),u.splice(u.indexOf(T),1),a=a.concat(bA(t.serverSyncTree_,d.path,I,d.currentWriteId,d.applyLocally)),a=a.concat(wi(t.serverSyncTree_,T,!0))}else g=!0,v="nodata",a=a.concat(wi(t.serverSyncTree_,d.currentWriteId,!0))}Sn(t.eventQueue_,n,a),a=[],g&&(e[f].status=2,function(y){setTimeout(y,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(v==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(v),!1,null))))}Id(t,t.transactionQueueTree_);for(let f=0;f<i.length;f++)mo(i[f]);wy(t,t.transactionQueueTree_)}function PA(t,e){let n,i=t.transactionQueueTree_;for(n=Te(e);n!==null&&go(i)===void 0;)i=_y(i,n),e=Qe(e),n=Te(e);return i}function LA(t,e){const n=[];return UA(t,e,n),n.sort((i,a)=>i.order-a.order),n}function UA(t,e,n){const i=go(e);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);Ad(e,a=>{UA(t,a,n)})}function Id(t,e){const n=go(e);if(n){let i=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[i]=n[a],i++);n.length=i,RA(e,n.length>0?n:void 0)}Ad(e,i=>{Id(t,i)})}function xy(t,e){const n=Rc(PA(t,e)),i=_y(t.transactionQueueTree_,e);return a5(i,a=>{Dp(t,a)}),Dp(t,i),NA(i,a=>{Dp(t,a)}),n}function Dp(t,e){const n=go(e);if(n){const i=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(Q(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(Q(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(wi(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?RA(e,void 0):n.length=l+1,Sn(t.eventQueue_,Rc(e),a);for(let u=0;u<i.length;u++)mo(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function P5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Hw=function(t,e){const n=L5(t),i=n.namespace;n.domain==="firebase.com"&&Ur(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ur("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||G3();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zR(n.host,n.secure,i,a,e,"",i!==n.subdomain),path:new $e(n.pathString)}},L5=function(t){let e="",n="",i="",a="",l="",u=!0,f="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(f=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(a=k5(t.substring(g,v)));const y=P5(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(u=f==="https"||f==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),l=i}"ns"in y&&(l=y.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:u,scheme:f,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,i,a){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pt(this.snapshot.exportVal())}}class j5{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,i,a){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return Oe(this._path)?null:Zv(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const e=Cw(this._queryParams),n=Yv(e);return n==="{}"?"default":n}get _queryObject(){return Cw(this._queryParams)}isEqual(e){if(e=Ft(e),!(e instanceof Cy))return!1;const n=this._repo===e._repo,i=Jv(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+T4(this._path)}}class Fr extends Cy{constructor(e,n){super(e,n,new ry,!1)}get parent(){const e=QR(this._path);return e===null?null:new Fr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ic{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $e(e),i=Lg(this.ref,e);return new ic(this._node.getChild(n),i,ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new ic(a,Lg(this.ref,i),ot)))}hasChild(e){const n=new $e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dn(t,e){return t=Ft(t),t._checkNotDeleted("ref"),e!==void 0?Lg(t._root,e):t._root}function Lg(t,e){return t=Ft(t),Te(t._path)===null?p5("child","path",e):MA("child","path",e),new Fr(t._repo,at(t._path,e))}function Yf(t,e){t=Ft(t),g5("set",t._path),d5("set",e,t._path);const n=new vc;return R5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function H5(t,e){m5("update",e,t._path);const n=new vc;return A5(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Bw(t){t=Ft(t);const e=new jA(()=>{}),n=new Dd(e);return T5(t._repo,t,n).then(i=>new ic(i,new Fr(t._repo,t._path),t._queryParams.getIndex()))}class Dd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new U5("value",this,new ic(e.snapshotNode,new Fr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new j5(this,e,n):null}matches(e){return e instanceof Dd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function B5(t,e,n,i,a){let l;if(typeof i=="object"&&(l=void 0,a=i),typeof i=="function"&&(l=i),a&&a.onlyOnce){const d=n,m=(g,v)=>{kg(t._repo,t,f),d(g,v)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new jA(n,l||void 0),f=new Dd(u);return O5(t._repo,t,f),()=>kg(t._repo,t,f)}function kd(t,e,n,i){return B5(t,"value",e,n,i)}function Ty(t,e,n){kg(t._repo,t,null)}jz(Fr);Gz(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="FIREBASE_DATABASE_EMULATOR_HOST",Ug={};let z5=!1;function G5(t,e,n,i){t.repoInfo_=new zR(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function V5(t,e,n,i,a){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Ur("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Hw(l,a),f=u.repoInfo,d;typeof process<"u"&&ow&&(d=ow[F5]),d?(l=`http://${d}?ns=${f.namespace}`,u=Hw(l,a),f=u.repoInfo):u.repoInfo.secure;const m=new e4(t.name,t.options,e);v5("Invalid Firebase Database URL",u),Oe(u.path)||Ur("Database URL must point to the root of a Firebase Database (not including a child path).");const g=q5(f,t,m,new J3(t,n));return new W5(g,t)}function $5(t,e){const n=Ug[e];(!n||n[t.key]!==t)&&Ur(`Database ${e}(${t.repoInfo_}) has already been deleted.`),M5(t),delete n[t.key]}function q5(t,e,n,i){let a=Ug[e.name];a||(a={},Ug[e.name]=a);let l=a[t.toURLString()];return l&&Ur("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new S5(t,z5,n,i),a[t.toURLString()]=l,l}class W5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(w5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&($5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ur("Cannot call "+e+" on a deleted database.")}}function Ml(t=VT(),e){const n=jv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Kj("database");i&&Y5(n,...i)}return n}function Y5(t,e,n,i={}){t=Ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ur("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let l;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Ur('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new pf(pf.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:Xj(i.mockUserToken,t.app.options.projectId);l=new pf(u)}G5(a,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){U3(fo),$a(new Cs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return V5(i,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Ti(lw,cw,t),Ti(lw,cw,"esm2017")}Or.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Or.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};K5();const X5={VITE_FIREBASE_API_KEY:"AIzaSyCjpLB87zlHMb-fvh_TdhBarduhQD-s--o",VITE_POTTER_BASE:"https://potterapi-fedeperin.vercel.app"},{VITE_FIREBASE_API_KEY:Q5,VITE_POTTER_BASE:HA="https://potterapi-fedeperin.vercel.app"}=X5,Z5={apiKey:Q5,authDomain:"tienda-comida-1a7e2.firebaseapp.com",databaseURL:"https://tienda-comida-1a7e2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tienda-comida-1a7e2",storageBucket:"tienda-comida-1a7e2.firebasestorage.app",messagingSenderId:"1092414552129",appId:"1:1092414552129:web:b91dd2b90d0b1fdfb0aec0"},Ia=jS().length?jS()[0]:GT(Z5),Bs=Ml(Ia),J5=async(t,e)=>{const n=Dn(Bs,`users/${t}/roles`);await H5(n,e)};async function e6(t,e){return new Promise((n,i)=>{const a=Dn(Bs,t);kd(a,l=>{const u=l.val()??[];u?n(u):i(new Error("No hay datos disponibles")),Ty(a)},l=>{console.error("Error en Firebase:",l),e(l)})}).catch(n=>e(n.message))}async function t6(t,e,n){const i=Dn(Bs,t);return Yf(i,e).then(()=>e).catch(a=>n(a.message))}var Hi=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))(Hi||{});class BA{constructor(){}async setUserRoles(e,{email:n,roles:i}){const a=Ml(Ia),l=Dn(a,`users/${e}`),u={};Object.values(Hi).forEach(f=>u[f.toUpperCase()]=!1),i.forEach(f=>{u[f.toUpperCase()]=!0}),await Yf(l,{email:n,roles:u})}async restoreUserAppData(e){const n=Ml(Ia);Object.entries({books:[],characters:[],spells:[],house:""}).forEach(([a,l])=>{const u=Dn(n,`users/${e}/${a}`);Yf(u,l)})}async getUserRoles(e){const n=Ml(Ia),i=Dn(n,`users/${e}/roles`),a=await Bw(i);if(a.exists()){const l=a.val(),u=[];return Object.entries(l).forEach(([d,m])=>{m&&u.push(d)}),u}return[Hi.USER]}async getUserData(e){const n=Ml(Ia),i=Dn(n,`users/${e}`),a=await Bw(i);if(!a.exists())return null;const l=await this.getUserRoles(e),u=a.val();return u.roles=l,u}}const jg=new BA,Rl=D3(Ia);class n6{constructor(){xa(this,"databaseService");this.databaseService=new BA}signIn(e,n){return yF(Rl,e,n)}signUp(e,n){return vF(Rl,e,n)}signOut(){return SF(Rl)}onAuthStateChanged(e){return EF(Rl,e)}getCurrentUser(){return Rl.currentUser}async getUserRoles(e){return e.email==="msf91@alu.ua.es"?[Hi.ADMIN]:this.databaseService.getUserRoles(e.uid)}async getUserData(e){return this.databaseService.getUserData(e.uid)}}const Fa=new n6,an=_.createContext({user:null,roles:null,data:null}),r6=({children:t})=>{const[e,n]=_.useState(null),[i,a]=_.useState(null),[l,u]=_.useState(null);return _.useEffect(()=>Fa.onAuthStateChanged(async d=>{if(n(d),d)try{const m=await Fa.getUserRoles(d),g=await Fa.getUserData(d);u(g),a(m)}catch(m){vf.error("Error al obtener los roles: "+m),a(null)}else a(null)}),[]),b.jsx(an.Provider,{value:{user:e,roles:i,data:l},children:t})};var kp={exports:{}},Pp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function i6(){if(Fw)return Pp;Fw=1;var t=ad();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Pp.useSyncExternalStoreWithSelector=function(d,m,g,v,y){var S=a(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function T(O){if(!R){if(R=!0,I=O,O=v(O),y!==void 0&&w.hasValue){var H=w.value;if(y(H,O))return N=H}return N=O}if(H=N,n(I,O))return H;var W=v(O);return y!==void 0&&y(H,W)?(I=O,H):(I=O,N=W)}var R=!1,I,N,P=g===void 0?null:g;return[function(){return T(m())},P===null?void 0:function(){return T(P())}]},[m,g,v,y]);var C=i(d,S[0],S[1]);return l(function(){w.hasValue=!0,w.value=C},[C]),f(C),C},Pp}var zw;function s6(){return zw||(zw=1,kp.exports=i6()),kp.exports}var a6=s6();function o6(t){t()}function l6(){let t=null,e=null;return{clear(){t=null,e=null},notify(){o6(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Gw={notify(){},get:()=>[]};function c6(t,e){let n,i=Gw,a=0,l=!1;function u(C){g();const T=i.subscribe(C);let R=!1;return()=>{R||(R=!0,T(),v())}}function f(){i.notify()}function d(){w.onStateChange&&w.onStateChange()}function m(){return l}function g(){a++,n||(n=t.subscribe(d),i=l6())}function v(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=Gw)}function y(){l||(l=!0,g())}function S(){l&&(l=!1,v())}const w={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:m,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>i};return w}var u6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f6=u6(),d6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",h6=d6(),m6=()=>f6||h6?_.useLayoutEffect:_.useEffect,p6=m6(),Lp=Symbol.for("react-redux-context"),Up=typeof globalThis<"u"?globalThis:{};function g6(){if(!_.createContext)return{};const t=Up[Lp]??(Up[Lp]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Bi=g6();function v6(t){const{children:e,context:n,serverState:i,store:a}=t,l=_.useMemo(()=>{const d=c6(a);return{store:a,subscription:d,getServerState:i?()=>i:void 0}},[a,i]),u=_.useMemo(()=>a.getState(),[a]);p6(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,u]);const f=n||Bi;return _.createElement(f.Provider,{value:l},e)}var y6=v6;function Ry(t=Bi){return function(){return _.useContext(t)}}var FA=Ry();function zA(t=Bi){const e=t===Bi?FA:Ry(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var _6=zA();function b6(t=Bi){const e=t===Bi?_6:zA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var GA=b6(),E6=(t,e)=>t===e;function S6(t=Bi){const e=t===Bi?FA:Ry(t),n=(i,a={})=>{const{equalityFn:l=E6}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:f,subscription:d,getServerState:m}=u;_.useRef(!0);const g=_.useCallback({[i.name](y){return i(y)}}[i.name],[i]),v=a6.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,m||f.getState,g,l);return _.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var w6=S6();const zr=()=>GA(),Gr=w6;function Rt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var x6=typeof Symbol=="function"&&Symbol.observable||"@@observable",Vw=x6,jp=()=>Math.random().toString(36).substring(7).split("").join("."),C6={INIT:`@@redux/INIT${jp()}`,REPLACE:`@@redux/REPLACE${jp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jp()}`},Kf=C6;function Ay(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function VA(t,e,n){if(typeof t!="function")throw new Error(Rt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rt(1));return n(VA)(t,e)}let i=t,a=e,l=new Map,u=l,f=0,d=!1;function m(){u===l&&(u=new Map,l.forEach((T,R)=>{u.set(R,T)}))}function g(){if(d)throw new Error(Rt(3));return a}function v(T){if(typeof T!="function")throw new Error(Rt(4));if(d)throw new Error(Rt(5));let R=!0;m();const I=f++;return u.set(I,T),function(){if(R){if(d)throw new Error(Rt(6));R=!1,m(),u.delete(I),l=null}}}function y(T){if(!Ay(T))throw new Error(Rt(7));if(typeof T.type>"u")throw new Error(Rt(8));if(typeof T.type!="string")throw new Error(Rt(17));if(d)throw new Error(Rt(9));try{d=!0,a=i(a,T)}finally{d=!1}return(l=u).forEach(I=>{I()}),T}function S(T){if(typeof T!="function")throw new Error(Rt(10));i=T,y({type:Kf.REPLACE})}function w(){const T=v;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Rt(11));function I(){const P=R;P.next&&P.next(g())}return I(),{unsubscribe:T(I)}},[Vw](){return this}}}return y({type:Kf.INIT}),{dispatch:y,subscribe:v,getState:g,replaceReducer:S,[Vw]:w}}function T6(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Kf.INIT})>"u")throw new Error(Rt(12));if(typeof n(void 0,{type:Kf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function R6(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const u=e[l];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let a;try{T6(n)}catch(l){a=l}return function(u={},f){if(a)throw a;let d=!1;const m={};for(let g=0;g<i.length;g++){const v=i[g],y=n[v],S=u[v],w=y(S,f);if(typeof w>"u")throw f&&f.type,new Error(Rt(14));m[v]=w,d=d||w!==S}return d=d||i.length!==Object.keys(u).length,d?m:u}}function Xf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function A6(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(Rt(15))};const u={getState:a.getState,dispatch:(d,...m)=>l(d,...m)},f=t.map(d=>d(u));return l=Xf(...f)(a.dispatch),{...a,dispatch:l}}}function N6(t){return Ay(t)&&"type"in t&&typeof t.type=="string"}var $A=Symbol.for("immer-nothing"),$w=Symbol.for("immer-draftable"),rn=Symbol.for("immer-state");function Mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qa=Object.getPrototypeOf;function Ms(t){return!!t&&!!t[rn]}function jr(t){var e;return t?qA(t)||Array.isArray(t)||!!t[$w]||!!((e=t.constructor)!=null&&e[$w])||Ld(t)||Ud(t):!1}var O6=Object.prototype.constructor.toString();function qA(t){if(!t||typeof t!="object")return!1;const e=Qa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===O6}function Qf(t,e){Pd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Pd(t){const e=t[rn];return e?e.type_:Array.isArray(t)?1:Ld(t)?2:Ud(t)?3:0}function Hg(t,e){return Pd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WA(t,e,n){const i=Pd(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function M6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ld(t){return t instanceof Map}function Ud(t){return t instanceof Set}function bs(t){return t.copy_||t.base_}function Bg(t,e){if(Ld(t))return new Map(t);if(Ud(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=qA(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[rn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const u=a[l],f=i[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[u]})}return Object.create(Qa(t),i)}else{const i=Qa(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function Ny(t,e=!1){return jd(t)||Ms(t)||!jr(t)||(Pd(t)>1&&(t.set=t.add=t.clear=t.delete=I6),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>Ny(i,!0))),t}function I6(){Mn(2)}function jd(t){return Object.isFrozen(t)}var D6={};function Is(t){const e=D6[t];return e||Mn(0,t),e}var sc;function YA(){return sc}function k6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qw(t,e){e&&(Is("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Fg(t){zg(t),t.drafts_.forEach(P6),t.drafts_=null}function zg(t){t===sc&&(sc=t.parent_)}function Ww(t){return sc=k6(sc,t)}function P6(t){const e=t[rn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Yw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[rn].modified_&&(Fg(e),Mn(4)),jr(t)&&(t=Zf(e,t),e.parent_||Jf(e,t)),e.patches_&&Is("Patches").generateReplacementPatches_(n[rn].base_,t,e.patches_,e.inversePatches_)):t=Zf(e,n,[]),Fg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$A?t:void 0}function Zf(t,e,n){if(jd(e))return e;const i=e[rn];if(!i)return Qf(e,(a,l)=>Kw(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Jf(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),Qf(l,(f,d)=>Kw(t,i,a,f,d,n,u)),Jf(t,a,!1),n&&t.patches_&&Is("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Kw(t,e,n,i,a,l,u){if(Ms(a)){const f=l&&e&&e.type_!==3&&!Hg(e.assigned_,i)?l.concat(i):void 0,d=Zf(t,a,f);if(WA(n,i,d),Ms(d))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(jr(a)&&!jd(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zf(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Jf(t,a)}}function Jf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ny(e,n)}function L6(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:YA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Oy;n&&(a=[i],l=ac);const{revoke:u,proxy:f}=Proxy.revocable(a,l);return i.draft_=f,i.revoke_=u,f}var Oy={get(t,e){if(e===rn)return t;const n=bs(t);if(!Hg(n,e))return U6(t,n,e);const i=n[e];return t.finalized_||!jr(i)?i:i===Hp(t.base_,e)?(Bp(t),t.copy_[e]=Vg(i,t)):i},has(t,e){return e in bs(t)},ownKeys(t){return Reflect.ownKeys(bs(t))},set(t,e,n){const i=KA(bs(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=Hp(bs(t),e),l=a==null?void 0:a[rn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(M6(n,a)&&(n!==void 0||Hg(t.base_,e)))return!0;Bp(t),Gg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bp(t),Gg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bs(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Mn(11)},getPrototypeOf(t){return Qa(t.base_)},setPrototypeOf(){Mn(12)}},ac={};Qf(Oy,(t,e)=>{ac[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ac.deleteProperty=function(t,e){return ac.set.call(this,t,e,void 0)};ac.set=function(t,e,n){return Oy.set.call(this,t[0],e,n,t[0])};function Hp(t,e){const n=t[rn];return(n?bs(n):t)[e]}function U6(t,e,n){var a;const i=KA(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function KA(t,e){if(!(e in t))return;let n=Qa(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Qa(n)}}function Gg(t){t.modified_||(t.modified_=!0,t.parent_&&Gg(t.parent_))}function Bp(t){t.copy_||(t.copy_=Bg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var j6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const u=this;return function(d=l,...m){return u.produce(d,g=>n.call(this,g,...m))}}typeof n!="function"&&Mn(6),i!==void 0&&typeof i!="function"&&Mn(7);let a;if(jr(e)){const l=Ww(this),u=Vg(e,void 0);let f=!0;try{a=n(u),f=!1}finally{f?Fg(l):zg(l)}return qw(l,i),Yw(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===$A&&(a=void 0),this.autoFreeze_&&Ny(a,!0),i){const l=[],u=[];Is("Patches").generateReplacementPatches_(e,a,l,u),i(l,u)}return a}else Mn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...f)=>this.produceWithPatches(u,d=>e(d,...f));let i,a;return[this.produce(e,n,(u,f)=>{i=u,a=f}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jr(t)||Mn(8),Ms(t)&&(t=H6(t));const e=Ww(this),n=Vg(t,void 0);return n[rn].isManual_=!0,zg(e),n}finishDraft(t,e){const n=t&&t[rn];(!n||!n.isManual_)&&Mn(9);const{scope_:i}=n;return qw(i,e),Yw(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=Is("Patches").applyPatches_;return Ms(t)?i(t,e):this.produce(t,a=>i(a,e))}};function Vg(t,e){const n=Ld(t)?Is("MapSet").proxyMap_(t,e):Ud(t)?Is("MapSet").proxySet_(t,e):L6(t,e);return(e?e.scope_:YA()).drafts_.push(n),n}function H6(t){return Ms(t)||Mn(10,t),XA(t)}function XA(t){if(!jr(t)||jd(t))return t;const e=t[rn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Bg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Bg(t,!0);return Qf(n,(i,a)=>{WA(n,i,XA(a))}),e&&(e.finalized_=!1),n}var sn=new j6,QA=sn.produce;sn.produceWithPatches.bind(sn);sn.setAutoFreeze.bind(sn);sn.setUseStrictShallowCopy.bind(sn);sn.applyPatches.bind(sn);sn.createDraft.bind(sn);sn.finishDraft.bind(sn);function ZA(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var B6=ZA(),F6=ZA,z6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)},G6=t=>t&&typeof t.match=="function";function Bl(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(Mr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>N6(i)&&i.type===t,n}var JA=class Il extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Il.prototype)}static get[Symbol.species](){return Il}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Il(...e[0].concat(this)):new Il(...e.concat(this))}};function Xw(t){return jr(t)?QA(t,()=>{}):t}function Qw(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function V6(t){return typeof t=="boolean"}var $6=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let u=new JA;return n&&(V6(n)?u.push(B6):u.push(F6(n.extraArgument))),u},q6="RTK_autoBatch",Zw=t=>e=>{setTimeout(e,t)},W6=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,u=!1;const f=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zw(10):t.type==="callback"?t.queueNotification:Zw(t.timeout),m=()=>{u=!1,l&&(l=!1,f.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const v=()=>a&&g(),y=i.subscribe(v);return f.add(g),()=>{y(),f.delete(g)}},dispatch(g){var v;try{return a=!((v=g==null?void 0:g.meta)!=null&&v[q6]),l=!a,l&&(u||(u=!0,d(m))),i.dispatch(g)}finally{a=!0}}})},Y6=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new JA(t);return i&&a.push(W6(typeof i=="object"?i:void 0)),a};function K6(t){const e=$6(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:u=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(Ay(n))f=R6(n);else throw new Error(Mr(1));let d;typeof i=="function"?d=i(e):d=e();let m=Xf;a&&(m=z6({trace:!1,...typeof a=="object"&&a}));const g=A6(...d),v=Y6(g);let y=typeof u=="function"?u(v):v();const S=m(...y);return VA(f,l,S)}function e1(t){const e={},n=[];let i;const a={addCase(l,u){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Mr(28));if(f in e)throw new Error(Mr(29));return e[f]=u,a},addMatcher(l,u){return n.push({matcher:l,reducer:u}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function X6(t){return typeof t=="function"}function Q6(t,e){let[n,i,a]=e1(e),l;if(X6(t))l=()=>Xw(t());else{const f=Xw(t);l=()=>f}function u(f=l(),d){let m=[n[d.type],...i.filter(({matcher:g})=>g(d)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[a]),m.reduce((g,v)=>{if(v)if(Ms(g)){const S=v(g,d);return S===void 0?g:S}else{if(jr(g))return QA(g,y=>v(y,d));{const y=v(g,d);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},f)}return u.getInitialState=l,u}var Z6=(t,e)=>G6(t)?t.match(e):t(e);function J6(...t){return e=>t.some(n=>Z6(n,e))}var eG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tG=(t=21)=>{let e="",n=t;for(;n--;)e+=eG[Math.random()*64|0];return e},nG=["name","message","stack","code"],Fp=class{constructor(t,e){xa(this,"_type");this.payload=t,this.meta=e}},Jw=class{constructor(t,e){xa(this,"_type");this.payload=t,this.meta=e}},rG=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of nG)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Ni=(()=>{function t(e,n,i){const a=Bl(e+"/fulfilled",(d,m,g,v)=>({payload:d,meta:{...v||{},arg:g,requestId:m,requestStatus:"fulfilled"}})),l=Bl(e+"/pending",(d,m,g)=>({payload:void 0,meta:{...g||{},arg:m,requestId:d,requestStatus:"pending"}})),u=Bl(e+"/rejected",(d,m,g,v,y)=>({payload:v,error:(i&&i.serializeError||rG)(d||"Rejected"),meta:{...y||{},arg:g,requestId:m,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function f(d){return(m,g,v)=>{const y=i!=null&&i.idGenerator?i.idGenerator(d):tG(),S=new AbortController;let w,C;function T(I){C=I,S.abort()}const R=async function(){var P,O;let I;try{let H=(P=i==null?void 0:i.condition)==null?void 0:P.call(i,d,{getState:g,extra:v});if(sG(H)&&(H=await H),H===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const W=new Promise((Y,q)=>{w=()=>{q({name:"AbortError",message:C||"Aborted"})},S.signal.addEventListener("abort",w)});m(l(y,d,(O=i==null?void 0:i.getPendingMeta)==null?void 0:O.call(i,{requestId:y,arg:d},{getState:g,extra:v}))),I=await Promise.race([W,Promise.resolve(n(d,{dispatch:m,getState:g,extra:v,requestId:y,signal:S.signal,abort:T,rejectWithValue:(Y,q)=>new Fp(Y,q),fulfillWithValue:(Y,q)=>new Jw(Y,q)})).then(Y=>{if(Y instanceof Fp)throw Y;return Y instanceof Jw?a(Y.payload,y,d,Y.meta):a(Y,y,d)})])}catch(H){I=H instanceof Fp?u(null,y,d,H.payload,H.meta):u(H,y,d)}finally{w&&S.signal.removeEventListener("abort",w)}return i&&!i.dispatchConditionRejection&&u.match(I)&&I.meta.condition||m(I),I}();return Object.assign(R,{abort:T,requestId:y,arg:d,unwrap(){return R.then(iG)}})}}return Object.assign(f,{pending:l,rejected:u,fulfilled:a,settled:J6(u,a),typePrefix:e})}return t.withTypes=()=>t,t})();function iG(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function sG(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var aG=Symbol.for("rtk-slice-createasyncthunk");function oG(t,e){return`${t}/${e}`}function lG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[aG];return function(a){const{name:l,reducerPath:u=l}=a;if(!l)throw new Error(Mr(11));const f=(typeof a.reducers=="function"?a.reducers(uG()):a.reducers)||{},d=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(N,P){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(Mr(12));if(O in m.sliceCaseReducersByType)throw new Error(Mr(13));return m.sliceCaseReducersByType[O]=P,g},addMatcher(N,P){return m.sliceMatchers.push({matcher:N,reducer:P}),g},exposeAction(N,P){return m.actionCreators[N]=P,g},exposeCaseReducer(N,P){return m.sliceCaseReducersByName[N]=P,g}};d.forEach(N=>{const P=f[N],O={reducerName:N,type:oG(l,N),createNotation:typeof a.reducers=="function"};dG(P)?mG(O,P,g,e):fG(O,P,g)});function v(){const[N={},P=[],O=void 0]=typeof a.extraReducers=="function"?e1(a.extraReducers):[a.extraReducers],H={...N,...m.sliceCaseReducersByType};return Q6(a.initialState,W=>{for(let Y in H)W.addCase(Y,H[Y]);for(let Y of m.sliceMatchers)W.addMatcher(Y.matcher,Y.reducer);for(let Y of P)W.addMatcher(Y.matcher,Y.reducer);O&&W.addDefaultCase(O)})}const y=N=>N,S=new Map;let w;function C(N,P){return w||(w=v()),w(N,P)}function T(){return w||(w=v()),w.getInitialState()}function R(N,P=!1){function O(W){let Y=W[N];return typeof Y>"u"&&P&&(Y=T()),Y}function H(W=y){const Y=Qw(S,P,()=>new WeakMap);return Qw(Y,W,()=>{const q={};for(const[Z,me]of Object.entries(a.selectors??{}))q[Z]=cG(me,W,T,P);return q})}return{reducerPath:N,getSelectors:H,get selectors(){return H(O)},selectSlice:O}}const I={name:l,reducer:C,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:T,...R(u),injectInto(N,{reducerPath:P,...O}={}){const H=P??u;return N.inject({reducerPath:H,reducer:C},O),{...I,...R(H,!0)}}};return I}}function cG(t,e,n,i){function a(l,...u){let f=e(l);return typeof f>"u"&&i&&(f=n()),t(f,...u)}return a.unwrapped=t,a}var Hd=lG();function uG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fG({type:t,reducerName:e,createNotation:n},i,a){let l,u;if("reducer"in i){if(n&&!hG(i))throw new Error(Mr(17));l=i.reducer,u=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,u?Bl(t,u):Bl(t))}function dG(t){return t._reducerDefinitionType==="asyncThunk"}function hG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mG({type:t,reducerName:e},n,i,a){if(!a)throw new Error(Mr(18));const{payloadCreator:l,fulfilled:u,pending:f,rejected:d,settled:m,options:g}=n,v=a(t,l,g);i.exposeAction(e,v),u&&i.addCase(v.fulfilled,u),f&&i.addCase(v.pending,f),d&&i.addCase(v.rejected,d),m&&i.addMatcher(v.settled,m),i.exposeCaseReducer(e,{fulfilled:u||tf,pending:f||tf,rejected:d||tf,settled:m||tf})}function tf(){}function Mr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const pG={house:""},t1=Ni("house/fetch",async(t,{rejectWithValue:e})=>new Promise((n,i)=>{const a=Dn(Bs,`users/${t}/house`);kd(a,l=>{const u=l.val();u?n(u):i("")},l=>{console.error("Error en Firebase:",l),e(l)})}).catch(n=>e(n))),n1=Ni("house/updateUserHouse",async({userId:t,house:e},{rejectWithValue:n})=>{const i=Dn(Bs,`users/${t}/house`);return Yf(i,e).then(()=>e).catch(a=>n(a.message))}),r1=Hd({name:"house",initialState:pG,reducers:{clearHouse:t=>{t.house=""}},extraReducers:t=>{t.addCase(t1.fulfilled,(e,n)=>{e.house=n.payload}),t.addCase(n1.fulfilled,(e,n)=>{e.house=n.payload})}}),{clearHouse:i1}=r1.actions,gG=r1.reducer,My={Gryffindor:{color:"#9C2A2A",backgroundColor:"#F7D1D1"},Hufflepuff:{color:"#E6B700",backgroundColor:"#F7F0D1"},Ravenclaw:{color:"#003DA5",backgroundColor:"#D1E3F7"},Slytherin:{color:"#4B8B3B",backgroundColor:"#D1F7E3"}},vG=({path:t,name:e})=>b.jsx(Iv,{to:`${t}`,"aria-description":e,accessKey:e,className:({isActive:n})=>`group pointer inline-flex h-9 w-max items-center justify-center px-4 py-2 text-sm font-medium hover:underline focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-gray-100/50 data-[state=open]:bg-gray-100/50 dark:data-[active]:bg-gray-800/50 dark:data-[state=open]:bg-gray-800/50 ${n?"underline":""}`,children:b.jsx(pe,{id:`navbar.link.${e}`})});function yG(){const{user:t,roles:e}=_.useContext(an),n=oo(),i=zr(),{house:a}=Gr(m=>m.house);_.useEffect(()=>{i(t1(t==null?void 0:t.uid))},[t]);const{color:l,backgroundColor:u}=_.useMemo(()=>My[a]||{color:"#000",backgroundColor:"#FFF"},[a]),f=_.useMemo(()=>[{path:"/books",name:"books",active:t},{path:"/characters",name:"characters",active:t},{path:"/spells",name:"spells",active:t},{path:"/houses",name:"houses",active:t},{path:"/dashboard",name:"dashboard",active:t&&(e==null?void 0:e.includes(Hi.ADMIN))},{path:"/login",name:"signin",active:!t},{path:"/signup",name:"signup",active:!t}],[t,e]),d=async()=>{try{await Fa.signOut(),i(i1()),n("/login")}catch(m){vf.error(`Error al cerrar sesión: ${m} `)}};return b.jsxs("header",{className:"flex h-1/10 w-full shrink-0 items-center px-4 border-b-1",children:[b.jsxs(Iv,{to:"/",className:"mr-6 flex text-2xl",style:{color:l},children:[b.jsx(dx,{className:"h-8 w-8 mr-3"}),b.jsx("h1",{className:"",children:"Potter App"})]}),b.jsxs("nav",{className:"ml-auto flex gap-6",children:[f.map(({path:m,name:g,active:v},y)=>v&&b.jsx(vG,{path:m,name:g},y+m)),t&&b.jsxs("button",{className:"cursor-pointer group pointer inline-flex h-9 w-max items-center justify-center px-4 py-2 text-sm font-medium hover:underline focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-gray-100/50 data-[state=open]:bg-gray-100/50 dark:data-[active]:bg-gray-800/50 dark:data-[state=open]:bg-gray-800/50",onClick:d,children:[b.jsx(pe,{id:"navbar.link.logout"})," (",t.email,")"]}),b.jsx(HP,{}),b.jsx(Bj,{})]})]})}const _G=({children:t})=>{const{user:e,roles:n}=_.useContext(an);return e?!n||!n.includes(Hi.ADMIN)?b.jsx(Cf,{to:"/",replace:!0}):t:b.jsx(Cf,{to:"/login"})},nf=({children:t})=>{const{user:e}=_.useContext(an);return e?t:b.jsx(Cf,{to:"/login",replace:!0})},bG="modulepreload",EG=function(t){return"/potter-app/"+t},ex={},SG=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(n.map(d=>{if(d=EG(d),d in ex)return;ex[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":bG,m||(v.as="script"),v.crossOrigin="",v.href=d,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((y,S)=>{v.addEventListener("load",y),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},wG=Yg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xG({className:t,variant:e,...n}){return b.jsx("div",{"data-slot":"alert",role:"alert",className:qe(wG({variant:e}),t),...n})}function CG({className:t,...e}){return b.jsx("div",{"data-slot":"alert-title",className:qe("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function TG({className:t,...e}){return b.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function Bd({message:t}){return b.jsxs(xG,{variant:"destructive",children:[b.jsx(PM,{className:"h-4 w-4"}),b.jsx(CG,{children:"Error"}),b.jsx(TG,{children:t.toString()})]})}const tx=()=>b.jsxs("div",{role:"status",children:[b.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),b.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),b.jsx("span",{className:"sr-only",children:"Loading..."})]});function Ir(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Iy(t,e=[]){let n=[];function i(l,u){const f=_.createContext(u),d=n.length;n=[...n,u];const m=v=>{var R;const{scope:y,children:S,...w}=v,C=((R=y==null?void 0:y[t])==null?void 0:R[d])||f,T=_.useMemo(()=>w,Object.values(w));return b.jsx(C.Provider,{value:T,children:S})};m.displayName=l+"Provider";function g(v,y){var C;const S=((C=y==null?void 0:y[t])==null?void 0:C[d])||f,w=_.useContext(S);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,g]}const a=()=>{const l=n.map(u=>_.createContext(u));return function(f){const d=(f==null?void 0:f[t])||l;return _.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[i,RG(a,...e)]}function RG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:d,scopeName:m})=>{const v=d(l)[`__scope${m}`];return{...f,...v}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function nx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function s1(...t){return e=>{let n=!1;const i=t.map(a=>{const l=nx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():nx(t[a],null)}}}}function ed(...t){return _.useCallback(s1(...t),t)}function $g(t){const e=AG(t),n=_.forwardRef((i,a)=>{const{children:l,...u}=i,f=_.Children.toArray(l),d=f.find(OG);if(d){const m=d.props.children,g=f.map(v=>v===d?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:v);return b.jsx(e,{...u,ref:a,children:_.isValidElement(m)?_.cloneElement(m,void 0,g):null})}return b.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function AG(t){const e=_.forwardRef((n,i)=>{const{children:a,...l}=n;if(_.isValidElement(a)){const u=IG(a),f=MG(l,a.props);return a.type!==_.Fragment&&(f.ref=i?s1(i,u):u),_.cloneElement(a,f)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NG=Symbol("radix.slottable");function OG(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NG}function MG(t,e){const n={...e};for(const i in e){const a=t[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{l(...f),a(...f)}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function IG(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DG(t){const e=t+"CollectionProvider",[n,i]=Iy(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:T,children:R}=C,I=At.useRef(null),N=At.useRef(new Map).current;return b.jsx(a,{scope:T,itemMap:N,collectionRef:I,children:R})};u.displayName=e;const f=t+"CollectionSlot",d=$g(f),m=At.forwardRef((C,T)=>{const{scope:R,children:I}=C,N=l(f,R),P=ed(T,N.collectionRef);return b.jsx(d,{ref:P,children:I})});m.displayName=f;const g=t+"CollectionItemSlot",v="data-radix-collection-item",y=$g(g),S=At.forwardRef((C,T)=>{const{scope:R,children:I,...N}=C,P=At.useRef(null),O=ed(T,P),H=l(g,R);return At.useEffect(()=>(H.itemMap.set(P,{ref:P,...N}),()=>void H.itemMap.delete(P))),b.jsx(y,{[v]:"",ref:O,children:I})});S.displayName=g;function w(C){const T=l(t+"CollectionConsumer",C);return At.useCallback(()=>{const I=T.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((H,W)=>N.indexOf(H.ref.current)-N.indexOf(W.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},w,i]}var td=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},kG=Wg[" useId ".trim().toString()]||(()=>{}),PG=0;function a1(t){const[e,n]=_.useState(kG());return td(()=>{n(i=>i??String(PG++))},[t]),t||(e?`radix-${e}`:"")}var LG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vo=LG.reduce((t,e)=>{const n=$g(`Primitive.${e}`),i=_.forwardRef((a,l)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function UG(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}var jG=Wg[" useInsertionEffect ".trim().toString()]||td;function o1({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[a,l,u]=HG({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const g=_.useRef(t!==void 0);_.useEffect(()=>{const v=g.current;v!==f&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,i])}const m=_.useCallback(g=>{var v;if(f){const y=BG(g)?g(t):g;y!==t&&((v=u.current)==null||v.call(u,y))}else l(g)},[f,t,l,u]);return[d,m]}function HG({defaultProp:t,onChange:e}){const[n,i]=_.useState(t),a=_.useRef(n),l=_.useRef(e);return jG(()=>{l.current=e},[e]),_.useEffect(()=>{var u;a.current!==n&&((u=l.current)==null||u.call(l,n),a.current=n)},[n,a]),[n,i,l]}function BG(t){return typeof t=="function"}var FG=_.createContext(void 0);function l1(t){const e=_.useContext(FG);return t||e||"ltr"}var zp="rovingFocusGroup.onEntryFocus",zG={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[qg,c1,GG]=DG(Nc),[VG,u1]=Iy(Nc,[GG]),[$G,qG]=VG(Nc),f1=_.forwardRef((t,e)=>b.jsx(qg.Provider,{scope:t.__scopeRovingFocusGroup,children:b.jsx(qg.Slot,{scope:t.__scopeRovingFocusGroup,children:b.jsx(WG,{...t,ref:e})})}));f1.displayName=Nc;var WG=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,y=_.useRef(null),S=ed(e,y),w=l1(l),[C,T]=o1({prop:u,defaultProp:f??null,onChange:d,caller:Nc}),[R,I]=_.useState(!1),N=UG(m),P=c1(n),O=_.useRef(!1),[H,W]=_.useState(0);return _.useEffect(()=>{const Y=y.current;if(Y)return Y.addEventListener(zp,N),()=>Y.removeEventListener(zp,N)},[N]),b.jsx($G,{scope:n,orientation:i,dir:w,loop:a,currentTabStopId:C,onItemFocus:_.useCallback(Y=>T(Y),[T]),onItemShiftTab:_.useCallback(()=>I(!0),[]),onFocusableItemAdd:_.useCallback(()=>W(Y=>Y+1),[]),onFocusableItemRemove:_.useCallback(()=>W(Y=>Y-1),[]),children:b.jsx(vo.div,{tabIndex:R||H===0?-1:0,"data-orientation":i,...v,ref:S,style:{outline:"none",...t.style},onMouseDown:Ir(t.onMouseDown,()=>{O.current=!0}),onFocus:Ir(t.onFocus,Y=>{const q=!O.current;if(Y.target===Y.currentTarget&&q&&!R){const Z=new CustomEvent(zp,zG);if(Y.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const me=P().filter(G=>G.focusable),Ae=me.find(G=>G.active),ge=me.find(G=>G.id===C),ye=[Ae,ge,...me].filter(Boolean).map(G=>G.ref.current);m1(ye,g)}}O.current=!1}),onBlur:Ir(t.onBlur,()=>I(!1))})})}),d1="RovingFocusGroupItem",h1=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,children:u,...f}=t,d=a1(),m=l||d,g=qG(d1,n),v=g.currentTabStopId===m,y=c1(n),{onFocusableItemAdd:S,onFocusableItemRemove:w,currentTabStopId:C}=g;return _.useEffect(()=>{if(i)return S(),()=>w()},[i,S,w]),b.jsx(qg.ItemSlot,{scope:n,id:m,focusable:i,active:a,children:b.jsx(vo.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...f,ref:e,onMouseDown:Ir(t.onMouseDown,T=>{i?g.onItemFocus(m):T.preventDefault()}),onFocus:Ir(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:Ir(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){g.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const R=XG(T,g.orientation,g.dir);if(R!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let N=y().filter(P=>P.focusable).map(P=>P.ref.current);if(R==="last")N.reverse();else if(R==="prev"||R==="next"){R==="prev"&&N.reverse();const P=N.indexOf(T.currentTarget);N=g.loop?QG(N,P+1):N.slice(P+1)}setTimeout(()=>m1(N))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:C!=null}):u})})});h1.displayName=d1;var YG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XG(t,e,n){const i=KG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return YG[i]}function m1(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function QG(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var ZG=f1,JG=h1;function e8(t,e){return _.useReducer((n,i)=>e[n][i]??n,t)}var p1=t=>{const{present:e,children:n}=t,i=t8(e),a=typeof n=="function"?n({present:i.isPresent}):_.Children.only(n),l=ed(i.ref,n8(a));return typeof n=="function"||i.isPresent?_.cloneElement(a,{ref:l}):null};p1.displayName="Presence";function t8(t){const[e,n]=_.useState(),i=_.useRef(null),a=_.useRef(t),l=_.useRef("none"),u=t?"mounted":"unmounted",[f,d]=e8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=rf(i.current);l.current=f==="mounted"?m:"none"},[f]),td(()=>{const m=i.current,g=a.current;if(g!==t){const y=l.current,S=rf(m);t?d("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(g&&y!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),td(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=S=>{const C=rf(i.current).includes(S.animationName);if(S.target===e&&C&&(d("ANIMATION_END"),!a.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=S=>{S.target===e&&(l.current=rf(i.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:_.useCallback(m=>{i.current=m?getComputedStyle(m):null,n(m)},[])}}function rf(t){return(t==null?void 0:t.animationName)||"none"}function n8(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fd="Tabs",[r8,P9]=Iy(Fd,[u1]),g1=u1(),[i8,Dy]=r8(Fd),ky=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:d="automatic",...m}=t,g=l1(f),[v,y]=o1({prop:i,onChange:a,defaultProp:l??"",caller:Fd});return b.jsx(i8,{scope:n,baseId:a1(),value:v,onValueChange:y,orientation:u,dir:g,activationMode:d,children:b.jsx(vo.div,{dir:g,"data-orientation":u,...m,ref:e})})});ky.displayName=Fd;var v1="TabsList",Py=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:i=!0,...a}=t,l=Dy(v1,n),u=g1(n);return b.jsx(ZG,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:b.jsx(vo.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});Py.displayName=v1;var y1="TabsTrigger",_1=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,disabled:a=!1,...l}=t,u=Dy(y1,n),f=g1(n),d=E1(u.baseId,i),m=S1(u.baseId,i),g=i===u.value;return b.jsx(JG,{asChild:!0,...f,focusable:!a,active:g,children:b.jsx(vo.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...l,ref:e,onMouseDown:Ir(t.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?u.onValueChange(i):v.preventDefault()}),onKeyDown:Ir(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(i)}),onFocus:Ir(t.onFocus,()=>{const v=u.activationMode!=="manual";!g&&!a&&v&&u.onValueChange(i)})})})});_1.displayName=y1;var b1="TabsContent",nd=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,forceMount:a,children:l,...u}=t,f=Dy(b1,n),d=E1(f.baseId,i),m=S1(f.baseId,i),g=i===f.value,v=_.useRef(g);return _.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),b.jsx(p1,{present:a||g,children:({present:y})=>b.jsx(vo.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:y&&l})})});nd.displayName=b1;function E1(t,e){return`${t}-trigger-${e}`}function S1(t,e){return`${t}-content-${e}`}var s8=ky,a8=Py,o8=_1,l8=nd;function w1({className:t,...e}){return b.jsx(s8,{"data-slot":"tabs",className:qe("flex flex-col gap-2",t),...e})}function x1({className:t,...e}){return b.jsx(a8,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Za({className:t,...e}){return b.jsx(o8,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function rd({className:t,...e}){return b.jsx(l8,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",t),...e})}function Ly(t,e){const n={items:[],favs:[],loading:!1,error:null},i=Ni(`${t}/fetch`,async(f,{rejectWithValue:d})=>new Promise((m,g)=>fetch(`${HA}/${f}/${e}`).then(v=>{if(!v.ok)g(new Error(`Failed to fetch, status code: [${v.status}]`));else return v.json()}).then(v=>m(v)).catch(v=>d(v.message))).catch(m=>d(m.message))),a=Ni(`${t}/fetchFavs`,async(f,{rejectWithValue:d})=>e6(`users/${f}/${e}`,d).catch(m=>d(m.message))),l=Ni(`${t}/updateFavs`,async({userId:f,favs:d},{rejectWithValue:m})=>t6(`users/${f}/${e}`,d,m).catch(g=>m(g.message)));return{reducer:Hd({name:t,initialState:n,reducers:{},extraReducers(f){f.addCase(i.pending,d=>{d.loading=!0,d.error=null}),f.addCase(i.fulfilled,(d,m)=>{d.items=m.payload,d.loading=!1,d.error=null}),f.addCase(i.rejected,(d,m)=>{d.loading=!1,d.error=m.payload}),f.addCase(a.fulfilled,(d,m)=>{d.favs=m.payload,d.loading=!1,d.error=null}),f.addCase(l.fulfilled,(d,m)=>{Array.isArray(m.payload)&&(d.favs=m.payload)})}}).reducer,fetchEntities:i,fetchEntitiesFavs:a,updateEntitiesFavs:l}}const{reducer:c8,fetchEntities:u8,fetchEntitiesFavs:f8,updateEntitiesFavs:L9}=Ly("books","books"),rx=At.lazy(()=>SG(()=>import("./Book-D5LyXCdG.js"),[]).then(t=>({default:t.Book})));function d8(){const{items:t,favs:e,error:n}=Gr(f=>f.books),{locale:i}=_.useContext(lo),{user:a}=_.useContext(an),l=zr();_.useEffect(()=>{a&&(l(u8(i)),l(f8(a.uid)))},[i]);const u=_.useMemo(()=>t.filter(f=>e.includes(f.index)),[t,e]);return n?b.jsx(Bd,{message:n}):b.jsxs(ky,{defaultValue:"all",className:"w-full",children:[b.jsxs(Py,{className:"grid w-full grid-cols-2",children:[b.jsx(Za,{value:"all",children:b.jsx(pe,{id:"tabs.all"})}),b.jsx(Za,{value:"favs",children:b.jsx(pe,{id:"tabs.favs"})})]}),b.jsx(nd,{value:"all",children:b.jsx("section",{className:"flex flex-wrap justify-around w-full h-full gap-x-1 gap-y-2 mt-8",children:b.jsx(_.Suspense,{fallback:b.jsx(tx,{}),children:t.map(f=>b.jsx(rx,{book:f},f.index))})})}),b.jsx(nd,{value:"favs",children:b.jsx("section",{className:"flex flex-wrap justify-around w-full h-full gap-x-1 gap-y-2 mt-8",children:b.jsx(_.Suspense,{fallback:b.jsx(tx,{}),children:u.map(f=>b.jsx(rx,{book:f},f.index))})})})]})}const h8=Yg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function m8({className:t,variant:e,asChild:n=!1,...i}){const a=n?Mi:"span";return b.jsx(a,{"data-slot":"badge",className:qe(h8({variant:e}),t),...i})}function yo({className:t,...e}){return b.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function _o({className:t,...e}){return b.jsx("div",{"data-slot":"card-header",className:qe("flex flex-col gap-1.5 px-6",t),...e})}function bo({className:t,...e}){return b.jsx("div",{"data-slot":"card-title",className:qe("leading-none font-semibold",t),...e})}function Oc({className:t,...e}){return b.jsx("div",{"data-slot":"card-description",className:qe("text-muted-foreground text-sm",t),...e})}function Eo({className:t,...e}){return b.jsx("div",{"data-slot":"card-content",className:qe("px-6",t),...e})}const{reducer:p8,fetchEntities:g8,fetchEntitiesFavs:v8,updateEntitiesFavs:y8}=Ly("characters","characters"),ix=({character:t})=>{const{favs:e}=Gr(f=>f.characters),{user:n}=_.useContext(an),i=zr(),a=_.useCallback(()=>{const f=e.includes(t.index)?e.filter(d=>d!==t.index):[...e,t.index];i(y8({userId:n.uid,favs:f}))},[e]),{color:l,backgroundColor:u}=_.useMemo(()=>My[t.hogwartsHouse]||{color:"#000",backgroundColor:"#FFF"},[t.hogwartsHouse]);return b.jsxs(yo,{className:"p-0 m-0 flex flex-row overflow-hidden w-1/4",children:[b.jsx("img",{src:t.image,alt:t.fullName,className:"h-full w-1/2 object-fit rounded-tl-lg"}),b.jsxs(_o,{className:"w-1/2 p-4 h-full",children:[b.jsx(bo,{children:b.jsx("h3",{className:"text-accent-foreground text-xl",children:t.fullName})}),b.jsxs(Eo,{className:"text-balance p-0 h-full flex flex-col justify-between",children:[b.jsxs("header",{children:[b.jsxs("h5",{className:"flex flex-col",children:[b.jsx(pe,{id:"character.birth"}),b.jsx("span",{className:"font-bold",children:t.birthdate})]}),b.jsxs("h5",{className:"flex flex-col",children:[b.jsx(pe,{id:"character.house"}),b.jsx(m8,{variant:"outline",className:"font-bold mt-1",style:{color:l,backgroundColor:u},children:t.hogwartsHouse})]})]}),b.jsx(kn,{variant:"outline",className:"cursor-pointer mt-2",onClick:a,children:b.jsx(fx,{fill:`${e.includes(t.index)?"currentColor":"none"}`})})]})]})]})};function _8(){const{items:t,favs:e,error:n}=Gr(f=>f.characters),{locale:i}=_.useContext(lo),{user:a}=_.useContext(an),l=zr();_.useEffect(()=>{a&&(l(g8(i)),l(v8(a.uid)))},[i]);const u=_.useMemo(()=>t.filter(f=>e.includes(f.index)),[t,e]);return n?b.jsx(Bd,{message:n}):b.jsxs(w1,{defaultValue:"all",className:"w-full",children:[b.jsxs(x1,{className:"grid w-full grid-cols-2",children:[b.jsx(Za,{value:"all",children:b.jsx(pe,{id:"tabs.all"})}),b.jsx(Za,{value:"favs",children:b.jsx(pe,{id:"tabs.favs"})})]}),b.jsx(rd,{value:"all",className:"mt-5",children:b.jsx("section",{className:"flex flex-wrap justify-center w-full h-full gap-x-8 gap-y-4",children:t&&t.map(f=>b.jsx(ix,{character:f},f.index))})}),b.jsx(rd,{value:"favs",className:"mt-5",children:b.jsx("section",{className:"flex flex-wrap justify-center w-full h-full gap-x-8 gap-y-4",children:u&&u.map(f=>b.jsx(ix,{character:f},f.index))})})]})}const b8={users:[],user:null},E8=t=>Object.entries(t).map(([e,{email:n,roles:i}])=>({id:e,email:n,roles:i})),Uy=Ni("users/fetchUsers",async(t,{rejectWithValue:e})=>new Promise((n,i)=>{const a=Dn(Bs,"users");kd(a,l=>{const u=l.val();if(u){const f=E8(u);n(f)}else i(new Error("No hay datos disponibles"));Ty(a)},l=>{console.error("Error en Firebase:",l),e(l)})}).catch(n=>e(n))),S8=Ni("users/fetchUserData",async(t,{rejectWithValue:e})=>new Promise((n,i)=>{const a=Dn(Bs,`users/${t}`);kd(a,l=>{const u=l.val();if(u){const f={id:t,...u};n(f)}else i(new Error("No hay datos disponibles"));Ty(a)},l=>{console.error("Error en Firebase:",l),e(l)})}).catch(n=>e(n))),w8=Hd({name:"menu",initialState:b8,reducers:{},extraReducers:t=>{t.addCase(Uy.fulfilled,(e,n)=>{e.users=n.payload}),t.addCase(S8.fulfilled,(e,n)=>{const i=n.payload;e.user=i})}}),x8=w8.reducer;function C8(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jy="Checkbox",[T8,U9]=ks(jy),[R8,A8]=T8(jy),C1=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:i,checked:a,defaultChecked:l,required:u,disabled:f,value:d="on",onCheckedChange:m,form:g,...v}=t,[y,S]=_.useState(null),w=wt(e,P=>S(P)),C=_.useRef(!1),T=y?g||!!y.closest("form"):!0,[R=!1,I]=ld({prop:a,defaultProp:l,onChange:m}),N=_.useRef(R);return _.useEffect(()=>{const P=y==null?void 0:y.form;if(P){const O=()=>I(N.current);return P.addEventListener("reset",O),()=>P.removeEventListener("reset",O)}},[y,I]),b.jsxs(R8,{scope:n,state:R,disabled:f,children:[b.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":Oi(R)?"mixed":R,"aria-required":u,"data-state":A1(R),"data-disabled":f?"":void 0,disabled:f,value:d,...v,ref:w,onKeyDown:Ee(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:Ee(t.onClick,P=>{I(O=>Oi(O)?!0:!O),T&&(C.current=P.isPropagationStopped(),C.current||P.stopPropagation())})}),T&&b.jsx(N8,{control:y,bubbles:!C.current,name:i,value:d,checked:R,required:u,disabled:f,form:g,style:{transform:"translateX(-100%)"},defaultChecked:Oi(l)?!1:l})]})});C1.displayName=jy;var T1="CheckboxIndicator",R1=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:i,...a}=t,l=A8(T1,n);return b.jsx(Br,{present:i||Oi(l.state)||l.state===!0,children:b.jsx(nt.span,{"data-state":A1(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});R1.displayName=T1;var N8=t=>{const{control:e,checked:n,bubbles:i=!0,defaultChecked:a,...l}=t,u=_.useRef(null),f=C8(n),d=Fx(e);_.useEffect(()=>{const g=u.current,v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==n&&S){const w=new Event("click",{bubbles:i});g.indeterminate=Oi(n),S.call(g,Oi(n)?!1:n),g.dispatchEvent(w)}},[f,n,i]);const m=_.useRef(Oi(n)?!1:n);return b.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...l,tabIndex:-1,ref:u,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Oi(t){return t==="indeterminate"}function A1(t){return Oi(t)?"indeterminate":t?"checked":"unchecked"}var O8=C1,M8=R1;function I8({className:t,...e}){return b.jsx(O8,{"data-slot":"checkbox",className:qe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:b.jsx(M8,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:b.jsx(DM,{className:"size-3.5"})})})}var D8="Label",N1=_.forwardRef((t,e)=>b.jsx(nt.label,{...t,ref:e,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));N1.displayName=D8;var k8=N1;function oc({className:t,...e}){return b.jsx(k8,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const P8=({user:t,initActiveRoles:e})=>{var m;const n=e==null?void 0:e.reduce((g,[v,y])=>({...g,[v]:y}),{}),[i,a]=_.useState(n||{}),l=GA(),u=(g,v)=>{a(y=>({...y,[g]:v}))},f=async()=>{await J5(t.id,i),l(Uy())},d=Object.values(i).filter(Boolean).length;return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(_v,{children:[b.jsx(bv,{asChild:!0,children:b.jsx(kn,{variant:"outline",className:"min-w-[200px] justify-start",children:d>0?b.jsxs(b.Fragment,{children:[d," ",b.jsx(pe,{id:"dashboard.roles.select"})]}):b.jsx(pe,{id:"dashboard.roles.select.ph"})})}),b.jsxs(Ev,{className:"w-[200px]",children:[b.jsx(PP,{children:b.jsx(pe,{id:"dashboard.roles.select.ph"})}),(m=Object.values(Hi))==null?void 0:m.map(g=>b.jsx(Dl,{onSelect:v=>v.preventDefault(),className:"focus:bg-accent/50",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(I8,{id:g,checked:i[g]||!1,onCheckedChange:v=>u(g,!!v)}),b.jsx(oc,{htmlFor:g,className:"text-sm font-medium leading-none capitalize",children:g.toLowerCase()})]})},g))]})]}),b.jsx(kn,{onClick:f,children:"Actualizar roles"})]})};var Hy="Dialog",[O1,j9]=ks(Hy),[L8,Gn]=O1(Hy),M1=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=t,f=_.useRef(null),d=_.useRef(null),[m=!1,g]=ld({prop:i,defaultProp:a,onChange:l});return b.jsx(L8,{scope:e,triggerRef:f,contentRef:d,contentId:Da(),titleId:Da(),descriptionId:Da(),open:m,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(v=>!v),[g]),modal:u,children:n})};M1.displayName=Hy;var I1="DialogTrigger",D1=_.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=Gn(I1,n),l=wt(e,a.triggerRef);return b.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zy(a.open),...i,ref:l,onClick:Ee(t.onClick,a.onOpenToggle)})});D1.displayName=I1;var By="DialogPortal",[U8,k1]=O1(By,{forceMount:void 0}),P1=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:a}=t,l=Gn(By,e);return b.jsx(U8,{scope:e,forceMount:n,children:_.Children.map(i,u=>b.jsx(Br,{present:n||l.open,children:b.jsx(cv,{asChild:!0,container:a,children:u})}))})};P1.displayName=By;var id="DialogOverlay",L1=_.forwardRef((t,e)=>{const n=k1(id,t.__scopeDialog),{forceMount:i=n.forceMount,...a}=t,l=Gn(id,t.__scopeDialog);return l.modal?b.jsx(Br,{present:i||l.open,children:b.jsx(j8,{...a,ref:e})}):null});L1.displayName=id;var j8=_.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=Gn(id,n);return b.jsx(uv,{as:Mi,allowPinchZoom:!0,shards:[a.contentRef],children:b.jsx(nt.div,{"data-state":zy(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Ds="DialogContent",U1=_.forwardRef((t,e)=>{const n=k1(Ds,t.__scopeDialog),{forceMount:i=n.forceMount,...a}=t,l=Gn(Ds,t.__scopeDialog);return b.jsx(Br,{present:i||l.open,children:l.modal?b.jsx(H8,{...a,ref:e}):b.jsx(B8,{...a,ref:e})})});U1.displayName=Ds;var H8=_.forwardRef((t,e)=>{const n=Gn(Ds,t.__scopeDialog),i=_.useRef(null),a=wt(e,n.contentRef,i);return _.useEffect(()=>{const l=i.current;if(l)return sC(l)},[]),b.jsx(j1,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,l=>l.preventDefault())})}),B8=_.forwardRef((t,e)=>{const n=Gn(Ds,t.__scopeDialog),i=_.useRef(!1),a=_.useRef(!1);return b.jsx(j1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(i.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{var d,m;(d=t.onInteractOutside)==null||d.call(t,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),j1=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=t,f=Gn(Ds,n),d=_.useRef(null),m=wt(e,d);return Ax(),b.jsxs(b.Fragment,{children:[b.jsx(Jg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:b.jsx(Zg,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":zy(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(F8,{titleId:f.titleId}),b.jsx(G8,{contentRef:d,descriptionId:f.descriptionId})]})]})}),Fy="DialogTitle",H1=_.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=Gn(Fy,n);return b.jsx(nt.h2,{id:a.titleId,...i,ref:e})});H1.displayName=Fy;var B1="DialogDescription",F1=_.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=Gn(B1,n);return b.jsx(nt.p,{id:a.descriptionId,...i,ref:e})});F1.displayName=B1;var z1="DialogClose",G1=_.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=Gn(z1,n);return b.jsx(nt.button,{type:"button",...i,ref:e,onClick:Ee(t.onClick,()=>a.onOpenChange(!1))})});G1.displayName=z1;function zy(t){return t?"open":"closed"}var V1="DialogTitleWarning",[H9,$1]=BI(V1,{contentName:Ds,titleName:Fy,docsSlug:"dialog"}),F8=({titleId:t})=>{const e=$1(V1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},z8="DialogDescriptionWarning",G8=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$1(z8).contentName}}.`;return _.useEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},V8=M1,$8=D1,q8=P1,W8=L1,Y8=U1,K8=H1,X8=F1,q1=G1;function Q8({...t}){return b.jsx(V8,{"data-slot":"dialog",...t})}function Z8({...t}){return b.jsx($8,{"data-slot":"dialog-trigger",...t})}function J8({...t}){return b.jsx(q8,{"data-slot":"dialog-portal",...t})}function sx({...t}){return b.jsx(q1,{"data-slot":"dialog-close",...t})}function e9({className:t,...e}){return b.jsx(W8,{"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function t9({className:t,children:e,...n}){return b.jsxs(J8,{"data-slot":"dialog-portal",children:[b.jsx(e9,{}),b.jsxs(Y8,{"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,b.jsxs(q1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[b.jsx(WM,{}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function n9({className:t,...e}){return b.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function r9({className:t,...e}){return b.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function i9({className:t,...e}){return b.jsx(K8,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",t),...e})}function s9({className:t,...e}){return b.jsx(X8,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function a9(){const{users:t}=Gr(a=>a.users),e=zr(),{user:n}=_.useContext(an);_.useEffect(()=>{e(Uy())},[]);const i=async a=>{await jg.restoreUserAppData(a),n.uid===a&&e(i1())};return b.jsx("div",{children:b.jsxs("table",{className:"striped",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",children:b.jsx(pe,{id:"dashboard.email"})}),b.jsx("th",{scope:"col",children:b.jsx(pe,{id:"dashboard.roles"})}),b.jsx("th",{scope:"col",children:b.jsx(pe,{id:"dashboard.actions"})})]})}),b.jsx("tbody",{children:t==null?void 0:t.map(a=>{var m;const{id:l,email:u,roles:f}=a,d=f?(m=Object.entries(f))==null?void 0:m.filter(([g,v])=>v):[];return b.jsxs("tr",{children:[b.jsx("th",{scope:"row",className:"p-5 text-start",children:u}),b.jsx("td",{className:"p-5 text-white",children:b.jsx("div",{style:{display:"flex",gap:"1rem"},children:d==null?void 0:d.map(([g])=>b.jsx("kbd",{className:"rounded p-1",style:{backgroundColor:"#017FC0",textTransform:"capitalize"},children:g.toLocaleLowerCase()},`${l}-${g}`))})}),b.jsxs("td",{className:"p-5 flex flex-row gap-1",children:[b.jsx(P8,{user:a,initActiveRoles:d}),b.jsxs(Q8,{children:[b.jsx(Z8,{asChild:!0,children:b.jsxs(kn,{className:"hover:cursor-pointer hover:text-red-300",children:[b.jsx(pe,{id:"favs.btn"}),b.jsx(VM,{})]})}),b.jsxs(t9,{children:[b.jsxs(n9,{children:[b.jsx(i9,{children:b.jsx(pe,{id:"favs.title"})}),b.jsx(s9,{children:b.jsx(pe,{id:"favs.desc"})})]}),b.jsxs(r9,{children:[b.jsx(sx,{asChild:!0,children:b.jsx(kn,{variant:"outline",children:b.jsx(pe,{id:"favs.cancel"})})}),b.jsx(sx,{asChild:!0,children:b.jsx(kn,{onClick:()=>i(a.id),children:b.jsx(pe,{id:"favs.confirm"})})})]})]})]})]})]},l)})})]})})}const o9=["books","characters","spells","houses"];function l9(){return b.jsxs("main",{className:"container mx-auto py-12 px-4",children:[b.jsxs("section",{className:"text-center",children:[b.jsx("h2",{className:"text-3xl font-semibold mb-6",children:b.jsx(pe,{id:"home.title"})}),b.jsx("p",{className:"text-lg mb-8",children:b.jsx(pe,{id:"home.description"})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-10 mb-10",children:o9.map(t=>b.jsx(c9,{section:t},`home-card-${t}`))}),b.jsxs(yo,{className:"hover:scale-103 hover:border-yellow-400 hover:transition-all hover:duration-100 transform transition bg-neutral-50 dark:bg-transparent",children:[b.jsxs(_o,{className:"h-1/2",children:[b.jsx(bo,{className:"dark:text-gray-100",children:b.jsx(pe,{id:"notfound.404"})}),b.jsx(Oc,{children:b.jsx(pe,{id:"notfound.404"})})]}),b.jsx(Eo,{children:b.jsx(gc,{to:"/dsaas",className:"dark:text-gray-400 hover:text-yellow-400 dark:hover:text-yellow-400",children:b.jsx(pe,{id:"home.more"})})})]})]})}const c9=({section:t})=>b.jsxs(yo,{className:"hover:scale-103 hover:border-yellow-400 hover:transition-all hover:duration-100 transform transition bg-neutral-50 dark:bg-transparent",children:[b.jsxs(_o,{className:"h-1/2",children:[b.jsx(bo,{className:"dark:text-gray-100",children:b.jsx(pe,{id:`navbar.link.${t}`})}),b.jsx(Oc,{children:b.jsx(pe,{id:`home.${t}`})})]}),b.jsx(Eo,{children:b.jsx(gc,{to:`/${t}`,className:"dark:text-gray-400 hover:text-yellow-400 dark:hover:text-yellow-400",children:b.jsx(pe,{id:"home.more"})})})]}),u9=({house:t})=>{const{user:e}=_.useContext(an),{colors:n,house:i,animal:a,founder:l}=t,{house:u}=Gr(v=>v.house),{color:f,backgroundColor:d}=_.useMemo(()=>My[i]||{color:"#000",backgroundColor:"#FFF"},[i]),m=zr(),g=v=>{const y=u===v?"":v;m(n1({userId:e.uid,house:y}))};return b.jsxs("div",{className:"flex flex-col items-center justify-center border rounded-lg shadow-lg p-6 mr-1 hover:scale-105 cursor-pointer transition-transform duration-150",style:{borderColor:f,backgroundColor:d},onClick:()=>g(i),children:[b.jsx("span",{className:"text-4xl",children:t.emoji}),b.jsx("h3",{className:"text-2xl font-bold mt-2 text-black",children:i}),b.jsxs("p",{className:"text-lg text-gray-700 mt-1",children:[b.jsx(pe,{id:"houses.founder"}),": ",l]}),b.jsxs("p",{className:"text-md text-gray-600 mt-1",children:[b.jsx(pe,{id:"houses.animal"}),": ",a]}),b.jsx("div",{className:"flex mt-2",children:n.map((v,y)=>b.jsx("span",{className:"w-6 h-6 rounded-full border-gray-300",style:{backgroundColor:v}},y))})]})},f9={items:[],loading:!1,error:null},gf=Ni("houses/fetch",async(t,{rejectWithValue:e})=>new Promise((n,i)=>fetch(`${HA}/${t}/houses`).then(a=>{if(!a.ok)i(new Error(`Failed to fetch, status code: [${a.status}]`));else return a.json()}).then(a=>n(a)).catch(a=>e(a.message))).catch(n=>e(n.message))),d9=Hd({name:"houses",initialState:f9,reducers:{},extraReducers(t){t.addCase(gf.pending,e=>{e.loading=!0,e.error=null}),t.addCase(gf.fulfilled,(e,n)=>{e.items=n.payload,e.loading=!1,e.error=null}),t.addCase(gf.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),h9=d9.reducer;function m9(){const{items:t,error:e}=Gr(l=>l.houses),{locale:n}=_.useContext(lo),{user:i}=_.useContext(an),a=zr();return _.useEffect(()=>{i&&a(gf(n))},[n,i,a]),e?b.jsx(Bd,{message:e}):b.jsx("section",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full h-full p-6",children:t&&t.map((l,u)=>b.jsx(u9,{house:l},u))})}function sd({className:t,type:e,...n}){return b.jsx("input",{type:e,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function p9({className:t,...e}){const[n,i]=_.useState(""),[a,l]=_.useState(""),[u,f]=_.useState(""),d=oo(),m=async g=>{g.preventDefault(),f("");try{await Fa.signIn(n,a),d("/dashboard")}catch(v){console.error("Error al iniciar sesión:",v),f(v.message)}};return b.jsx("div",{className:qe("flex flex-col gap-6",t),...e,children:b.jsxs(yo,{children:[b.jsxs(_o,{children:[b.jsx(bo,{className:"text-2xl",children:b.jsx(pe,{id:"navbar.link.signin"})}),b.jsx(Oc,{children:b.jsx(pe,{id:"app.login.msg"})})]}),b.jsx(Eo,{children:b.jsxs("form",{onSubmit:m,children:[b.jsxs("div",{className:"flex flex-col gap-6",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx(oc,{htmlFor:"email",children:"Email"}),b.jsx(sd,{id:"email",type:"email",placeholder:"m@example.com",value:n,onChange:g=>i(g.target.value),required:!0})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("div",{className:"flex items-center",children:b.jsx(oc,{htmlFor:"password",children:"Password"})}),b.jsx(sd,{id:"password",type:"password",value:a,placeholder:"Password",onChange:g=>l(g.target.value),required:!0})]}),b.jsx(kn,{type:"submit",className:"w-full",children:b.jsx(pe,{id:"navbar.link.signin"})}),u&&b.jsx("p",{className:"error-message",children:u})]}),b.jsxs("div",{className:"mt-4 text-center text-sm",children:[b.jsx(pe,{id:"app.login.notAccount"})," ",b.jsx(gc,{to:"/signup",className:"underline underline-offset-4",children:b.jsx(pe,{id:"navbar.link.signup"})})]})]})})]})})}function g9(){return b.jsx("div",{className:"flex w-full items-start justify-center p-6 md:p-10",children:b.jsx("div",{className:"w-full max-w-sm",children:b.jsx(p9,{})})})}function v9(){const t=oo();return b.jsx("div",{className:"flex flex-col items-center justify-center dark:text-white",children:b.jsxs("div",{className:"text-center",children:[b.jsx(dx,{className:"w-16 h-16 text-yellow-400 animate-pulse"}),b.jsx("h1",{className:"mt-4 text-4xl font-bold tracking-widest",children:b.jsx(pe,{id:"notfound.404"})}),b.jsx("p",{className:"mt-2 text-lg text-gray-300",children:b.jsx(pe,{id:"notfound.title"})}),b.jsx("p",{className:"mt-1 text-gray-400 italic",children:b.jsx(pe,{id:"notfound.description"})}),b.jsx("button",{onClick:()=>t("/"),className:"mt-6 px-6 py-3 bg-yellow-600 text-black font-semibold rounded-lg shadow-lg hover:bg-yellow-500 transition-all cursor-pointer",children:b.jsx(pe,{id:"notfound.button"})})]})})}function y9({className:t,...e}){const[n,i]=_.useState(""),[a,l]=_.useState(""),[u,f]=_.useState(""),[d,m]=_.useState(""),g=oo(),v=async y=>{y.preventDefault(),f("");try{const S=await Fa.signUp(n,a);await jg.setUserRoles(S.user.uid,{email:S.user.email,roles:[Hi.USER]}),await jg.restoreUserAppData(S.user.uid),m("Registro exitoso. Redirigiendo a los libros..."),setTimeout(()=>{g("/books")},2e3)}catch(S){console.error("Error al registrarse:",S),f(S.message)}};return b.jsx("div",{className:qe("flex flex-col gap-6",t),...e,children:b.jsxs(yo,{children:[b.jsxs(_o,{children:[b.jsx(bo,{className:"text-2xl",children:b.jsx(pe,{id:"navbar.link.signup"})}),b.jsx(Oc,{children:b.jsx(pe,{id:"app.signup.msg"})})]}),b.jsx(Eo,{children:b.jsx("form",{onSubmit:v,children:b.jsxs("div",{className:"flex flex-col gap-6",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx(oc,{htmlFor:"email",children:"Email"}),b.jsx(sd,{id:"email",type:"email",placeholder:"m@example.com",value:n,onChange:y=>i(y.target.value),required:!0})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("div",{className:"flex items-center",children:b.jsx(oc,{htmlFor:"password",children:"Password"})}),b.jsx(sd,{id:"password",type:"password",value:a,onChange:y=>l(y.target.value),required:!0})]}),b.jsx(kn,{type:"submit",className:"w-full",children:b.jsx(pe,{id:"navbar.link.signup"})}),u&&b.jsx("p",{className:"text-red-400",children:u}),d&&b.jsx("p",{className:"text-green-700",children:d})]})})})]})})}function _9(){return b.jsx("div",{className:"flex w-full items-start justify-center p-6 md:p-10",children:b.jsx("div",{className:"w-full max-w-sm",children:b.jsx(y9,{})})})}const{reducer:b9,fetchEntities:E9,fetchEntitiesFavs:S9,updateEntitiesFavs:w9}=Ly("spells","spells"),ax=({spell:t})=>{const{favs:e}=Gr(l=>l.spells),{user:n}=_.useContext(an),i=zr(),a=_.useCallback(()=>{const l=e.includes(t.index)?e.filter(u=>u!==t.index):[...e,t.index];i(w9({userId:n.uid,favs:l}))},[e]);return b.jsx(yo,{className:"p-0 m-0 flex flex-row overflow-hidden w-1/4",children:b.jsxs(_o,{className:"w-full p-4",children:[b.jsx(bo,{children:b.jsx("h3",{className:"text-accent-foreground",children:t.spell})}),b.jsxs(Eo,{className:"text-balance p-0 h-full flex flex-col justify-between gap-3",children:[b.jsx(Oc,{className:"text-sm text-muted-foreground",children:t.use}),b.jsx(kn,{variant:"outline",className:"cursor-pointer mt-2",onClick:a,children:b.jsx(fx,{fill:`${e.includes(t.index)?"currentColor":"none"}`})})]})]})})};function x9(){const{items:t,favs:e,error:n}=Gr(f=>f.spells),{locale:i}=_.useContext(lo),{user:a}=_.useContext(an),l=zr();_.useEffect(()=>{a&&(l(E9(i)),l(S9(a.uid)))},[i]);const u=_.useMemo(()=>t.filter(f=>e.includes(f.index)),[t,e]);return n?b.jsx(Bd,{message:n}):b.jsxs(w1,{defaultValue:"all",className:"w-full",children:[b.jsxs(x1,{className:"grid w-full grid-cols-2",children:[b.jsx(Za,{value:"all",children:b.jsx(pe,{id:"tabs.all"})}),b.jsx(Za,{value:"favs",children:b.jsx(pe,{id:"tabs.favs"})})]}),b.jsx(rd,{value:"all",className:"mt-5",children:b.jsx("section",{className:"flex flex-wrap justify-center w-full h-full gap-x-12 gap-y-4",children:t&&t.map(f=>b.jsx(ax,{spell:f},f.index))})}),b.jsx(rd,{value:"favs",className:"mt-5",children:b.jsx("section",{className:"flex flex-wrap justify-center w-full h-full gap-x-12 gap-y-4",children:u&&u.map(f=>b.jsx(ax,{spell:f},f.index))})})]})}const ox=({children:t})=>{const{user:e}=_.useContext(an);return e?b.jsx(Cf,{to:"/"}):t};function C9(){return b.jsxs("main",{className:"h-screen w-screen",children:[b.jsx(yG,{}),b.jsx("section",{className:"h-9/10 w-full p-10 box-border scroll-smooth overflow-auto",children:b.jsx(AM,{fallback:b.jsx("div",{children:"Something went wrong"}),children:b.jsxs(rj,{children:[b.jsx(Xn,{path:"/",element:b.jsx(l9,{})}),b.jsx(Xn,{path:"/login",element:b.jsx(ox,{children:b.jsx(g9,{})})}),b.jsx(Xn,{path:"/signup",element:b.jsx(ox,{children:b.jsx(_9,{})})}),b.jsx(Xn,{path:"/books",element:b.jsx(nf,{children:b.jsx(d8,{})})}),b.jsx(Xn,{path:"/characters",element:b.jsx(nf,{children:b.jsx(_8,{})})}),b.jsx(Xn,{path:"/spells",element:b.jsx(nf,{children:b.jsx(x9,{})})}),b.jsx(Xn,{path:"/houses",element:b.jsx(nf,{children:b.jsx(m9,{})})}),b.jsx(Xn,{path:"/dashboard",element:b.jsx(_G,{children:b.jsx(a9,{})})}),b.jsx(Xn,{path:"*",element:b.jsx(v9,{})})]})})})]})}const T9=t=>{const e=({children:n})=>b.jsx(b.Fragment,{children:n});return t.reduce((n,[i,a={}])=>({children:l})=>b.jsx(n,{children:b.jsx(i,{...a,children:l})}),e)},R9=K6({reducer:{books:c8,users:x8,spells:b9,characters:p8,houses:h9,house:gG}}),A9=T9([[y6,{store:R9}],[UP,{defaultTheme:"system",storageKey:"vite-ui-theme"}],[jj,{storageKey:"vite-locale"}],[r6],[Rj,{basename:"/potter-app"}]]),N9=()=>b.jsx(A9,{children:b.jsx(C9,{})});TM.createRoot(document.getElementById("root")).render(b.jsx(N9,{}));export{an as A,kn as B,yo as C,fx as H,pe as M,zr as a,L9 as b,_o as c,bo as d,Eo as e,Oc as f,b as j,_ as r,Gr as u};
